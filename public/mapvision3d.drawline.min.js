const _0x3ee1=['srcObject','bitrate','pcClient','has','Rotate','SecondaryButton','_command','MouseButtonsMask','RightAlt','error','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','GetCurrentPosition','finally','candidate','data','createOffer','kind','BackSpace','protocol','signaling\x20state\x20change:','_callback','OverLayerRemoveObjects','aggregateStats','SetObjectsHighlightByPrefix','parse','_webSocket','FlyToPosition','hidden','_connectWebsocket','playoutDelayHint','reason','setUint16','SetHighlightRegion','frameHeight','ResumeRouteModel','FindObjectByPrefix','_onMouseUpCallback','onmousewheel','PauseRouteModel','roll','substring','MouseLeave','FreezeFrame','_httpRequest','Polygon','UpdateObjectStyle','avgBitrate','addIceCandidate','onmouseenter','framerate','enableMouse','setRequestHeader','aggregatedStats','geom','stringify','ToClientMessageType','Shift','GetObjectsVisible','CreateObject','SetBitrate','receiveTime','sdp','buttons','WebSocket','KeyUp','SetObjectHighlight','\x20-\x20','StreamVideoOpen','SetBuildingWkVisible','forEach','onAggregatedStats','onVideoInitialised','application/x-www-form-urlencoded','PrimaryButton','dcClient','OpenStatus','handleCandidateFromServer','XMLHttpRequest','->\x20SS:\x20Command:\x0a','_onMouseDown','#ff0000','getReceivers','_mouseDownStatus','frameWidth','CommandType','cmd','sdpConstraints','UEPreCaptureTimeMs','includes','onerror','Bad\x20Request','UnRegisterEvent','length','->\x20SS:\x20UnfreezeFrame:\x0a','_webRtcPlayerHtmlElement','playerCount','GetHomePosition','onDataChannelMessage','PostCaptureTimeMs','code','SetParameters','clientHeight','_onWebRtcAnswer','visible','track',')\x20closed','sdpSemantics','SetFrameDisplayDeltaTime','StreamVideoClose','/aimapvision3d','SplitDynamicFloor','FrameDisplayDeltaTimeMs','UpdateObject','highBitrate','GetFloorRoomName','SplitDynamicBuilding','OverLayerUpdateObject','OverLayerStopEdit','PauseRoute','StreamVideoCloseAll','offsetY','pitch','_pressMouseButtons','Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.','_requestQualityControl','Control','useinbandfec=1','UEPreEncodeTimeMs','LayerSetVisible','ResetObjects','PauseSequence','iceCandidate','LayerReLoad','GetFloorNames','receiveAnswer','enableKeyboard','cfg','getElementsByTagName','SetMousePositionCallback','_onMouseDownCallback','FourthButton','WS_OPEN_STATE','oniceconnectionstatechange','ICE\x20candidate:\x20','LineString','prototype','_createWebRtcPlayer','indexOf','Events','GetScrrenPosition','muted','videoWidth','FifthButton','warn','videoHeight','Open','addEventListener','error\x20_webRtcPlayerObj\x20is\x20null','onopen','pressMouseButtons','你的浏览器不支持XMLHttp','IsPlayingSequence','Clear','UpdateObjectVisibleByPrefix','OverLayerRemoveObject','audio','_releaseMouseButtons','onicegatheringstatechange','toLowerCase','ctrlKey','RequestQualityControl','PlaySequence','releaseMouseButtons','sendrecv','&token=','_sendInputData','OverLayerCreateObjects','name','No\x20data\x20channel','OverLayerCreateObject','GetFloorDeviceNames','video_label','Parameter\x20ERROR','UEPostEncodeTimeMs','_unregisterEvents','SetFloorVisible','PlayRouteModel','UETransmissionTimeMs','http://','LayersLoad','TestStartTimeMs','FlyToObject','LayerSelectObject','FlyToObjectByType','requestVideoFrameCallback','arraybuffer','SetGroundVisible','highlight','OverLayerStartEdit','mediaDevices','GetDownFloorNames','bytesReceivedStart','onDataChannelConnected','ICE\x20candidate\x20successfully\x20added','_registerTouchEvents','SetScenceSunInfo','type','_onMouseSelectedObj','gid','keyCode','MouseDown','///','decode','UpdateObjects','StartRoute','FindObjectById','BrowserReceiptTimeMs','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','charCode','GetFloorRoomVisible','bytesReceived','Created\x20datachannel\x20(','avgframerate','QualityControlOwnership','->\x20SS:\x20FreezeFrame:\x0a','close','webRtcPlayer','SplitFloorReset','setUint8','onmousemove','label','Point','readyState','position','video','buffer','GET','projectId','visibility','yaw','oncontextmenu','log','Couldn\x27t\x20create\x20offer','GetFloorVisible','StopRouteModel','Reset','GetUpFloorNames','offsetX','candidate-pair','floor','onreadystatechange','GetFloorDeviceVisible','latencyTestTimings','aggregateStatsIntervalId','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000','streams','ResetHome','aimapvision3d\x20server\x20is\x20not\x20started.','slice','framesDecodedStart','NorthControl','MouseButton','distance','peerConnectionOptions','ActiveXObject','objects','SetResolution','->\x20SS:\x20QualityControlOwnership:\x0a','onicecandidate','_normalizeAndQuantizeSigned','this._webSocket\x20error:\x20','OverLayerFindObject','For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27','data\x20channel\x20(','GetFloorRoomNum','Model3D','json','hostname','onkeydown','_normalizeAndQuantizeUnsigned','IsPausedSequence','utf-16','repeat','framesReceived','UEReceiptTimeMs','GetFloorNum','SetPosition','GetUpFloorNum','GetBuildingName','View3d','FlyToObjectById','timestampStart','GetBuildingVisible','offerExtmapAllowMixed','RePlayRouteModel','_registerMouseEvents','\x20_webSocket\x20closed\x20','getTracks','ClearHighlight','DOMMouseScroll','receiveToCompositeMs','style','ControlRight','useMic','UpdateObjectVisible','IsClose','addTransceiver','UnfreezeFrame','push','SplitBuilding','ResetAllBuildings','clientWidth','url','token','OnAllLatencyTimingsReady','open','createElement','GetFloorRoomNames','setInt16','AuxiliaryButton','_onMouseWheel','SplitBuildingReset','expectedDisplayTime','onMouse','answer','_registerCallback','onWebRtcCandidate','ClearHighlightRegion','_onWebRtcIce','PreEncodeTimeMs','_webRtcPlayerObj','GetBuildingNum','info','onmouseup','Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.','preventDefault','getUserMedia','timestamp','_emiUICommand','SetObjectsHighlight','highFramerate','MouseEnter','_onMouseMoveCallback','OverLayerRemoveObjectsById','onclose','lowBitrate','showlocation','MessageType','replace','lowFramerate','framesDecoded','ice\x20connection\x20state\x20change:','GetBuildingNames','LayerRemove','GetScenceSunInfo','127.0.0.1','onsignalingstatechange','send','setRemoteDescription','PlayRoute','SetMouseCallback','play','Audio','currentRoundTripTime','movementY','_requestInitialSettings','_onMouseUp','OpenMap','onmousedown','Command'];const _0x532c=function(_0x3ee1b3,_0x532cc2){_0x3ee1b3=_0x3ee1b3-0x0;let _0x334943=_0x3ee1[_0x3ee1b3];return _0x334943;};(function(_0xf09651,_0x4b7028){if(typeof define==='function'&&define['amd']){define(['./adapter'],_0x4b7028);}else if(typeof exports==='object'){module['exports']=_0x4b7028(require('./adapter'));}else{_0xf09651[_0x532c('0xe2')]=_0x4b7028(_0xf09651['adapter']);}}(this,function(_0x533150){function _0x4039e1(_0x516e57){_0x516e57=_0x516e57||{};var _0x169538=this;this['cfg']=_0x516e57[_0x532c('0x107')]||{};this[_0x532c('0x88')][_0x532c('0x6a')]='unified-plan';this['cfg'][_0x532c('0x125')]=![];this[_0x532c('0x2')]=null;this[_0x532c('0x4a')]=null;this['tnClient']=null;this[_0x532c('0x56')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x46be39=new URLSearchParams(window['location']['search']);this[_0x532c('0x12f')]=_0x46be39[_0x532c('0x3')](_0x532c('0x12f'));if(!this[_0x532c('0x12f')]){console['log'](_0x532c('0x7b'));}let _0x26ef53=location['hostname']==='localhost'||location[_0x532c('0x115')]===_0x532c('0x163');let _0x2d2d51=location[_0x532c('0x12')]==='https:';if(this['useMic']&&!_0x26ef53&&!_0x2d2d51){this[_0x532c('0x12f')]=![];console['error'](_0x532c('0xd9'));console[_0x532c('0x9')](_0x532c('0x110'));}this['latencyTestTimings']={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this[_0x532c('0xbe')]=null;this['UEReceiptTimeMs']=null;this[_0x532c('0x57')]=null;this['UEPostCaptureTimeMs']=null;this[_0x532c('0x7f')]=null;this[_0x532c('0xb7')]=null;this['UETransmissionTimeMs']=null;this[_0x532c('0xd8')]=null;this['FrameDisplayDeltaTimeMs']=null;},'SetUETimings':function(_0x2f01b3){this[_0x532c('0x11c')]=_0x2f01b3['ReceiptTimeMs'];this['UEPreCaptureTimeMs']=_0x2f01b3['PreCaptureTimeMs'];this['UEPostCaptureTimeMs']=_0x2f01b3[_0x532c('0x62')];this[_0x532c('0x7f')]=_0x2f01b3[_0x532c('0x149')];this[_0x532c('0xb7')]=_0x2f01b3['PostEncodeTimeMs'];this[_0x532c('0xbb')]=_0x2f01b3['TransmissionTimeMs'];this[_0x532c('0xd8')]=Date['now']();this[_0x532c('0x13a')](this);},'SetFrameDisplayDeltaTime':function(_0x1700d4){if(this[_0x532c('0x6f')]==null){this['FrameDisplayDeltaTimeMs']=Math['round'](_0x1700d4);this[_0x532c('0x13a')](this);}},'OnAllLatencyTimingsReady':function(_0x20f1b7){}};createWebRtcVideo=function(){var _0x246175=document[_0x532c('0x13c')](_0x532c('0xea'));_0x246175['id']='streamingVideo';_0x246175['playsInline']=!![];_0x246175['disablepictureinpicture']=!![];_0x246175[_0x532c('0x96')]=![];_0x246175[_0x532c('0x9c')]('loadedmetadata',function(_0x3f4e2b){if(_0x169538['onVideoInitialised']){_0x169538['onVideoInitialised']();}},!![]);if(_0x532c('0xc2')in HTMLVideoElement['prototype']){const _0x53855b=(_0x25efd0,_0x2f4b0e)=>{if(_0x2f4b0e[_0x532c('0x3c')]&&_0x2f4b0e[_0x532c('0x142')]){const _0x406580=_0x2f4b0e['presentationTime']-_0x2f4b0e[_0x532c('0x3c')];_0x169538[_0x532c('0x34')]['receiveToCompositeMs']=_0x406580;}_0x246175[_0x532c('0xc2')](_0x53855b);};_0x246175['requestVideoFrameCallback'](_0x53855b);}return _0x246175;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x590d6d){console[_0x532c('0x14c')](_0x532c('0x13'),_0x590d6d);};oniceconnectionstatechange=function(_0x3c8421){console[_0x532c('0x14c')](_0x532c('0x15f'),_0x3c8421);};onicegatheringstatechange=function(_0xe36348){console['info']('ice\x20gathering\x20state\x20change:',_0xe36348);};handleOnTrack=function(_0x53f902){if(_0x53f902['track']){}if(_0x53f902[_0x532c('0x68')]['kind']=='audio'){handleOnAudioTrack(_0x53f902[_0x532c('0xff')][0x0]);return;}else _0x53f902['track'][_0x532c('0x10')]=='video'&&_0x169538[_0x532c('0xea')]['srcObject']!==_0x53f902['streams'][0x0];{_0x169538[_0x532c('0xea')]['srcObject']=_0x53f902['streams'][0x0];return;}};handleOnAudioTrack=function(_0x5e552c){if(_0x169538['video'][_0x532c('0x0')]==_0x5e552c){return;}else if(_0x169538['video'][_0x532c('0x0')]&&_0x169538['video'][_0x532c('0x0')]!==_0x5e552c){let _0x1d406f=document[_0x532c('0x13c')](_0x532c('0x16a'));_0x1d406f['autoplay']=!![];_0x1d406f[_0x532c('0x0')]=_0x5e552c;_0x1d406f['play']();console[_0x532c('0xf1')](_0x532c('0x14e'));}};setupDataChannel=function(_0x100b0d,_0x2d5a65,_0x25ac60){try{let _0x3e3a72=_0x100b0d['createDataChannel'](_0x2d5a65,_0x25ac60);console['log'](_0x532c('0xdd')+_0x2d5a65+')');_0x3e3a72['binaryType']=_0x532c('0xc3');_0x3e3a72[_0x532c('0x9e')]=function(_0x8f44bf){console[_0x532c('0xf1')](_0x532c('0x111')+_0x2d5a65+')\x20connect');if(_0x169538['onDataChannelConnected']){_0x169538[_0x532c('0xca')]();}};_0x3e3a72['onclose']=function(_0x2d9829){console['log']('data\x20channel\x20('+_0x2d5a65+_0x532c('0x69'));};_0x3e3a72['onmessage']=function(_0xc2535){if(_0x169538['onDataChannelMessage'])_0x169538['onDataChannelMessage'](_0xc2535['data']);};return _0x3e3a72;}catch(_0x4d3f93){console[_0x532c('0x99')](_0x532c('0xb2'),_0x4d3f93);return null;}};onicecandidate=function(_0xbba90f){console[_0x532c('0xf1')]('ICE\x20candidate',_0xbba90f);if(_0xbba90f['candidate']&&_0xbba90f['candidate'][_0x532c('0xd')]){_0x169538['onWebRtcCandidate'](_0xbba90f['candidate']);}};handleCreateOffer=function(_0x2db681){_0x2db681['createOffer'](_0x169538[_0x532c('0x56')])['then'](function(_0x2b6aec){mungeSDPOffer(_0x2b6aec);_0x2db681['setLocalDescription'](_0x2b6aec);if(_0x169538['onWebRtcOffer']){_0x169538['onWebRtcOffer'](_0x2b6aec);}},function(){console['warn'](_0x532c('0xf2'));});};mungeSDPOffer=function(_0x1f75cc){_0x1f75cc[_0x532c('0x3d')]=_0x1f75cc['sdp']['replace'](_0x532c('0x7e'),_0x532c('0xfe'));};setupPeerConnection=function(_0x589e76){if(_0x589e76[_0x532c('0x3b')])console[_0x532c('0xf1')]('Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function');_0x589e76[_0x532c('0x164')]=onsignalingstatechange;_0x589e76[_0x532c('0x8e')]=oniceconnectionstatechange;_0x589e76[_0x532c('0xa7')]=onicegatheringstatechange;_0x589e76['ontrack']=handleOnTrack;_0x589e76[_0x532c('0x10c')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x169538['aggregatedStats'])_0x169538['aggregatedStats']={};return function(_0x39dfa9){let _0x2a23d2={};_0x39dfa9[_0x532c('0x45')](_0x19465b=>{if(_0x19465b[_0x532c('0xce')]=='inbound-rtp'&&!_0x19465b['isRemote']&&(_0x19465b['mediaType']=='video'||_0x19465b['id'][_0x532c('0xa8')]()[_0x532c('0x58')](_0x532c('0xea')))){_0x2a23d2['timestamp']=_0x19465b[_0x532c('0x151')];_0x2a23d2[_0x532c('0xdc')]=_0x19465b['bytesReceived'];_0x2a23d2[_0x532c('0x15e')]=_0x19465b['framesDecoded'];_0x2a23d2['packetsLost']=_0x19465b['packetsLost'];_0x2a23d2[_0x532c('0xc9')]=_0x169538[_0x532c('0x34')]&&_0x169538['aggregatedStats']['bytesReceivedStart']?_0x169538['aggregatedStats'][_0x532c('0xc9')]:_0x19465b[_0x532c('0xdc')];_0x2a23d2['framesDecodedStart']=_0x169538[_0x532c('0x34')]&&_0x169538['aggregatedStats']['framesDecodedStart']?_0x169538[_0x532c('0x34')]['framesDecodedStart']:_0x19465b[_0x532c('0x15e')];_0x2a23d2[_0x532c('0x123')]=_0x169538[_0x532c('0x34')]&&_0x169538[_0x532c('0x34')][_0x532c('0x123')]?_0x169538[_0x532c('0x34')][_0x532c('0x123')]:_0x19465b['timestamp'];if(_0x169538['aggregatedStats']&&_0x169538[_0x532c('0x34')][_0x532c('0x151')]){if(_0x169538[_0x532c('0x34')][_0x532c('0xdc')]){_0x2a23d2[_0x532c('0x1')]=0x8*(_0x2a23d2['bytesReceived']-_0x169538[_0x532c('0x34')]['bytesReceived'])/(_0x2a23d2[_0x532c('0x151')]-_0x169538[_0x532c('0x34')][_0x532c('0x151')]);_0x2a23d2['bitrate']=Math['floor'](_0x2a23d2[_0x532c('0x1')]);_0x2a23d2[_0x532c('0x159')]=_0x169538['aggregatedStats'][_0x532c('0x159')]&&_0x169538['aggregatedStats'][_0x532c('0x159')]<_0x2a23d2['bitrate']?_0x169538['aggregatedStats'][_0x532c('0x159')]:_0x2a23d2['bitrate'];_0x2a23d2['highBitrate']=_0x169538['aggregatedStats']['highBitrate']&&_0x169538[_0x532c('0x34')][_0x532c('0x71')]>_0x2a23d2[_0x532c('0x1')]?_0x169538[_0x532c('0x34')][_0x532c('0x71')]:_0x2a23d2['bitrate'];}if(_0x169538['aggregatedStats']['bytesReceivedStart']){_0x2a23d2[_0x532c('0x2e')]=0x8*(_0x2a23d2['bytesReceived']-_0x169538[_0x532c('0x34')]['bytesReceivedStart'])/(_0x2a23d2[_0x532c('0x151')]-_0x169538[_0x532c('0x34')]['timestampStart']);_0x2a23d2['avgBitrate']=Math[_0x532c('0xf9')](_0x2a23d2[_0x532c('0x2e')]);}if(_0x169538['aggregatedStats']['framesDecoded']){_0x2a23d2['framerate']=(_0x2a23d2[_0x532c('0x15e')]-_0x169538[_0x532c('0x34')][_0x532c('0x15e')])/((_0x2a23d2['timestamp']-_0x169538['aggregatedStats'][_0x532c('0x151')])/0x3e8);_0x2a23d2[_0x532c('0x31')]=Math[_0x532c('0xf9')](_0x2a23d2['framerate']);_0x2a23d2['lowFramerate']=_0x169538['aggregatedStats']['lowFramerate']&&_0x169538[_0x532c('0x34')]['lowFramerate']<_0x2a23d2['framerate']?_0x169538[_0x532c('0x34')][_0x532c('0x15d')]:_0x2a23d2[_0x532c('0x31')];_0x2a23d2[_0x532c('0x154')]=_0x169538['aggregatedStats'][_0x532c('0x154')]&&_0x169538['aggregatedStats'][_0x532c('0x154')]>_0x2a23d2[_0x532c('0x31')]?_0x169538['aggregatedStats'][_0x532c('0x154')]:_0x2a23d2[_0x532c('0x31')];}if(_0x169538[_0x532c('0x34')][_0x532c('0x103')]){_0x2a23d2['avgframerate']=(_0x2a23d2[_0x532c('0x15e')]-_0x169538['aggregatedStats']['framesDecodedStart'])/((_0x2a23d2[_0x532c('0x151')]-_0x169538['aggregatedStats'][_0x532c('0x123')])/0x3e8);_0x2a23d2[_0x532c('0xde')]=Math[_0x532c('0xf9')](_0x2a23d2['avgframerate']);}}}if(_0x19465b[_0x532c('0xce')]==_0x532c('0x68')&&(_0x19465b['trackIdentifier']==_0x532c('0xb5')||_0x19465b['kind']==_0x532c('0xea'))){_0x2a23d2['framesDropped']=_0x19465b['framesDropped'];_0x2a23d2[_0x532c('0x11b')]=_0x19465b[_0x532c('0x11b')];_0x2a23d2['framesDroppedPercentage']=_0x19465b['framesDropped']/_0x19465b['framesReceived']*0x64;_0x2a23d2['frameHeight']=_0x19465b['frameHeight'];_0x2a23d2['frameWidth']=_0x19465b[_0x532c('0x53')];_0x2a23d2['frameHeightStart']=_0x169538['aggregatedStats']&&_0x169538['aggregatedStats']['frameHeightStart']?_0x169538[_0x532c('0x34')]['frameHeightStart']:_0x19465b[_0x532c('0x21')];_0x2a23d2['frameWidthStart']=_0x169538['aggregatedStats']&&_0x169538['aggregatedStats']['frameWidthStart']?_0x169538['aggregatedStats']['frameWidthStart']:_0x19465b['frameWidth'];}if(_0x19465b[_0x532c('0xce')]==_0x532c('0xf8')&&_0x19465b['hasOwnProperty']('currentRoundTripTime')&&_0x19465b[_0x532c('0x16b')]!=0x0){_0x2a23d2[_0x532c('0x16b')]=_0x19465b['currentRoundTripTime'];}});if(_0x169538[_0x532c('0x34')][_0x532c('0x12c')]){_0x2a23d2['receiveToCompositeMs']=_0x169538[_0x532c('0x34')]['receiveToCompositeMs'];_0x169538['latencyTestTimings'][_0x532c('0x6b')](_0x169538['aggregatedStats'][_0x532c('0x12c')]);}_0x169538[_0x532c('0x34')]=_0x2a23d2;if(_0x169538['onAggregatedStats'])_0x169538[_0x532c('0x46')](_0x2a23d2);};};setupTracksToSendAsync=async function(_0x5c3f86){_0x5c3f86[_0x532c('0x132')](_0x532c('0xea'),{'direction':'recvonly'});if(!_0x169538[_0x532c('0x12f')]){_0x5c3f86[_0x532c('0x132')]('audio',{'direction':'recvonly'});}else{let _0x631cbc=_0x169538['useMic']?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x1e0b65=await navigator[_0x532c('0xc7')][_0x532c('0x150')]({'video':![],'audio':_0x631cbc});if(_0x1e0b65){for(const _0x15245d of _0x1e0b65[_0x532c('0x129')]()){if(_0x15245d['kind']&&_0x15245d[_0x532c('0x10')]==_0x532c('0xa5')){_0x5c3f86['addTransceiver'](_0x15245d,{'direction':_0x532c('0xad')});}}}else{_0x5c3f86[_0x532c('0x132')](_0x532c('0xa5'),{'direction':'recvonly'});}}};this['startLatencyTest']=function(_0xe4ea69){if(!_0x169538[_0x532c('0xea')]){return;}_0x169538[_0x532c('0xfc')][_0x532c('0xf5')]();_0x169538['latencyTestTimings']['TestStartTimeMs']=Date['now']();_0xe4ea69(_0x169538[_0x532c('0xfc')]['TestStartTimeMs']);};this['handleCandidateFromServer']=function(_0x23ba7a){console[_0x532c('0xf1')](_0x532c('0x8f'),_0x23ba7a);let _0x452cad=new RTCIceCandidate(_0x23ba7a);_0x169538['pcClient'][_0x532c('0x2f')](_0x452cad)['then'](_0xe8e44c=>{console[_0x532c('0xf1')](_0x532c('0xcb'));});};this[_0x532c('0xf')]=function(){if(_0x169538[_0x532c('0x2')]){console[_0x532c('0xf1')]('Closing\x20existing\x20PeerConnection');_0x169538['pcClient'][_0x532c('0xe1')]();_0x169538[_0x532c('0x2')]=null;}_0x169538[_0x532c('0x2')]=new RTCPeerConnection(_0x169538['cfg']);setupTracksToSendAsync(_0x169538['pcClient'])[_0x532c('0xc')](function(){setupPeerConnection(_0x169538[_0x532c('0x2')]);_0x169538['dcClient']=setupDataChannel(_0x169538['pcClient'],'cirrus',_0x169538['dataChannelOptions']);handleCreateOffer(_0x169538['pcClient']);});};this[_0x532c('0x86')]=function(_0x103a04){var _0x2d3b7c=new RTCSessionDescription(_0x103a04);_0x169538[_0x532c('0x2')][_0x532c('0x166')](_0x2d3b7c);let _0x1cc5ff=_0x169538[_0x532c('0x2')][_0x532c('0x51')]();for(let _0xc2b93d of _0x1cc5ff){_0xc2b93d[_0x532c('0x1d')]=0x0;}};this[_0x532c('0xe1')]=function(){if(_0x169538[_0x532c('0x2')]){console['log']('Closing\x20existing\x20peerClient');_0x169538[_0x532c('0x2')][_0x532c('0xe1')]();_0x169538[_0x532c('0x2')]=null;}if(_0x169538[_0x532c('0xfd')])clearInterval(_0x169538['aggregateStatsIntervalId']);};this[_0x532c('0x165')]=function(_0x2ccf9f){if(_0x169538['dcClient']&&_0x169538[_0x532c('0x4a')]['readyState']==_0x532c('0x13b')){_0x169538[_0x532c('0x4a')]['send'](_0x2ccf9f);}};this['getStats']=function(_0xe49c9){if(_0x169538[_0x532c('0x2')]&&_0xe49c9){_0x169538['pcClient']['getStats'](null)['then'](_0x300f85=>{_0xe49c9(_0x300f85);});}};this['aggregateStats']=function(_0x16638d){let _0x5ec8bd=generateAggregatedStatsFunction();let _0x45ce87=()=>{_0x169538['getStats'](_0x5ec8bd);};_0x169538[_0x532c('0xfd')]=setInterval(_0x45ce87,_0x16638d);};};return _0x4039e1;}));'use\x20strict';var MapVision=window['MapVision']||{};MapVision['version']=()=>{return'1.0.1';};MapVision[_0x532c('0x4b')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision[_0x532c('0x94')]={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x532c('0x15b')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x532c('0x7')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision[_0x532c('0x54')]={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'GetBuildVersion':0x186a9,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'FlyToObjectByType':0x1870f,'FlyToObjectByIds':0x18710,'SetMousePositionCallback':0x18712,'SetNorth':0x18713,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'GetScenceSunInfo':0x1872d,'SetScenceSunInfo':0x1872e,'PlayRouteModel':0x18762,'RePlayRouteModel':0x18763,'PauseRouteModel':0x18764,'StopRouteModel':0x18765,'ResumeRouteModel':0x18766,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'StreamVideoCloseAll':0x1877f,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'UpdateObjects':0x187a7,'ResetObjects':0x187a8,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'SetHighlightRegion':0x187b3,'ClearHighlightRegion':0x187b4,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x532c('0xe7')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x532c('0x79')]=0x0;this[_0x532c('0xef')]=0x0;this[_0x532c('0x27')]=0x0;};MapVision['Label']=function(){this[_0x532c('0xce')]=_0x532c('0xe6');this['gid']=0x1;this[_0x532c('0xb1')]='';this[_0x532c('0x12d')]='';this['position']=new MapVision['Position']();};MapVision[_0x532c('0x113')]=function(){this[_0x532c('0xce')]='model';this[_0x532c('0xd0')]=0x1;this[_0x532c('0xb1')]='';this['style']='';this[_0x532c('0xe9')]=new MapVision['Position']();};MapVision[_0x532c('0x90')]=function(){this[_0x532c('0xce')]='linestring';this['gid']=0x1;this[_0x532c('0xb1')]='';this[_0x532c('0x12d')]='';this['geom']=[];};MapVision[_0x532c('0x2c')]=function(){this[_0x532c('0xce')]='polygon';this['gid']=0x1;this[_0x532c('0xb1')]='';this[_0x532c('0x12d')]='';this[_0x532c('0x35')]=[];};MapVision['Building']=function(){this[_0x532c('0xce')]='building';this['gid']=0x0;this['name']='';this['floors']=[{'type':'floor','gid':0x0,'name':''}];this['position']=new MapVision['Position']();};MapVision['WS_OPEN_STATE']=0x1;MapVision[_0x532c('0x121')]=function(_0x2149a){this['id']=_0x2149a['id'];this['name']='MapVision.View3d';this[_0x532c('0x138')]=_0x2149a[_0x532c('0x138')];this['projectId']=_0x2149a[_0x532c('0xed')];this[_0x532c('0x139')]=_0x2149a['token'];this[_0x532c('0x87')]=!![];this[_0x532c('0x32')]=!![];this['_registerCallback']=null;this[_0x532c('0x5e')]=null;this[_0x532c('0x14a')]=null;this[_0x532c('0x19')]=null;this[_0x532c('0x14')]={'id':_0x532c('0x55')};this['_mouseDownStatus']=![];this[_0x532c('0x6')]=null;this[_0x532c('0xcf')]=null;this[_0x532c('0x8b')]=null;this[_0x532c('0x24')]=null;this[_0x532c('0x156')]=null;};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x9b')]=function(_0x1436eb){let _0x4d10aa=this;_0x4d10aa['_registerCallback']=_0x1436eb;if(_0x4d10aa['id']==''||_0x4d10aa['url']==''||_0x4d10aa[_0x532c('0xed')]==''){if(_0x4d10aa['_registerCallback']){const _0x4f6143={'code':0xc9,'msg':_0x532c('0xb6')};_0x4d10aa[_0x532c('0x145')](_0x4f6143);}return;}window[_0x532c('0x3f')]=window['WebSocket']||window['MozWebSocket'];if(!window['WebSocket']){if(_0x4d10aa['_registerCallback']){const _0x4f8940={'code':0x1f9,'msg':_0x532c('0xa')};_0x4d10aa['_registerCallback'](_0x4f8940);}return;}const _0x2d2cdf=_0x4d10aa[_0x532c('0x19')];if(_0x2d2cdf){_0x2d2cdf[_0x532c('0xe1')]();_0x4d10aa['_webSocket']=undefined;console[_0x532c('0xf1')](_0x532c('0x128'));_0x4d10aa[_0x532c('0xb8')](_0x4d10aa[_0x532c('0x5e')]);}if(_0x4d10aa[_0x532c('0x138')][_0x532c('0x93')](_0x532c('0x6d'))<0x0){let _0x192c3d=_0x4d10aa[_0x532c('0x138')][_0x532c('0x15c')]('http:','');_0x192c3d=_0x192c3d[_0x532c('0x15c')]('/','');_0x192c3d='ws://'+_0x192c3d;_0x192c3d=_0x192c3d['replace'](_0x532c('0xd3'),'//');console['log'](_0x192c3d);_0x4d10aa[_0x532c('0x1c')](_0x192c3d);return;}const _0x1ed02f={'httpUrl':_0x4d10aa['url']+'/project3d/getInfo?id='+_0x4d10aa[_0x532c('0xed')]+_0x532c('0xae')+_0x4d10aa['token'],'type':'get'};setTimeout(()=>{_0x4d10aa['_httpRequest'](_0x1ed02f,function(_0x3528b1){if(_0x3528b1[_0x532c('0x63')]&&_0x3528b1[_0x532c('0x63')]===0xc8){const _0x46f89b=_0x3528b1['data'];if(_0x46f89b['port']<0xa){console['log'](_0x532c('0x101'));if(_0x4d10aa['_registerCallback']){const _0x14d40d={'code':0x12c,'msg':_0x532c('0x101')};_0x4d10aa[_0x532c('0x145')](_0x14d40d);}return;}let _0x24ded1=_0x4d10aa['url']['replace'](_0x532c('0xbc'),'');const _0xc3ed43=_0x24ded1['indexOf'](':',0x0);if(_0xc3ed43>0x0)_0x24ded1=_0x24ded1[_0x532c('0x28')](0x0,_0xc3ed43);_0x24ded1='ws://'+_0x24ded1+':'+_0x46f89b['port'];_0x4d10aa['_connectWebsocket'](_0x24ded1);}else{console[_0x532c('0xf1')](_0x3528b1);if(_0x4d10aa['_registerCallback']){_0x4d10aa[_0x532c('0x145')](_0x3528b1);}}},function(){if(_0x4d10aa['_registerCallback']){const _0x20958c={'code':0x1f4,'msg':_0x532c('0x5a')};_0x4d10aa[_0x532c('0x145')](_0x20958c);}});},0x64);};MapVision[_0x532c('0x121')][_0x532c('0x91')]['Close']=function(){let _0x1c960e=this;const _0x5aea50=_0x1c960e[_0x532c('0x19')];if(_0x5aea50){_0x1c960e[_0x532c('0x5b')]();_0x5aea50['close']();_0x1c960e['_webSocket']=undefined;console['log']('\x20_webSocket\x20closed\x20');}};MapVision['View3d'][_0x532c('0x91')]['RegisterEvent']=function(_0x526eb9,_0x5c1133){if(_0x526eb9==='onmousedown'){this['_onMouseDownCallback']=_0x5c1133;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x168')]);}else if(_0x526eb9===_0x532c('0xe5')){this[_0x532c('0x156')]=_0x5c1133;}else if(_0x526eb9===_0x532c('0x14d')){this[_0x532c('0x24')]=_0x5c1133;}else{this[_0x532c('0x145')]=_0x5c1133;}};MapVision[_0x532c('0x121')][_0x532c('0x91')]['UnRegisterEvent']=function(){if(!this['_webSocket']&&this['_webRtcPlayerHtmlElement']){this['_unregisterEvents'](this[_0x532c('0x5e')]);}this['_onMouseDownCallback']=null;this['_onMouseMoveCallback']=null;this['_onMouseUpCallback']=null;this[_0x532c('0x145')]=null;};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x131')]=function(){const _0x2bf6d8=this[_0x532c('0x19')]===undefined;return _0x2bf6d8;};MapVision['View3d']['prototype']['SetParameters']=function(_0x132133){this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x64')],_0x132133);};MapVision[_0x532c('0x121')]['prototype']['SetResolution']=function(_0x231f6a,_0xa72d3e){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x10a')],{'width':_0x231f6a,'height':_0xa72d3e});};MapVision['View3d']['prototype']['GetBuildVersion']=function(_0x29def3){this['_callback'][MapVision[_0x532c('0x54')]['GetBuildVersion']]=_0x29def3;this['_emiUICommand'](MapVision[_0x532c('0x54')]['GetBuildVersion']);};MapVision[_0x532c('0x121')]['prototype']['SetMapStatus']=function(_0x2916bd,_0x35609c){this[_0x532c('0x14')][MapVision['CommandType']['SetMapStatus']]=_0x35609c;this['_emiUICommand'](MapVision['CommandType']['SetMapStatus'],{'mapstatus':_0x2916bd});};MapVision['View3d'][_0x532c('0x91')]['Clear']=function(){this[_0x532c('0xcf')]=null;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0xa2')]);};MapVision[_0x532c('0x121')]['prototype']['Stop']=function(){this[_0x532c('0xaf')](new Uint8Array([MapVision[_0x532c('0x15b')]['KeyUp'],0x57])[_0x532c('0xeb')]);this[_0x532c('0xaf')](new Uint8Array([MapVision[_0x532c('0x15b')][_0x532c('0x40')],0x53])[_0x532c('0xeb')]);this[_0x532c('0xaf')](new Uint8Array([MapVision['MessageType'][_0x532c('0x40')],0x44])['buffer']);this[_0x532c('0xaf')](new Uint8Array([MapVision[_0x532c('0x15b')][_0x532c('0x40')],0x41])['buffer']);this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x532c('0x40')],0x25])[_0x532c('0xeb')]);this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x532c('0x40')],0x26])['buffer']);this[_0x532c('0xaf')](new Uint8Array([MapVision['MessageType']['KeyUp'],0x27])['buffer']);this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x532c('0x40')],0x28])['buffer']);this[_0x532c('0x152')](MapVision['CommandType']['Stop']);};MapVision[_0x532c('0x121')]['prototype']['ResetHome']=function(){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x100')]);};MapVision[_0x532c('0x121')]['prototype']['Rotate']=function(_0x4c9166,_0xb4b78c,_0x2fbdcf,_0x156de6,_0x4fda7a){let _0x5f4f65={};if(_0x4c9166){_0x5f4f65[_0x532c('0x79')]=_0x4c9166;}if(_0xb4b78c){_0x5f4f65['radio']=_0xb4b78c;}if(_0x2fbdcf){_0x5f4f65[_0x532c('0x106')]=_0x2fbdcf;}if(_0x156de6){_0x5f4f65[_0x532c('0xd0')]=_0x156de6;}if(_0x4fda7a){_0x5f4f65[_0x532c('0xc5')]=_0x4fda7a;}this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x4')],{'gid':_0x156de6,'pitch':_0x4c9166,'radio':_0xb4b78c,'distance':_0x2fbdcf,'highlight':_0x4fda7a});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xb')]=function(_0x1a0afa){this['_callback'][MapVision[_0x532c('0x54')]['GetCurrentPosition']]=_0x1a0afa;this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['GetCurrentPosition']);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x95')]=function(_0x17eb8c,_0x280121){this[_0x532c('0x14')][MapVision['CommandType']['GetScrrenPosition']]=_0x280121;const _0x60c8dd=[];_0x17eb8c['forEach'](_0x332e76=>{_0x60c8dd[_0x532c('0x134')]({'gid':_0x332e76[_0x532c('0xd0')]});});this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x95')],{'objects':_0x60c8dd});};MapVision['View3d']['prototype'][_0x532c('0x162')]=function(_0x2e21e3){this['_callback'][MapVision['CommandType'][_0x532c('0x162')]]=_0x2e21e3;this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x162')]);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xcd')]=function(_0x1a5b15,_0x452b76){this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['SetScenceSunInfo'],_0x1a5b15);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x168')]=function(_0x1fe200){this['_callback'][MapVision['CommandType']['SetMouseCallback']]=_0x1fe200;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x168')]);};MapVision['View3d']['prototype']['SetMousePositionCallback']=function(_0x343ba3){this['_callback'][MapVision['CommandType'][_0x532c('0x8a')]]=_0x343ba3;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x8a')]);};MapVision[_0x532c('0x121')]['prototype']['SetNorth']=function(_0x49d3a4){this[_0x532c('0x152')](MapVision['CommandType']['SetNorth'],{'angle':_0x49d3a4});};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x16f')]=function(_0x55dee9){this['_emiUICommand'](MapVision['CommandType']['OpenMap'],{'mapname':_0x55dee9});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x60')]=function(_0x40c5df){this['_callback'][MapVision[_0x532c('0x54')]['GetHomePosition']]=_0x40c5df;this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0x60')]);};MapVision['View3d']['prototype'][_0x532c('0x11e')]=function(_0x89c95a,_0x1acfa4){_0x89c95a['showlocation']=_0x1acfa4;this['_emiUICommand'](MapVision[_0x532c('0x54')]['SetPosition'],_0x89c95a);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x1a')]=function(_0xbf98e4,_0x28b05b,_0x34c4e7){_0xbf98e4['showlocation']=_0x28b05b;_0xbf98e4['speed']=_0x34c4e7;this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['FlyToPosition'],_0xbf98e4);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xbf')]=function(_0x5dbe8e,_0x2a460e,_0x4e43b0){_0x5dbe8e[_0x532c('0x15a')]=_0x2a460e;_0x5dbe8e['speed']=_0x4e43b0;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0xbf')],_0x5dbe8e);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x122')]=function(_0x28ee06,_0x4e6718,_0x5c0d09,_0x4be3fe,_0x1bd12e){this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['FlyToObjectById'],{'gid':_0x28ee06,'showlocation':_0x4e6718,'distance':_0x4be3fe,'speed':_0x1bd12e,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x5c0d09,'yaw':0x0,'roll':0x0}});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xc1')]=function(_0x4529be,_0x18718a){this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['FlyToObjectByType'],{'type':_0x4529be,'hradio':_0x18718a});};MapVision['View3d'][_0x532c('0x91')]['FlyToObjectByIds']=function(_0x49150a,_0x10d61b){this['_emiUICommand'](MapVision[_0x532c('0x54')]['FlyToObjectByIds'],{'ids':_0x49150a,'hradio':_0x10d61b});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['FindObjectById']=function(_0x48a97a,_0xb7a321){this['_callback'][MapVision['CommandType'][_0x532c('0xd7')]]=_0xb7a321;this['_emiUICommand'](MapVision[_0x532c('0x54')]['FindObjectById'],{'gid':_0x48a97a});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['FindObjectByName']=function(_0x4e3649,_0x4cf341){this['_callback'][MapVision['CommandType']['FindObjectByName']]=_0x4cf341;this['_emiUICommand'](MapVision[_0x532c('0x54')]['FindObjectByName'],{'gid':_0x4e3649,'name':_0x4e3649});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x23')]=function(_0x4ae3d1,_0x5c759b,_0x32570b){this[_0x532c('0x14')][MapVision[_0x532c('0x54')]['FindObjectByPrefix']]=_0x32570b;if(!_0x5c759b)_0x5c759b=0x14;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x23')],{'gid':_0x4ae3d1,'limit':_0x5c759b});};MapVision['View3d'][_0x532c('0x91')]['GetSelectedObject']=function(_0x151f2f){this[_0x532c('0x14')][MapVision[_0x532c('0x54')]['GetSelectedObject']]=_0x151f2f;this['_emiUICommand'](MapVision['CommandType']['GetSelectedObject']);};MapVision['View3d']['prototype']['UpdateObject']=function(_0x3bdd0e){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x70')],_0x3bdd0e);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x2d')]=function(_0x5e436b,_0x48d04f,_0x53aae3){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x2d')],{'gid':_0x5e436b,'style':_0x48d04f,'color':_0x53aae3});};MapVision[_0x532c('0x121')]['prototype']['ClearObjectStyle']=function(_0x20141a){if(_0x20141a){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x2d')],{'gid':_0x20141a,'style':'default','color':_0x532c('0x50')});}else{this['_emiUICommand'](MapVision[_0x532c('0x54')]['ClearObjectStyle']);}};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x39')]=function(_0x1951a2){this['_callback'][MapVision['CommandType'][_0x532c('0x39')]]=_0x1951a2;this['_emiUICommand'](MapVision['CommandType']['GetObjectsVisible']);};MapVision['View3d']['prototype']['SetObjectsVisible']=function(_0x51b6cb){this[_0x532c('0x152')](MapVision['CommandType']['SetObjectsVisible'],{'objects':_0x51b6cb});};MapVision['View3d']['prototype'][_0x532c('0xd5')]=function(_0x109a3b){this['_emiUICommand'](MapVision['CommandType']['UpdateObjects'],{'objects':_0x109a3b});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['ResetObjects']=function(){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x81')]);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x41')]=function(_0x11c28d){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x41')],{'gid':_0x11c28d});};MapVision['View3d']['prototype']['SetObjectsHighlight']=function(_0x1f06e0){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x153')],{'objects':_0x1f06e0});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['SetObjectsHighlightByPrefix']=function(_0x4eda95){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0x17')],{'prefix':_0x4eda95});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['ClearHighlight']=function(){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x12a')]);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x20')]=function(_0x49867e){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x20')],_0x49867e);};MapVision['View3d']['prototype'][_0x532c('0x147')]=function(){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x147')]);};MapVision['View3d']['prototype'][_0x532c('0x130')]=function(_0x3e708e,_0x17b23d){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x130')],{'gid':_0x3e708e,'visible':_0x17b23d});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xa3')]=function(_0x1c7a68,_0xac45e7){this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0xa3')],{'gid':_0x1c7a68,'visible':_0xac45e7});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x3a')]=function(_0x3d9d63){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x3a')],_0x3d9d63);};MapVision[_0x532c('0x121')]['prototype']['CreateRoute']=function(_0x52ebb6,_0xdefde2){this['_callback'][MapVision[_0x532c('0x54')]['CreateRoute']]=_0xdefde2;this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['CreateRoute'],_0x52ebb6);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xd6')]=function(_0x1bee7f,_0x195ab3){this[_0x532c('0x14')][MapVision[_0x532c('0x54')][_0x532c('0xd6')]]=_0x195ab3;this['_emiUICommand'](MapVision[_0x532c('0x54')]['StartRoute'],_0x1bee7f);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x167')]=function(_0x40f24d){this['_callback'][MapVision['CommandType']['PlayRoute']]=_0x40f24d;this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x167')]);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x76')]=function(){this[_0x532c('0x152')](MapVision['CommandType']['PauseRoute']);};MapVision['View3d'][_0x532c('0x91')]['StopRoute']=function(){this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['StopRoute']);};MapVision[_0x532c('0x121')][_0x532c('0x91')]['ResumeRoute']=function(_0x559966){this['_callback'][MapVision['CommandType']['ResumeRoute']]=_0x559966;this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['ResumeRoute']);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xba')]=function(_0x35ffe0){this['_emiUICommand'](MapVision['CommandType']['PlayRouteModel'],{'gid':_0x35ffe0});};MapVision['View3d']['prototype'][_0x532c('0x126')]=function(_0x440d0d){this[_0x532c('0x152')](MapVision['CommandType']['RePlayRouteModel'],{'gid':_0x440d0d});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x26')]=function(_0x29aa9a){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0x26')],{'gid':_0x29aa9a});};MapVision['View3d'][_0x532c('0x91')]['StopRouteModel']=function(_0x1ecdbb){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0xf4')],{'gid':_0x1ecdbb});};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x22')]=function(_0x1e1f24){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x22')],{'gid':_0x1e1f24});};MapVision['View3d']['prototype'][_0x532c('0xab')]=function(_0x5bdc49){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0xab')],{'gid':_0x5bdc49});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x82')]=function(_0x3c1008){this['_emiUICommand'](MapVision[_0x532c('0x54')]['PauseSequence'],{'gid':_0x3c1008});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xa1')]=function(_0x207626,_0x179358){this['_callback'][MapVision[_0x532c('0x54')]['IsPlayingSequence']]=_0x179358;this['_emiUICommand'](MapVision[_0x532c('0x54')]['IsPlayingSequence'],{'gid':_0x207626});};MapVision['View3d']['prototype'][_0x532c('0x118')]=function(_0x12301c,_0x5e8b68){this['_callback'][MapVision[_0x532c('0x54')]['IsPausedSequence']]=_0x5e8b68;this['_emiUICommand'](MapVision['CommandType']['IsPausedSequence'],{'gid':_0x12301c});};MapVision['View3d'][_0x532c('0x91')]['StopSequence']=function(_0x46a6d2,_0x38a89b){this['_emiUICommand'](MapVision[_0x532c('0x54')]['StopSequence'],{'gid':_0x46a6d2});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x43')]=function(_0x4302e0){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0x43')],_0x4302e0);};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x6c')]=function(_0x99bcf7){if(!_0x99bcf7)_0x99bcf7=0x0;this['_emiUICommand'](MapVision[_0x532c('0x54')]['StreamVideoClose'],{'index':_0x99bcf7});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x77')]=function(){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0x77')]);};MapVision[_0x532c('0x121')][_0x532c('0x91')]['GetBuildingNum']=function(_0x60d948){this['_callback'][MapVision[_0x532c('0x54')]['GetBuildingNum']]=_0x60d948;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x14b')]);};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x120')]=function(_0x4aee82,_0x1d484b){this['_callback'][MapVision['CommandType']['GetBuildingName']]=_0x1d484b;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x120')],{'bindex':_0x4aee82});};MapVision['View3d']['prototype'][_0x532c('0x160')]=function(_0x56aa73){this[_0x532c('0x14')][MapVision['CommandType']['GetBuildingNames']]=_0x56aa73;this['_emiUICommand'](MapVision[_0x532c('0x54')]['GetBuildingNames']);};MapVision[_0x532c('0x121')]['prototype']['GetBuildingVisible']=function(_0x52468a,_0x802f1f){this['_callback'][MapVision[_0x532c('0x54')][_0x532c('0x124')]]=_0x802f1f;this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x124')],{'gid':_0x52468a});};MapVision['View3d']['prototype']['SetBuildingVisible']=function(_0x3cfa2a,_0x42c80d,_0x575b12){this['_emiUICommand'](MapVision['CommandType']['SetBuildingVisible'],{'gid':_0x3cfa2a,'visible':_0x42c80d,'opacity':_0x575b12});};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x44')]=function(_0x50b569,_0x382651,_0x299d09){this['_emiUICommand'](MapVision[_0x532c('0x54')]['SetBuildingWkVisible'],{'gid':_0x50b569,'visible':_0x382651,'opacity':_0x299d09});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['ResetAllBuildings']=function(){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0x136')]);};MapVision['View3d']['prototype']['SplitBuilding']=function(_0x3ad0ac,_0x3b9808){this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x135')],{'gid':_0x3ad0ac,'offset':_0x3b9808});};MapVision['View3d']['prototype']['SplitBuildingReset']=function(_0x4839b4){this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x141')],{'gid':_0x4839b4});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x73')]=function(_0x4b87fa,_0x3af4d9){this['_emiUICommand'](MapVision['CommandType']['SplitDynamicBuilding'],{'gid':_0x4b87fa,'offset':_0x3af4d9});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['SplitDynamicFloor']=function(_0xbd9c74,_0x4c6149,_0xc2a9f6){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x6e')],{'gid':_0xbd9c74,'floor':_0x4c6149,'offset':_0xc2a9f6});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xe3')]=function(_0x3f6593,_0x9b160e){this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['SplitFloorReset'],{'gid':_0x3f6593,'floor':_0x9b160e});};MapVision['View3d']['prototype'][_0x532c('0x11d')]=function(_0x8036a2,_0x4f9f0d){this['_callback'][MapVision[_0x532c('0x54')]['GetFloorNum']]=_0x4f9f0d;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x11d')],{'gid':_0x8036a2});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['GetFloorName']=function(_0x533f43,_0x371b02){this[_0x532c('0x14')][MapVision[_0x532c('0x54')][_0x532c('0x85')]]=_0x371b02;this[_0x532c('0x152')](MapVision['CommandType']['GetFloorNames'],{'gid':_0x533f43});};MapVision[_0x532c('0x121')]['prototype']['GetFloorNames']=function(_0x5f1961,_0x8b2159){this[_0x532c('0x14')][MapVision['CommandType'][_0x532c('0x85')]]=_0x8b2159;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x85')],{'gid':_0x5f1961});};MapVision[_0x532c('0x121')]['prototype']['GetFloorVisible']=function(_0x183dd8,_0x467d71,_0x7dd818){this['_callback'][MapVision['CommandType'][_0x532c('0xf3')]]=_0x7dd818;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0xf3')],{'gid':_0x183dd8,'floor':_0x467d71});};MapVision['View3d']['prototype'][_0x532c('0xb9')]=function(_0xd77b48,_0x1b7f1c,_0x41dac3,_0x271c81){if(!_0x41dac3)_0x41dac3=![];if(!_0x271c81)_0x271c81=0x0;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0xb9')],{'gid':_0xd77b48,'floor':_0x1b7f1c,'visible':_0x41dac3,'opacity':_0x271c81});};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x11f')]=function(_0x4e7084,_0x4c1e8c,_0x1f6149){this['_callback'][MapVision['CommandType'][_0x532c('0x11f')]]=_0x1f6149;this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['GetUpFloorNum'],{'gid':_0x4e7084,'floor':_0x4c1e8c});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xf6')]=function(_0xf6f93a,_0x2877d1,_0x250266){this['_callback'][MapVision[_0x532c('0x54')][_0x532c('0xf6')]]=_0x250266;this['_emiUICommand'](MapVision[_0x532c('0x54')]['GetUpFloorNames'],{'gid':_0xf6f93a,'floor':_0x2877d1});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['GetDownFloorNum']=function(_0x1e2646,_0x192e64,_0x3b698a){this['_callback'][MapVision[_0x532c('0x54')]['GetDownFloorNum']]=_0x3b698a;this[_0x532c('0x152')](MapVision['CommandType']['GetDownFloorNum'],{'gid':_0x1e2646,'floor':_0x192e64});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xc8')]=function(_0x5003a1,_0x414221,_0x2a5f75){this['_callback'][MapVision[_0x532c('0x54')]['GetDownFloorNames']]=_0x2a5f75;this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0xc8')],{'gid':_0x5003a1,'floor':_0x414221});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x112')]=function(_0x1bbac1,_0x46ffae,_0x4d8b67){this['_callback'][MapVision['CommandType']['GetFloorRoomNum']]=_0x4d8b67;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x112')],{'gid':_0x1bbac1,'floor':_0x46ffae});};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x72')]=function(_0x426f5c,_0x516d63,_0xd065ae){this['_callback'][MapVision['CommandType'][_0x532c('0x13d')]]=_0xd065ae;this[_0x532c('0x152')](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0x426f5c,'floor':_0x516d63});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x13d')]=function(_0x3814f0,_0x1335cf,_0x54876a){this['_callback'][MapVision['CommandType']['GetFloorRoomNames']]=_0x54876a;this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['GetFloorRoomNames'],{'gid':_0x3814f0,'floor':_0x1335cf});};MapVision['View3d']['prototype'][_0x532c('0xdb')]=function(_0x14330b,_0x3704f3,_0x5b6fae,_0x16fad9){this['_callback'][MapVision['CommandType']['GetFloorRoomVisible']]=_0x16fad9;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0xdb')],{'gid':_0x14330b,'floor':_0x3704f3,'room':_0x5b6fae});};MapVision['View3d']['prototype']['SetFloorRoomVisible']=function(_0x52e63a,_0x1d4bdf,_0x289eec,_0x2e5ec6,_0xee7625){if(!_0x2e5ec6)_0x2e5ec6=![];if(!_0xee7625)_0xee7625=0x0;this[_0x532c('0x152')](MapVision['CommandType']['SetFloorRoomVisible'],{'gid':_0x52e63a,'floor':_0x1d4bdf,'room':_0x289eec,'visible':_0x2e5ec6,'opacity':_0xee7625});};MapVision['View3d'][_0x532c('0x91')]['GetFloorDeviceNum']=function(_0x216a30,_0x1fbbc0,_0x3a4d5e){this['_callback'][MapVision[_0x532c('0x54')]['GetFloorDeviceNum']]=_0x3a4d5e;this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceNum'],{'gid':_0x216a30,'floor':_0x1fbbc0});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['GetFloorDeviceName']=function(_0x12cd61,_0x3c703d,_0x2fc881){this[_0x532c('0x14')][MapVision[_0x532c('0x54')][_0x532c('0xb4')]]=_0x2fc881;this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0xb4')],{'gid':_0x12cd61,'floor':_0x3c703d});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['GetFloorDeviceNames']=function(_0x213a33,_0x23e3ee,_0x2f4412){this[_0x532c('0x14')][MapVision['CommandType']['GetFloorDeviceNames']]=_0x2f4412;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0xb4')],{'gid':_0x213a33,'floor':_0x23e3ee});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['GetFloorDeviceVisible']=function(_0x40195b,_0x1ce53a,_0x125011,_0x53f233){this[_0x532c('0x14')][MapVision[_0x532c('0x54')][_0x532c('0xfb')]]=_0x53f233;this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceVisible'],{'gid':_0x40195b,'floor':_0x1ce53a,'device':_0x125011});};MapVision[_0x532c('0x121')][_0x532c('0x91')]['SetFloorDeviceVisible']=function(_0xe85a21,_0x5681f1,_0x8457cd,_0x11abbe,_0x397544){if(!_0x11abbe)_0x11abbe=![];if(!_0x397544)_0x397544=0x0;this['_emiUICommand'](MapVision['CommandType']['SetFloorDeviceVisible'],{'gid':_0xe85a21,'floor':_0x5681f1,'device':_0x8457cd,'visible':_0x11abbe,'opacity':_0x397544});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xc4')]=function(_0x49e43a){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0xc4')],{'visible':_0x49e43a});};MapVision['View3d'][_0x532c('0x91')]['OverLayerStartEdit']=function(_0x847368,_0x33aa58){this['_callback'][MapVision[_0x532c('0x54')]['OverLayerStartEdit']]=_0x33aa58;this['_emiUICommand'](MapVision['CommandType'][_0x532c('0xc6')],_0x847368);};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0x75')]=function(){this[_0x532c('0x152')](MapVision['CommandType']['OverLayerStopEdit']);};MapVision['View3d']['prototype']['OverLayerSelectObjectEdit']=function(_0x595682){this[_0x532c('0x14')][MapVision[_0x532c('0x54')]['OverLayerSelectObjectEdit']]=_0x595682;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision['View3d']['prototype'][_0x532c('0x10f')]=function(_0x358e29,_0x1abf89){this['_callback'][MapVision['CommandType'][_0x532c('0x10f')]]=_0x1abf89;this[_0x532c('0x152')](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x358e29});};MapVision[_0x532c('0x121')]['prototype'][_0x532c('0xb3')]=function(_0x3268d5,_0x246933){this[_0x532c('0x14')][MapVision['CommandType']['OverLayerCreateObject']]=_0x246933;this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0xb3')],_0x3268d5);};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0xb0')]=function(_0x3ee672,_0xe558c){this['_callback'][MapVision[_0x532c('0x54')][_0x532c('0xb0')]]=_0xe558c;this['_emiUICommand'](MapVision[_0x532c('0x54')]['OverLayerCreateObjects'],{'shapes':_0x3ee672});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x74')]=function(_0x13ce23){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x74')],_0x13ce23);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xa4')]=function(_0x529566){this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0xa4')],_0x529566);};MapVision['View3d'][_0x532c('0x91')]['OverLayerRemoveObjectById']=function(_0x5c41ee){this['_emiUICommand'](MapVision[_0x532c('0x54')][_0x532c('0xa4')],{'gid':_0x5c41ee});};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x157')]=function(_0x497567){this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0x15')],{'ids':_0x497567});};MapVision['View3d']['prototype']['OverLayerRemoveAll']=function(_0x2a1c8b){if(_0x2a1c8b){this[_0x532c('0x152')](MapVision[_0x532c('0x54')]['OverLayerRemoveAllCustom'],{'types':_0x2a1c8b});}else{this[_0x532c('0x152')](MapVision['CommandType']['OverLayerRemoveAll']);}};MapVision[_0x532c('0x121')][_0x532c('0x91')]['LayerLoad']=function(_0x2f2391,_0x4fc2a1){this['_callback'][MapVision['CommandType']['LayerLoad']]=_0x4fc2a1;this['_emiUICommand'](MapVision['CommandType']['LayerLoad'],_0x2f2391);};MapVision['View3d']['prototype'][_0x532c('0x84')]=function(_0x3757d0,_0x1bba84){this[_0x532c('0x14')][MapVision[_0x532c('0x54')][_0x532c('0x84')]]=_0x1bba84;this['_emiUICommand'](MapVision[_0x532c('0x54')]['LayerReLoad'],_0x3757d0);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xbd')]=function(_0x388774,_0x31befc){this['_callback'][MapVision['CommandType']['LayersLoad']]=_0x31befc;this[_0x532c('0x152')](MapVision[_0x532c('0x54')][_0x532c('0xbd')],{'layers':_0x388774});};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0xc0')]=function(_0x1685c7,_0x264d25){this['_callback'][MapVision[_0x532c('0x54')]['LayerSelectObject']]=_0x264d25;this['_emiUICommand'](MapVision[_0x532c('0x54')]['LayerSelectObject'],{'gid':_0x1685c7});};MapVision['View3d']['prototype']['LayerRemove']=function(_0x270096){this[_0x532c('0x152')](MapVision['CommandType'][_0x532c('0x161')],{'gid':_0x270096});};MapVision['View3d']['prototype'][_0x532c('0x80')]=function(_0x347dd9,_0x1c7afe){this['_emiUICommand'](MapVision['CommandType']['LayerSetVisible'],{'gid':_0x347dd9,'visible':_0x1c7afe});};MapVision['View3d']['prototype']['SetNorthControl']=function(_0x2bd02c,_0x2b3dc6,_0x51e4e3,_0x22bf3a){this['_emiUICommand'](MapVision['CommandType'][_0x532c('0x104')],{'visible':_0x2bd02c,'x':_0x2b3dc6,'y':_0x51e4e3,'scale':_0x22bf3a});};MapVision['View3d']['prototype']['_connectWebsocket']=function(_0x3d4a11){let _0x420d0d=this;_0x420d0d[_0x532c('0x19')]=new WebSocket(_0x3d4a11);_0x420d0d[_0x532c('0x19')]['onmessage']=function(_0x19360f){var _0x3b216a=JSON['parse'](_0x19360f[_0x532c('0xe')]);if(_0x3b216a['type']==='config'){_0x420d0d[_0x532c('0x92')](_0x420d0d['id'],_0x3b216a);}else if(_0x3b216a['type']===_0x532c('0x5f')){}else if(_0x3b216a['type']===_0x532c('0x144')){_0x420d0d[_0x532c('0x66')](_0x3b216a);}else if(_0x3b216a[_0x532c('0xce')]===_0x532c('0x83')){_0x420d0d[_0x532c('0x148')](_0x3b216a[_0x532c('0xd')]);}else{console[_0x532c('0xf1')]('invalid\x20SS\x20message\x20type:\x20'+_0x3b216a[_0x532c('0xce')]);}};_0x420d0d['_webSocket'][_0x532c('0x59')]=function(_0x4c240d){console[_0x532c('0xf1')](_0x532c('0x10e')+JSON[_0x532c('0x36')](_0x4c240d));if(_0x420d0d[_0x532c('0x145')]){const _0x5afc0e={'code':0x64,'msg':'webSocket\x20connenect\x20error'};_0x420d0d[_0x532c('0x145')](_0x5afc0e);}};_0x420d0d['_webSocket'][_0x532c('0x158')]=function(_0x3163d5){console[_0x532c('0xf1')]('WS\x20closed:\x20'+JSON[_0x532c('0x36')](_0x3163d5['code'])+_0x532c('0x42')+_0x3163d5[_0x532c('0x1e')]);_0x420d0d[_0x532c('0x19')]=undefined;let _0x5d629d=document['getElementById'](_0x420d0d['id']);if(_0x420d0d[_0x532c('0x14a')]){_0x5d629d['removeChild'](_0x420d0d['_webRtcPlayerObj'][_0x532c('0xea')]);_0x420d0d[_0x532c('0x14a')]['close']();_0x420d0d[_0x532c('0x14a')]=undefined;}if(_0x420d0d[_0x532c('0x145')]){const _0x5bc13e={'code':0x190,'msg':'websocket\x20closed'};_0x420d0d[_0x532c('0x145')](_0x5bc13e);}};};MapVision['View3d']['prototype'][_0x532c('0x127')]=function(_0x2c55cd){let _0x57ad6d=this;_0x2c55cd['onmousemove']=_0xfa116a=>{if(!_0x57ad6d['enableMouse']){return;}_0x57ad6d['_onMouseMove'](_0xfa116a['offsetX'],_0xfa116a['offsetY'],_0xfa116a['movementX'],_0xfa116a[_0x532c('0x16c')]);if(_0x57ad6d[_0x532c('0x52')]&&_0x57ad6d[_0x532c('0x156')]){_0x57ad6d[_0x532c('0x156')](_0xfa116a,_0x57ad6d['_onMouseSelectedObj']);}_0xfa116a['preventDefault']();};_0x2c55cd['onmousedown']=_0xe3ee2c=>{_0x57ad6d[_0x532c('0x52')]=!![];_0x57ad6d[_0x532c('0xcf')]=null;if(!_0x57ad6d['enableMouse']){return;}_0x57ad6d['_onMouseDown'](_0xe3ee2c['button'],_0xe3ee2c['offsetX'],_0xe3ee2c['offsetY']);setTimeout(function(){if(_0x57ad6d[_0x532c('0x8b')]){_0x57ad6d['_onMouseDownCallback'](_0xe3ee2c,_0x57ad6d['_onMouseSelectedObj']);}},0x64);_0xe3ee2c['preventDefault']();};_0x2c55cd[_0x532c('0x14d')]=_0x5d4f03=>{_0x57ad6d['_mouseDownStatus']=![];if(!_0x57ad6d[_0x532c('0x32')]){return;}_0x57ad6d[_0x532c('0x16e')](_0x5d4f03['button'],_0x5d4f03[_0x532c('0xf7')],_0x5d4f03['offsetY']);if(_0x57ad6d['_onMouseUpCallback']){_0x57ad6d[_0x532c('0x24')](_0x5d4f03,_0x57ad6d['_onMouseSelectedObj']);}_0x5d4f03[_0x532c('0x14f')]();};_0x2c55cd['oncontextmenu']=_0x746e73=>{if(!_0x57ad6d[_0x532c('0x32')]){return;}_0x57ad6d['_onMouseUp'](_0x746e73['button'],_0x746e73['offsetX'],_0x746e73[_0x532c('0x78')]);_0x746e73[_0x532c('0x14f')]();};if(_0x532c('0x25')in _0x2c55cd){_0x2c55cd[_0x532c('0x25')]=_0x18ee7c=>{if(!_0x57ad6d[_0x532c('0x32')]){return;}_0x57ad6d[_0x532c('0x140')](_0x18ee7c['wheelDelta'],_0x18ee7c['offsetX'],_0x18ee7c[_0x532c('0x78')]);_0x18ee7c['preventDefault']();};}else{_0x2c55cd[_0x532c('0x9c')](_0x532c('0x12b'),_0x1a04b8=>{if(!_0x57ad6d[_0x532c('0x32')]){return;}_0x57ad6d[_0x532c('0x140')](_0x1a04b8['detail']*-0x78,_0x1a04b8['offsetX'],_0x1a04b8[_0x532c('0x78')]);_0x1a04b8[_0x532c('0x14f')]();},![]);}_0x2c55cd['pressMouseButtons']=_0x46036a=>{if(!_0x57ad6d[_0x532c('0x32')]){return;}_0x57ad6d[_0x532c('0x7a')](_0x46036a[_0x532c('0x3e')],_0x46036a[_0x532c('0xf7')],_0x46036a[_0x532c('0x78')]);};_0x2c55cd[_0x532c('0xac')]=_0x5c61aa=>{if(!_0x57ad6d['enableMouse']){return;}_0x57ad6d['_releaseMouseButtons'](_0x5c61aa['buttons'],_0x5c61aa[_0x532c('0xf7')],_0x5c61aa['offsetY']);};_0x2c55cd[_0x532c('0x30')]=_0x45a553=>{if(!_0x57ad6d['enableMouse']){return;}var _0x5ab06b=new DataView(new ArrayBuffer(0x1));_0x5ab06b['setUint8'](0x0,MapVision[_0x532c('0x15b')][_0x532c('0x155')]);_0x57ad6d['_sendInputData'](_0x5ab06b['buffer']);_0x2c55cd[_0x532c('0x9f')](_0x45a553);};_0x2c55cd['onmouseleave']=_0x522600=>{if(!_0x57ad6d['enableMouse']){return;}var _0x5b7795=new DataView(new ArrayBuffer(0x1));_0x5b7795[_0x532c('0xe4')](0x0,MapVision[_0x532c('0x15b')][_0x532c('0x29')]);_0x57ad6d[_0x532c('0xaf')](_0x5b7795[_0x532c('0xeb')]);_0x2c55cd[_0x532c('0xac')](_0x522600);};};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0xcc')]=function(_0x2f66ab){};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xb8')]=function(_0xfffdcc){if(!_0xfffdcc){return;}_0xfffdcc['onmousemove']=_0x4c5c2b=>{_0x4c5c2b[_0x532c('0x14f')]();};_0xfffdcc[_0x532c('0x170')]=_0x3d85c1=>{_0x3d85c1['preventDefault']();};_0xfffdcc['onmouseup']=_0x569751=>{_0x569751[_0x532c('0x14f')]();};_0xfffdcc[_0x532c('0xf0')]=_0x503f12=>{_0x503f12['preventDefault']();};if('onmousewheel'in _0xfffdcc){_0xfffdcc[_0x532c('0x25')]=_0xbf7842=>{_0xbf7842[_0x532c('0x14f')]();};}else{_0xfffdcc[_0x532c('0x9c')](_0x532c('0x12b'),_0x4f6c9e=>{_0x4f6c9e['preventDefault']();},![]);}_0xfffdcc[_0x532c('0x9f')]=_0x4f0fd1=>{};_0xfffdcc['releaseMouseButtons']=_0x144bbf=>{};_0xfffdcc['onmouseenter']=_0xa138fc=>{};_0xfffdcc['onmouseleave']=_0x539311=>{};_0xfffdcc[_0x532c('0x116')]=_0x3e31cc=>{};_0xfffdcc['onkeyup']=_0x300dae=>{};_0xfffdcc['onkeypress']=_0x133cad=>{};};MapVision['View3d'][_0x532c('0x91')]['_registerKeyboardEvents']=function(){let _0x54b2d2=this;const _0x20c63e={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x3d6538(_0x56e1a6){if(_0x56e1a6['keyCode']===_0x20c63e[_0x532c('0x38')]&&_0x56e1a6[_0x532c('0x63')]==='ShiftRight')return _0x20c63e['RightShift'];else if(_0x56e1a6['keyCode']===_0x20c63e[_0x532c('0x7d')]&&_0x56e1a6['code']===_0x532c('0x12e'))return _0x20c63e['RightControl'];else if(_0x56e1a6[_0x532c('0xd1')]===_0x20c63e['Alt']&&_0x56e1a6[_0x532c('0x63')]==='AltRight')return _0x20c63e[_0x532c('0x8')];else return _0x56e1a6['keyCode'];};function _0x73080b(_0x5bd238){return!(_0x5bd238['keyCode']==0x1b||_0x5bd238[_0x532c('0xd1')]==0x70||_0x5bd238[_0x532c('0xd1')]==0x73||_0x5bd238['keyCode']==0x74||_0x5bd238['keyCode']==0xde||_0x5bd238['keyCode']==0xba||_0x5bd238[_0x532c('0xd1')]==0xbc||_0x5bd238[_0x532c('0xa9')]&&_0x5bd238['keyCode']==0x52);};var _0x568d75=document[_0x532c('0x89')]('iframe');var _0x36614e=null;if(_0x568d75&&_0x568d75['length']>0x0){_0x36614e=_0x568d75[0x0];}else{_0x36614e=document;}_0x36614e[_0x532c('0x116')]=_0xd09f62=>{if(!_0x54b2d2['enableKeyboard']){return;}if(_0x73080b(_0xd09f62)==![]){_0xd09f62['preventDefault']();return;}_0x54b2d2['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyDown'],_0x3d6538(_0xd09f62),_0xd09f62[_0x532c('0x11a')]])['buffer']);if(_0xd09f62[_0x532c('0xd1')]===_0x20c63e[_0x532c('0x11')]){_0x36614e['onkeypress']({'charCode':_0x20c63e[_0x532c('0x11')]});}};_0x36614e['onkeyup']=_0x4aa6c7=>{console[_0x532c('0xf1')]('key\x20up\x20'+_0x4aa6c7[_0x532c('0xd1')]);if(!_0x54b2d2['enableKeyboard']){return;}if(_0x73080b(_0x4aa6c7)==![]){_0x4aa6c7['preventDefault']();return;}_0x54b2d2[_0x532c('0xaf')](new Uint8Array([MapVision['MessageType']['KeyUp'],_0x3d6538(_0x4aa6c7)])['buffer']);};_0x36614e['onkeypress']=_0x52f6c7=>{if(!_0x54b2d2[_0x532c('0x87')]){return;}if(_0x73080b(_0x52f6c7)==![]){_0x52f6c7['preventDefault']();return;}let _0x200e68=new DataView(new ArrayBuffer(0x3));_0x200e68[_0x532c('0xe4')](0x0,MapVision['MessageType']['KeyPress']);_0x200e68['setUint16'](0x1,_0x52f6c7[_0x532c('0xda')],!![]);_0x54b2d2[_0x532c('0xaf')](_0x200e68['buffer']);};};MapVision[_0x532c('0x121')][_0x532c('0x91')]['_createWebRtcPlayer']=function(_0x38ead3,_0x33025e){let _0x81031=this;_0x81031[_0x532c('0x5e')]=document['getElementById'](_0x38ead3);_0x81031[_0x532c('0x14a')]=new webRtcPlayer({'peerConnectionOptions':_0x33025e['peerConnectionOptions']});_0x81031[_0x532c('0x5e')][_0x532c('0x12d')]['visibility']=_0x532c('0x1b');let _0x5896a8=_0x81031['_webRtcPlayerHtmlElement'];_0x5896a8['appendChild'](_0x81031[_0x532c('0x14a')][_0x532c('0xea')]);_0x81031[_0x532c('0x14a')]['onWebRtcOffer']=function(_0x3f270){if(_0x81031[_0x532c('0x19')]&&_0x81031['_webSocket'][_0x532c('0xe8')]===MapVision['WS_OPEN_STATE']){let _0xc8b95=JSON['stringify'](_0x3f270);_0x81031['_webSocket']['send'](_0xc8b95);}};_0x81031['_webRtcPlayerObj'][_0x532c('0x146')]=function(_0xe4e1ee){if(_0x81031['_webSocket']&&_0x81031['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){console['log']('->\x20SS:\x20iceCandidate\x0a'+JSON['stringify'](_0xe4e1ee,undefined,0x4));_0x81031['_webSocket']['send'](JSON[_0x532c('0x36')]({'type':'iceCandidate','candidate':_0xe4e1ee}));}};_0x81031['_webRtcPlayerObj'][_0x532c('0x47')]=function(){if(_0x81031[_0x532c('0x19')]&&_0x81031['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){if(_0x81031['_webRtcPlayerObj']){_0x81031['_webRtcPlayerObj']['video'][_0x532c('0x96')]=!![];setTimeout(function(){_0x81031[_0x532c('0x16d')]();_0x81031[_0x532c('0x7c')]();_0x81031['_webRtcPlayerObj']['video'][_0x532c('0x169')]();},0x32);}}};_0x81031[_0x532c('0x14a')][_0x532c('0xca')]=function(){if(_0x81031['_webSocket']&&_0x81031[_0x532c('0x19')][_0x532c('0xe8')]===MapVision[_0x532c('0x8d')]){if(_0x81031[_0x532c('0x14a')][_0x532c('0xea')]&&_0x81031[_0x532c('0x14a')][_0x532c('0xea')][_0x532c('0x0')]&&_0x81031['_webRtcPlayerObj']['onVideoInitialised']){_0x81031['_webRtcPlayerObj'][_0x532c('0x47')]();}if(_0x81031['_registerCallback']){const _0x13ccfb={'code':0xc8,'msg':'websocket\x20connected'};_0x81031['_registerCallback'](_0x13ccfb);}_0x81031[_0x532c('0x5e')]['style'][_0x532c('0xee')]=_0x532c('0x67');}};_0x81031['_webRtcPlayerObj'][_0x532c('0x61')]=function(_0x48090a){var _0x2c054f=new Uint8Array(_0x48090a);var _0x1ec43f=_0x2c054f[0x0];if(_0x1ec43f===MapVision['ToClientMessageType'][_0x532c('0xdf')]){let _0x457309=new TextDecoder('utf-16')[_0x532c('0xd4')](_0x48090a[_0x532c('0x102')](0x1));console['log'](_0x532c('0x10b')+_0x457309);}else if(_0x1ec43f===MapVision[_0x532c('0x37')]['Response']){let _0x362775=new TextDecoder(_0x532c('0x119'))[_0x532c('0xd4')](_0x48090a['slice'](0x1));let _0x4a7fdd=JSON[_0x532c('0x18')](_0x362775);const _0x29ab24=_0x4a7fdd[_0x532c('0x55')];if(_0x29ab24&&_0x81031['_callback'][_0x29ab24]){delete _0x4a7fdd[_0x532c('0x55')];if(_0x4a7fdd['objects']){_0x81031['_callback'][_0x29ab24](_0x4a7fdd[_0x532c('0x109')]);}else{_0x81031['_callback'][_0x29ab24](_0x4a7fdd);}}if(_0x4a7fdd&&_0x4a7fdd[_0x532c('0x143')]){_0x81031['_onMouseSelectedObj']=_0x4a7fdd;}}else if(_0x1ec43f===MapVision['ToClientMessageType'][_0x532c('0x171')]){let _0x8f9f7d=new TextDecoder(_0x532c('0x119'))['decode'](_0x48090a[_0x532c('0x102')](0x1));console['log'](_0x532c('0x4e')+_0x8f9f7d);}else if(_0x1ec43f===MapVision[_0x532c('0x37')][_0x532c('0x2a')]){let _0x1bae75=new TextDecoder(_0x532c('0x119'))['decode'](_0x48090a[_0x532c('0x102')](0x1));console['log'](_0x532c('0xe0')+_0x1bae75);}else if(_0x1ec43f===MapVision[_0x532c('0x37')][_0x532c('0x133')]){let _0x256b44=new TextDecoder(_0x532c('0x119'))[_0x532c('0xd4')](_0x48090a[_0x532c('0x102')](0x1));console['log'](_0x532c('0x5d')+_0x256b44);}};_0x81031['_registerMouseEvents'](_0x5896a8);_0x81031[_0x532c('0xcc')](_0x5896a8);_0x81031['_registerKeyboardEvents'](_0x5896a8);_0x81031[_0x532c('0x14a')]['createOffer']();};MapVision['View3d'][_0x532c('0x91')]['_sendInputData']=function(_0x16b2b5){if(this['_webRtcPlayerObj']){this[_0x532c('0x14a')]['send'](_0x16b2b5);}else{console['log'](_0x532c('0x9d'));}};MapVision[_0x532c('0x121')][_0x532c('0x91')]['_emitDescriptor']=function(_0x5bfa89,_0x3d9be8){let _0x10e5b1=JSON['stringify'](_0x3d9be8);let _0x1edd1d=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x10e5b1['length']));let _0x36a91c=0x0;_0x1edd1d['setUint8'](_0x36a91c,_0x5bfa89);_0x36a91c++;_0x1edd1d['setUint16'](_0x36a91c,_0x10e5b1['length'],!![]);_0x36a91c+=0x2;for(let _0x319f9e=0x0;_0x319f9e<_0x10e5b1[_0x532c('0x5c')];_0x319f9e++){_0x1edd1d[_0x532c('0x1f')](_0x36a91c,_0x10e5b1['charCodeAt'](_0x319f9e),!![]);_0x36a91c+=0x2;}this['_sendInputData'](_0x1edd1d['buffer']);};MapVision['View3d']['prototype']['_emiUICommand']=function(_0x3500fd,_0x48e35a){this[_0x532c('0x6')]=_0x3500fd;const _0x46f3af={'cmd':_0x3500fd,'data':_0x48e35a};this['_emitDescriptor'](MapVision['MessageType']['UIInteraction'],_0x46f3af);};MapVision['View3d'][_0x532c('0x91')]['_requestInitialSettings']=function(){this[_0x532c('0xaf')](new Uint8Array([MapVision['MessageType']['RequestInitialSettings']])['buffer']);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x7c')]=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x532c('0x15b')][_0x532c('0xaa')]])['buffer']);};MapVision[_0x532c('0x121')]['prototype']['_onMouseMove']=function(_0x46ce4d,_0x543d53,_0x2bd43c,_0x12c683){let _0x2e46ed=this;if(!_0x2e46ed[_0x532c('0x19')]){return;}let _0x1d94c4=_0x2e46ed['_normalizeAndQuantizeUnsigned'](_0x46ce4d,_0x543d53);let _0x241d8b=_0x2e46ed[_0x532c('0x10d')](_0x2bd43c,_0x12c683);var _0x3b75ce=new DataView(new ArrayBuffer(0x9));_0x3b75ce['setUint8'](0x0,MapVision[_0x532c('0x15b')]['MouseMove']);_0x3b75ce['setUint16'](0x1,_0x1d94c4['x'],!![]);_0x3b75ce['setUint16'](0x3,_0x1d94c4['y'],!![]);_0x3b75ce[_0x532c('0x13e')](0x5,_0x241d8b['x'],!![]);_0x3b75ce['setInt16'](0x7,_0x241d8b['y'],!![]);_0x2e46ed['_sendInputData'](_0x3b75ce['buffer']);};MapVision['View3d'][_0x532c('0x91')]['_onMouseDown']=function(_0x5a75ba,_0x14efd1,_0x17661d){let _0x342170=this;if(!_0x342170['_webSocket']){return;}let _0x57f25d=_0x342170['_normalizeAndQuantizeUnsigned'](_0x14efd1,_0x17661d);var _0x1b7bc0=new DataView(new ArrayBuffer(0x6));_0x1b7bc0['setUint8'](0x0,MapVision[_0x532c('0x15b')][_0x532c('0xd2')]);_0x1b7bc0[_0x532c('0xe4')](0x1,_0x5a75ba);_0x1b7bc0['setUint16'](0x2,_0x57f25d['x'],!![]);_0x1b7bc0[_0x532c('0x1f')](0x4,_0x57f25d['y'],!![]);_0x342170[_0x532c('0xaf')](_0x1b7bc0['buffer']);};MapVision['View3d'][_0x532c('0x91')]['_onMouseUp']=function(_0x3c637b,_0xc65498,_0x15d265){let _0x460b79=this;if(!_0x460b79['_webSocket']){return;}let _0x5146b8=_0x460b79[_0x532c('0x117')](_0xc65498,_0x15d265);var _0x11eb39=new DataView(new ArrayBuffer(0x6));_0x11eb39['setUint8'](0x0,MapVision[_0x532c('0x15b')]['MouseUp']);_0x11eb39['setUint8'](0x1,_0x3c637b);_0x11eb39['setUint16'](0x2,_0x5146b8['x'],!![]);_0x11eb39['setUint16'](0x4,_0x5146b8['y'],!![]);_0x460b79['_sendInputData'](_0x11eb39[_0x532c('0xeb')]);};MapVision['View3d'][_0x532c('0x91')]['_onMouseWheel']=function(_0x65ec7,_0x1a8ec2,_0x1947d1){let _0x30a5c7=this;if(!_0x30a5c7['_webSocket']){return;}let _0x21e483=_0x30a5c7[_0x532c('0x117')](_0x1a8ec2,_0x1947d1);var _0x20451a=new DataView(new ArrayBuffer(0x7));_0x20451a['setUint8'](0x0,MapVision['MessageType']['MouseWheel']);_0x20451a[_0x532c('0x13e')](0x1,_0x65ec7,!![]);_0x20451a[_0x532c('0x1f')](0x3,_0x21e483['x'],!![]);_0x20451a['setUint16'](0x5,_0x21e483['y'],!![]);_0x30a5c7['_sendInputData'](_0x20451a['buffer']);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0xa6')]=function(_0x25f906,_0x5d71f7,_0x5de7b9){if(_0x25f906&MapVision['MouseButtonsMask'][_0x532c('0x49')]){this[_0x532c('0x16e')](MapVision['MouseButton']['MainButton'],_0x5d71f7,_0x5de7b9);}if(_0x25f906&MapVision[_0x532c('0x7')]['SecondaryButton']){this['_onMouseUp'](MapVision['MouseButton']['SecondaryButton'],_0x5d71f7,_0x5de7b9);}if(_0x25f906&MapVision[_0x532c('0x7')][_0x532c('0x13f')]){this['_onMouseUp'](MapVision['MouseButton'][_0x532c('0x13f')],_0x5d71f7,_0x5de7b9);}if(_0x25f906&MapVision[_0x532c('0x7')]['FourthButton']){this[_0x532c('0x16e')](MapVision['MouseButton'][_0x532c('0x8c')],_0x5d71f7,_0x5de7b9);}if(_0x25f906&MapVision[_0x532c('0x7')][_0x532c('0x98')]){this[_0x532c('0x16e')](MapVision['MouseButton'][_0x532c('0x98')],_0x5d71f7,_0x5de7b9);}};MapVision['View3d']['prototype']['_pressMouseButtons']=function(_0x127e77,_0x6d0add,_0x2acf9f){if(_0x127e77&MapVision['MouseButtonsMask'][_0x532c('0x49')]){this['_onMouseDown'](MapVision['MouseButton']['MainButton'],_0x6d0add,_0x2acf9f);}if(_0x127e77&MapVision['MouseButtonsMask']['SecondaryButton']){this['_onMouseDown'](MapVision[_0x532c('0x105')][_0x532c('0x5')],_0x6d0add,_0x2acf9f);}if(_0x127e77&MapVision[_0x532c('0x7')][_0x532c('0x13f')]){this[_0x532c('0x4f')](MapVision['MouseButton'][_0x532c('0x13f')],_0x6d0add,_0x2acf9f);}if(_0x127e77&MapVision['MouseButtonsMask']['FourthButton']){this['_onMouseDown'](MapVision['MouseButton']['FourthButton'],_0x6d0add,_0x2acf9f);}if(_0x127e77&MapVision[_0x532c('0x7')][_0x532c('0x98')]){this['_onMouseDown'](MapVision['MouseButton'][_0x532c('0x98')],_0x6d0add,_0x2acf9f);}};MapVision[_0x532c('0x121')][_0x532c('0x91')][_0x532c('0x117')]=function(_0x1d031e,_0x5b6207){let _0x5279c1=this;if(!_0x5279c1[_0x532c('0x19')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x6873a1=_0x5279c1['_webRtcPlayerHtmlElement'];let _0x3135eb=_0x5279c1['_webRtcPlayerObj']['video'];let _0x43d050=_0x6873a1[_0x532c('0x65')]/_0x6873a1['clientWidth'];let _0x334706=_0x3135eb[_0x532c('0x9a')]/_0x3135eb['videoWidth'];_0x334706=_0x43d050;if(_0x43d050>_0x334706){let _0x426bfc=_0x43d050/_0x334706;let _0x27190a=_0x1d031e/_0x6873a1[_0x532c('0x137')];let _0x1f4f04=_0x426bfc*(_0x5b6207/_0x6873a1[_0x532c('0x65')]-0.5)+0.5;if(_0x27190a<0x0||_0x27190a>0x1||_0x1f4f04<0x0||_0x1f4f04>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x27190a*0x10000,'y':_0x1f4f04*0x10000};}}else{let _0x4e8145=_0x334706/_0x43d050;let _0x314780=_0x4e8145*(_0x1d031e/_0x6873a1['clientWidth']-0.5)+0.5;let _0x298326=_0x5b6207/_0x6873a1['clientHeight'];if(_0x314780<0x0||_0x314780>0x1||_0x298326<0x0||_0x298326>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x314780*0x10000,'y':_0x298326*0x10000};}}};MapVision['View3d']['prototype'][_0x532c('0x10d')]=function(_0x26ccce,_0x3fb35f){let _0x41ccde=this;if(!_0x41ccde[_0x532c('0x19')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x5524cc=_0x41ccde['_webRtcPlayerHtmlElement'];let _0x1e5f71=_0x41ccde[_0x532c('0x14a')]['video'];let _0x1ea4dc=_0x5524cc['clientHeight']/_0x5524cc['clientWidth'];let _0x570bc7=_0x1e5f71['videoHeight']/_0x1e5f71['videoWidth'];_0x570bc7=_0x1ea4dc;if(_0x1ea4dc>_0x570bc7){let _0x57728f=_0x1ea4dc/_0x570bc7;let _0x43262a=_0x26ccce/(0.5*_0x5524cc['clientWidth']);let _0x42d2b1=_0x57728f*_0x3fb35f/(0.5*_0x5524cc[_0x532c('0x65')]);return{'x':_0x43262a*0x7fff,'y':_0x42d2b1*0x7fff};}else{let _0x3c9ee2=_0x570bc7/_0x1ea4dc;let _0xd1550e=_0x3c9ee2*_0x26ccce/(0.5*_0x5524cc[_0x532c('0x137')]);let _0x20189d=_0x3fb35f/(0.5*_0x5524cc[_0x532c('0x65')]);return{'x':_0xd1550e*0x7fff,'y':_0x20189d*0x7fff};}};MapVision[_0x532c('0x121')]['prototype']['_unquantizeAndDenormalizeUnsigned']=function(_0x5c2c,_0x2eb3ab){let _0x4b11aa=this;if(!_0x4b11aa['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x33d93d=_0x4b11aa['_webRtcPlayerHtmlElement'];let _0x26642d=_0x4b11aa['_webRtcPlayerObj']['video'];let _0x169171=_0x33d93d['clientHeight']/_0x33d93d[_0x532c('0x137')];let _0x36f6eb=_0x26642d['videoHeight']/_0x26642d[_0x532c('0x97')];if(_0x169171>_0x36f6eb){let _0x2f3ab5=_0x169171/_0x36f6eb;let _0x52ecc2=_0x5c2c/0x10000;let _0x533055=(_0x2eb3ab/0x10000-0.5)/_0x2f3ab5+0.5;return{'x':_0x52ecc2*_0x33d93d[_0x532c('0x137')],'y':_0x533055*_0x33d93d['clientHeight']};}else{let _0xee7889=(_0x5c2c/0x10000-0.5)/ratio+0.5;let _0x5ad083=_0x2eb3ab/0x10000;return{'x':_0xee7889*_0x33d93d['clientWidth'],'y':_0x5ad083*_0x33d93d[_0x532c('0x65')]};}};MapVision[_0x532c('0x121')]['prototype']['_onWebRtcAnswer']=function(_0x4c8165){this[_0x532c('0x14a')][_0x532c('0x86')](_0x4c8165);this['_webRtcPlayerObj']['onAggregatedStats']=_0x36ffe6=>{};this['_webRtcPlayerObj'][_0x532c('0x16')](0x1*0x3e8);};MapVision[_0x532c('0x121')]['prototype']['_onWebRtcIce']=function(_0x2b9915){if(this[_0x532c('0x14a')])this[_0x532c('0x14a')][_0x532c('0x4c')](_0x2b9915);};MapVision['View3d'][_0x532c('0x91')][_0x532c('0x2b')]=function(_0x1c80e2,_0x267a12,_0x5aa101){var _0x1d67e5=null;if(window[_0x532c('0x4d')]){_0x1d67e5=new XMLHttpRequest();}else if(window[_0x532c('0x108')]){_0x1d67e5=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x1d67e5==null){alert(_0x532c('0xa0'));return;}var _0x38b2a9=(_0x1c80e2[_0x532c('0xce')]||_0x532c('0xec'))['toUpperCase']();var _0x3e4377=_0x1c80e2['dataType']||_0x532c('0x114');var _0x52ef9c=_0x1c80e2['httpUrl']||'';var _0x473b02=_0x1c80e2['async']||!![];var _0x41bd09=_0x1c80e2[_0x532c('0xe')]||[];var _0x1ab838='';for(var _0x4c589e in _0x41bd09){_0x1ab838+=_0x4c589e+'='+_0x41bd09[_0x4c589e]+'&';}_0x1ab838=_0x1ab838==''?'':_0x1ab838[_0x532c('0x28')](0x0,_0x1ab838[_0x532c('0x5c')]-0x1);console[_0x532c('0xf1')](_0x1ab838);_0x1d67e5[_0x532c('0xfa')]=function(){if(_0x1d67e5[_0x532c('0xe8')]==0x4&&_0x1d67e5['status']==0xc8){var _0x3b5f28=JSON['parse'](_0x1d67e5['responseText']);_0x267a12(_0x3b5f28);}else{_0x5aa101;}};if(_0x38b2a9==_0x532c('0xec')){_0x1d67e5['open']('GET',_0x52ef9c,_0x473b02);_0x1d67e5[_0x532c('0x165')](null);}else if(_0x38b2a9=='POST'){_0x1d67e5['open']('POST',_0x52ef9c,_0x473b02);_0x1d67e5[_0x532c('0x33')]('Content-type',_0x532c('0x48'));_0x1d67e5['send'](_0x1ab838);}};