const _0x1551=['ResetAllBuildings','TestStartTimeMs','bytesReceived','log','oniceconnectionstatechange','RePlayRouteModel','SetParameters','你的浏览器不支持XMLHttp','FourthButton','aggregatedStats','SplitDynamicBuilding','decode','arraybuffer','receiveAnswer','error','_webRtcPlayerObj','onmouseleave','GetScrrenPosition','visible','play','_pressMouseButtons','SetObjectsHighlightByPrefix','then','default','videoHeight','presentationTime','candidate','ToClientMessageType','_registerMouseEvents','Position','FlyToObject','this._webSocket\x20error:\x20','UnRegisterEvent','Rotate','ICE\x20candidate:\x20','UEPreCaptureTimeMs','utf-16','UpdateObjectStyle','1.0.1','GetFloorDeviceNum','onMouse','floor','PreEncodeTimeMs','dcClient','enableKeyboard','#ff0000','Closing\x20existing\x20PeerConnection','onmessage','CreateRoute','BackSpace','onkeydown','webSocket\x20connenect\x20error','exports','https:','onmousemove','KeyUp','handleCandidateFromServer','setLocalDescription','cirrus','GetFloorRoomName','warn','LayerLoad','StopSequence','onAggregatedStats','sdp','/aimapvision3d','token','stringify','PostEncodeTimeMs','UEPreEncodeTimeMs','ShiftRight','removeChild','OverLayerUpdateObject','GetUpFloorNames','FrameDisplayDeltaTimeMs','timestamp','SplitDynamicFloor','GetUpFloorNum','SetObjectsVisible','httpUrl','websocket\x20connected','Bad\x20Request','Open','FifthButton','lowBitrate','_webRtcPlayerHtmlElement','SetBuildingWkVisible','audio','name','button','repeat','receiveToCompositeMs','GetHomePosition','UEPostEncodeTimeMs','MapVision.View3d','open','_onMouseMove','framerate','style','clientWidth','getStats','RequestInitialSettings','playerCount','FindObjectByName','GetFloorNames','position','setRemoteDescription','MainButton','onicecandidate','GetFloorDeviceVisible','_callback','ControlRight','_webSocket','FindObjectByPrefix','lowFramerate','avgframerate','SplitFloorReset','sdpConstraints','SplitBuilding','Reset','framesReceived','highlight','GetSelectedObject','keyCode','json','use\x20strict','sendrecv','_unregisterEvents','MessageType','_createWebRtcPlayer','onclose','recvonly','now','onmousewheel','QualityControlOwnership','WS\x20closed:\x20','expectedDisplayTime','framesDecodedStart','OverLayerRemoveObjects','GetFloorRoomVisible',')\x20connect','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','info','Close','WS_OPEN_STATE','hasOwnProperty','appendChild','geom','ctrlKey','_registerKeyboardEvents','offsetX','OverLayerRemoveObjectById','./adapter','Response','length',')\x20closed','ontrack','_requestInitialSettings','MouseUp','onmouseup','substring','onreadystatechange','charCodeAt','_onMouseSelectedObj','enableMouse','_mouseDownStatus','GetObjectsVisible','peerConnectionOptions','SplitBuildingReset','toLowerCase','addEventListener','StreamVideoOpen','onDataChannelConnected','MouseButtonsMask','onmouseenter','GET','buttons','responseText','OpenMap','onmousedown','getElementById','onicegatheringstatechange','/project3d/getInfo?id=','OverLayerStopEdit','_normalizeAndQuantizeUnsigned','LayerRemove','Microsoft.XMLHTTP','hostname','Building','RequestQualityControl','SecondaryButton','Polygon','CommandType','SetGroundVisible','inbound-rtp','buffer','frameHeightStart','code','GetFloorRoomNames','->\x20SS:\x20QualityControlOwnership:\x0a','SetMouseCallback','getElementsByTagName','onDataChannelMessage','onkeypress','yaw','framesDropped','dataChannelOptions','ResumeRouteModel','dataType','_connectWebsocket','latencyTestTimings','includes','_normalizeAndQuantizeSigned','movementY','setUint8','UpdateObjectVisibleByPrefix','No\x20data\x20channel','Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.','_onMouseUpCallback','For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27','trackIdentifier','Audio','has','iceCandidate','StreamVideoClose','timestampStart','OverLayerRemoveAllCustom','streams','CreateObject','LineString','status','GetFloorName','_registerTouchEvents','MapStatusType','SetMapStatus','type','video','cfg','framesDroppedPercentage','amd','port','GetDownFloorNames','bytesReceivedStart','UETransmissionTimeMs','PauseRoute','GetFloorDeviceNames','send','KeyPress','OnAllLatencyTimingsReady','_command','avgBitrate','key\x20up\x20','readyState','NorthControl','preventDefault','SetBuildingVisible','GetFloorRoomNum','pitch','UnfreezeFrame','GetBuildingNum','createDataChannel','UIInteraction','parse','prototype','clientHeight','reason','GetFloorNum','useMic','setUint16','SetPosition','FlyToPosition','url','close','GetScenceSunInfo','videoWidth','Label','oncontextmenu','onVideoInitialised','Command','highBitrate','UpdateObjectVisible','GetBuildingName','_sendInputData','_onMouseWheel','PauseSequence','Model3D','pcClient','SELECTE','->\x20SS:\x20UnfreezeFrame:\x0a','offsetY','pressMouseButtons','receiveTime','SetObjectHighlight','releaseMouseButtons','onWebRtcCandidate','requestVideoFrameCallback','IsPausedSequence','_emiUICommand','\x20_webSocket\x20closed\x20','onWebRtcOffer','_onMouseMoveCallback','visibility','replace','onerror','_callbackMouse','_onMouseUp','MouseButton','radio','PrimaryButton','AuxiliaryButton','View3d','GetBuildingVisible','slice','_onMouseDown','srcObject','_httpRequest','KeyDown','StartRoute','addTransceiver','FlyToObjectById','config','SetMousePositionCallback','ClearHighlight','LayerSelectObject','IsPlayingSequence','wheelDelta','OverLayerRemoveAll','_registerCallback','muted','currentRoundTripTime','_onMouseDownCallback','BrowserReceiptTimeMs','frameWidth','&token=','framesDecoded','data','SetFloorRoomVisible','distance','bitrate','_emitDescriptor','onopen','indexOf','createOffer','Clear','projectId','track','kind','XMLHttpRequest','POST','round'];const _0x4112=function(_0x1551d4,_0x411292){_0x1551d4=_0x1551d4-0x0;let _0x38a057=_0x1551[_0x1551d4];return _0x38a057;};(function(_0x34f842,_0x17a1ba){if(typeof define==='function'&&define[_0x4112('0xef')]){define([_0x4112('0x98')],_0x17a1ba);}else if(typeof exports==='object'){module[_0x4112('0x34')]=_0x17a1ba(require('./adapter'));}else{_0x34f842['webRtcPlayer']=_0x17a1ba(_0x34f842['adapter']);}}(this,function(_0x2d3d47){function _0x20ba7d(_0x237248){_0x237248=_0x237248||{};var _0x1d8abd=this;this['cfg']=_0x237248[_0x4112('0xa7')]||{};this[_0x4112('0xed')]['sdpSemantics']='unified-plan';this['cfg']['offerExtmapAllowMixed']=![];this['pcClient']=null;this['dcClient']=null;this['tnClient']=null;this[_0x4112('0x75')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x523ea1=new URLSearchParams(window['location']['search']);this['useMic']=_0x523ea1[_0x4112('0xde')](_0x4112('0x10b'));if(!this[_0x4112('0x10b')]){console['log'](_0x4112('0xd9'));}let _0x2a1421=location[_0x4112('0xbb')]==='localhost'||location['hostname']==='127.0.0.1';let _0x497e69=location['protocol']===_0x4112('0x35');if(this[_0x4112('0x10b')]&&!_0x2a1421&&!_0x497e69){this[_0x4112('0x10b')]=![];console[_0x4112('0xe')]('Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.');console[_0x4112('0xe')](_0x4112('0xdb'));}this[_0x4112('0xd2')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this[_0x4112('0x1')]=null;this['UEReceiptTimeMs']=null;this[_0x4112('0x23')]=null;this['UEPostCaptureTimeMs']=null;this[_0x4112('0x45')]=null;this[_0x4112('0x5d')]=null;this[_0x4112('0xf3')]=null;this['BrowserReceiptTimeMs']=null;this[_0x4112('0x4a')]=null;},'SetUETimings':function(_0x236c4d){this['UEReceiptTimeMs']=_0x236c4d['ReceiptTimeMs'];this['UEPreCaptureTimeMs']=_0x236c4d['PreCaptureTimeMs'];this['UEPostCaptureTimeMs']=_0x236c4d['PostCaptureTimeMs'];this[_0x4112('0x45')]=_0x236c4d[_0x4112('0x2a')];this[_0x4112('0x5d')]=_0x236c4d[_0x4112('0x44')];this['UETransmissionTimeMs']=_0x236c4d['TransmissionTimeMs'];this[_0x4112('0x14b')]=Date['now']();this[_0x4112('0xf8')](this);},'SetFrameDisplayDeltaTime':function(_0x78108d){if(this[_0x4112('0x4a')]==null){this[_0x4112('0x4a')]=Math[_0x4112('0x15d')](_0x78108d);this[_0x4112('0xf8')](this);}},'OnAllLatencyTimingsReady':function(_0x354bef){}};createWebRtcVideo=function(){var _0x37b09a=document['createElement']('video');_0x37b09a['id']='streamingVideo';_0x37b09a['playsInline']=!![];_0x37b09a['disablepictureinpicture']=!![];_0x37b09a[_0x4112('0x148')]=![];_0x37b09a[_0x4112('0xaa')]('loadedmetadata',function(_0x160681){if(_0x1d8abd[_0x4112('0x115')]){_0x1d8abd['onVideoInitialised']();}},!![]);if('requestVideoFrameCallback'in HTMLVideoElement['prototype']){const _0x5a50db=(_0x95f428,_0x27d754)=>{if(_0x27d754[_0x4112('0x123')]&&_0x27d754[_0x4112('0x88')]){const _0x141685=_0x27d754[_0x4112('0x19')]-_0x27d754['receiveTime'];_0x1d8abd[_0x4112('0x9')][_0x4112('0x5b')]=_0x141685;}_0x37b09a['requestVideoFrameCallback'](_0x5a50db);};_0x37b09a[_0x4112('0x127')](_0x5a50db);}return _0x37b09a;};this[_0x4112('0xec')]=createWebRtcVideo();onsignalingstatechange=function(_0x3ca25f){console[_0x4112('0x8e')]('signaling\x20state\x20change:',_0x3ca25f);};oniceconnectionstatechange=function(_0x4b9e57){console[_0x4112('0x8e')]('ice\x20connection\x20state\x20change:',_0x4b9e57);};onicegatheringstatechange=function(_0x25a289){console[_0x4112('0x8e')]('ice\x20gathering\x20state\x20change:',_0x25a289);};handleOnTrack=function(_0x5b68b6){if(_0x5b68b6['track']){}if(_0x5b68b6['track'][_0x4112('0x15a')]=='audio'){handleOnAudioTrack(_0x5b68b6['streams'][0x0]);return;}else _0x5b68b6[_0x4112('0x159')][_0x4112('0x15a')]==_0x4112('0xec')&&_0x1d8abd[_0x4112('0xec')]['srcObject']!==_0x5b68b6['streams'][0x0];{_0x1d8abd[_0x4112('0xec')][_0x4112('0x13a')]=_0x5b68b6[_0x4112('0xe3')][0x0];return;}};handleOnAudioTrack=function(_0x43ddcb){if(_0x1d8abd['video']['srcObject']==_0x43ddcb){return;}else if(_0x1d8abd['video']['srcObject']&&_0x1d8abd['video'][_0x4112('0x13a')]!==_0x43ddcb){let _0x57c0e4=document['createElement'](_0x4112('0xdd'));_0x57c0e4['autoplay']=!![];_0x57c0e4['srcObject']=_0x43ddcb;_0x57c0e4[_0x4112('0x13')]();console[_0x4112('0x3')]('Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.');}};setupDataChannel=function(_0x6f918e,_0x53e1b6,_0x17259b){try{let _0x5a87d9=_0x6f918e[_0x4112('0x104')](_0x53e1b6,_0x17259b);console['log']('Created\x20datachannel\x20('+_0x53e1b6+')');_0x5a87d9['binaryType']=_0x4112('0xc');_0x5a87d9[_0x4112('0x154')]=function(_0x30bb53){console[_0x4112('0x3')]('data\x20channel\x20('+_0x53e1b6+_0x4112('0x8c'));if(_0x1d8abd[_0x4112('0xac')]){_0x1d8abd['onDataChannelConnected']();}};_0x5a87d9['onclose']=function(_0x24036c){console[_0x4112('0x3')]('data\x20channel\x20('+_0x53e1b6+_0x4112('0x9b'));};_0x5a87d9['onmessage']=function(_0x44e4cb){if(_0x1d8abd[_0x4112('0xca')])_0x1d8abd['onDataChannelMessage'](_0x44e4cb['data']);};return _0x5a87d9;}catch(_0x542f94){console['warn'](_0x4112('0xd8'),_0x542f94);return null;}};onicecandidate=function(_0x2afcb9){console['log']('ICE\x20candidate',_0x2afcb9);if(_0x2afcb9['candidate']&&_0x2afcb9[_0x4112('0x1a')]['candidate']){_0x1d8abd[_0x4112('0x126')](_0x2afcb9[_0x4112('0x1a')]);}};handleCreateOffer=function(_0x3f05e3){_0x3f05e3[_0x4112('0x156')](_0x1d8abd['sdpConstraints'])['then'](function(_0x318848){mungeSDPOffer(_0x318848);_0x3f05e3[_0x4112('0x39')](_0x318848);if(_0x1d8abd[_0x4112('0x12b')]){_0x1d8abd[_0x4112('0x12b')](_0x318848);}},function(){console[_0x4112('0x3c')]('Couldn\x27t\x20create\x20offer');});};mungeSDPOffer=function(_0x538f1a){_0x538f1a[_0x4112('0x40')]=_0x538f1a['sdp']['replace']('useinbandfec=1','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000');};setupPeerConnection=function(_0x2be6f9){if(_0x2be6f9['SetBitrate'])console['log']('Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function');_0x2be6f9['onsignalingstatechange']=onsignalingstatechange;_0x2be6f9[_0x4112('0x4')]=oniceconnectionstatechange;_0x2be6f9[_0x4112('0xb5')]=onicegatheringstatechange;_0x2be6f9[_0x4112('0x9c')]=handleOnTrack;_0x2be6f9[_0x4112('0x6c')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x1d8abd['aggregatedStats'])_0x1d8abd['aggregatedStats']={};return function(_0x3cb68e){let _0x2986da={};_0x3cb68e['forEach'](_0x26ac45=>{if(_0x26ac45[_0x4112('0xeb')]==_0x4112('0xc2')&&!_0x26ac45['isRemote']&&(_0x26ac45['mediaType']=='video'||_0x26ac45['id'][_0x4112('0xa9')]()[_0x4112('0xd3')]('video'))){_0x2986da['timestamp']=_0x26ac45['timestamp'];_0x2986da[_0x4112('0x2')]=_0x26ac45[_0x4112('0x2')];_0x2986da[_0x4112('0x14e')]=_0x26ac45['framesDecoded'];_0x2986da['packetsLost']=_0x26ac45['packetsLost'];_0x2986da[_0x4112('0xf2')]=_0x1d8abd['aggregatedStats']&&_0x1d8abd['aggregatedStats']['bytesReceivedStart']?_0x1d8abd[_0x4112('0x9')]['bytesReceivedStart']:_0x26ac45['bytesReceived'];_0x2986da[_0x4112('0x89')]=_0x1d8abd['aggregatedStats']&&_0x1d8abd['aggregatedStats'][_0x4112('0x89')]?_0x1d8abd[_0x4112('0x9')]['framesDecodedStart']:_0x26ac45['framesDecoded'];_0x2986da[_0x4112('0xe1')]=_0x1d8abd['aggregatedStats']&&_0x1d8abd[_0x4112('0x9')]['timestampStart']?_0x1d8abd['aggregatedStats']['timestampStart']:_0x26ac45['timestamp'];if(_0x1d8abd[_0x4112('0x9')]&&_0x1d8abd[_0x4112('0x9')][_0x4112('0x4b')]){if(_0x1d8abd['aggregatedStats']['bytesReceived']){_0x2986da[_0x4112('0x152')]=0x8*(_0x2986da[_0x4112('0x2')]-_0x1d8abd[_0x4112('0x9')]['bytesReceived'])/(_0x2986da[_0x4112('0x4b')]-_0x1d8abd[_0x4112('0x9')][_0x4112('0x4b')]);_0x2986da['bitrate']=Math['floor'](_0x2986da['bitrate']);_0x2986da['lowBitrate']=_0x1d8abd['aggregatedStats'][_0x4112('0x54')]&&_0x1d8abd[_0x4112('0x9')]['lowBitrate']<_0x2986da[_0x4112('0x152')]?_0x1d8abd[_0x4112('0x9')][_0x4112('0x54')]:_0x2986da[_0x4112('0x152')];_0x2986da[_0x4112('0x117')]=_0x1d8abd['aggregatedStats'][_0x4112('0x117')]&&_0x1d8abd[_0x4112('0x9')]['highBitrate']>_0x2986da['bitrate']?_0x1d8abd[_0x4112('0x9')][_0x4112('0x117')]:_0x2986da['bitrate'];}if(_0x1d8abd['aggregatedStats'][_0x4112('0xf2')]){_0x2986da[_0x4112('0xfa')]=0x8*(_0x2986da['bytesReceived']-_0x1d8abd['aggregatedStats'][_0x4112('0xf2')])/(_0x2986da[_0x4112('0x4b')]-_0x1d8abd[_0x4112('0x9')][_0x4112('0xe1')]);_0x2986da[_0x4112('0xfa')]=Math[_0x4112('0x29')](_0x2986da[_0x4112('0xfa')]);}if(_0x1d8abd[_0x4112('0x9')]['framesDecoded']){_0x2986da[_0x4112('0x61')]=(_0x2986da['framesDecoded']-_0x1d8abd['aggregatedStats']['framesDecoded'])/((_0x2986da['timestamp']-_0x1d8abd['aggregatedStats'][_0x4112('0x4b')])/0x3e8);_0x2986da['framerate']=Math['floor'](_0x2986da['framerate']);_0x2986da['lowFramerate']=_0x1d8abd[_0x4112('0x9')]['lowFramerate']&&_0x1d8abd[_0x4112('0x9')][_0x4112('0x72')]<_0x2986da[_0x4112('0x61')]?_0x1d8abd[_0x4112('0x9')]['lowFramerate']:_0x2986da[_0x4112('0x61')];_0x2986da['highFramerate']=_0x1d8abd['aggregatedStats']['highFramerate']&&_0x1d8abd[_0x4112('0x9')]['highFramerate']>_0x2986da[_0x4112('0x61')]?_0x1d8abd[_0x4112('0x9')]['highFramerate']:_0x2986da['framerate'];}if(_0x1d8abd['aggregatedStats'][_0x4112('0x89')]){_0x2986da['avgframerate']=(_0x2986da['framesDecoded']-_0x1d8abd[_0x4112('0x9')][_0x4112('0x89')])/((_0x2986da[_0x4112('0x4b')]-_0x1d8abd['aggregatedStats']['timestampStart'])/0x3e8);_0x2986da[_0x4112('0x73')]=Math[_0x4112('0x29')](_0x2986da[_0x4112('0x73')]);}}}if(_0x26ac45['type']=='track'&&(_0x26ac45[_0x4112('0xdc')]=='video_label'||_0x26ac45['kind']==_0x4112('0xec'))){_0x2986da[_0x4112('0xcd')]=_0x26ac45[_0x4112('0xcd')];_0x2986da['framesReceived']=_0x26ac45[_0x4112('0x78')];_0x2986da[_0x4112('0xee')]=_0x26ac45['framesDropped']/_0x26ac45[_0x4112('0x78')]*0x64;_0x2986da['frameHeight']=_0x26ac45['frameHeight'];_0x2986da[_0x4112('0x14c')]=_0x26ac45['frameWidth'];_0x2986da['frameHeightStart']=_0x1d8abd['aggregatedStats']&&_0x1d8abd['aggregatedStats'][_0x4112('0xc4')]?_0x1d8abd['aggregatedStats'][_0x4112('0xc4')]:_0x26ac45['frameHeight'];_0x2986da['frameWidthStart']=_0x1d8abd[_0x4112('0x9')]&&_0x1d8abd[_0x4112('0x9')]['frameWidthStart']?_0x1d8abd[_0x4112('0x9')]['frameWidthStart']:_0x26ac45['frameWidth'];}if(_0x26ac45[_0x4112('0xeb')]=='candidate-pair'&&_0x26ac45[_0x4112('0x91')](_0x4112('0x149'))&&_0x26ac45[_0x4112('0x149')]!=0x0){_0x2986da['currentRoundTripTime']=_0x26ac45['currentRoundTripTime'];}});if(_0x1d8abd[_0x4112('0x9')][_0x4112('0x5b')]){_0x2986da[_0x4112('0x5b')]=_0x1d8abd[_0x4112('0x9')][_0x4112('0x5b')];_0x1d8abd['latencyTestTimings']['SetFrameDisplayDeltaTime'](_0x1d8abd['aggregatedStats']['receiveToCompositeMs']);}_0x1d8abd['aggregatedStats']=_0x2986da;if(_0x1d8abd[_0x4112('0x3f')])_0x1d8abd[_0x4112('0x3f')](_0x2986da);};};setupTracksToSendAsync=async function(_0x5ed107){_0x5ed107['addTransceiver']('video',{'direction':_0x4112('0x83')});if(!_0x1d8abd[_0x4112('0x10b')]){_0x5ed107[_0x4112('0x13e')]('audio',{'direction':_0x4112('0x83')});}else{let _0x3eab55=_0x1d8abd['useMic']?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x279201=await navigator['mediaDevices']['getUserMedia']({'video':![],'audio':_0x3eab55});if(_0x279201){for(const _0x45c080 of _0x279201['getTracks']()){if(_0x45c080['kind']&&_0x45c080['kind']==_0x4112('0x57')){_0x5ed107['addTransceiver'](_0x45c080,{'direction':_0x4112('0x7e')});}}}else{_0x5ed107[_0x4112('0x13e')](_0x4112('0x57'),{'direction':_0x4112('0x83')});}}};this['startLatencyTest']=function(_0x59fcf4){if(!_0x1d8abd['video']){return;}_0x1d8abd[_0x4112('0xd2')][_0x4112('0x77')]();_0x1d8abd['latencyTestTimings']['TestStartTimeMs']=Date[_0x4112('0x84')]();_0x59fcf4(_0x1d8abd[_0x4112('0xd2')]['TestStartTimeMs']);};this[_0x4112('0x38')]=function(_0x23fbbb){console[_0x4112('0x3')](_0x4112('0x22'),_0x23fbbb);let _0xeca37e=new RTCIceCandidate(_0x23fbbb);_0x1d8abd[_0x4112('0x11e')]['addIceCandidate'](_0xeca37e)['then'](_0x380a00=>{console['log']('ICE\x20candidate\x20successfully\x20added');});};this[_0x4112('0x156')]=function(){if(_0x1d8abd[_0x4112('0x11e')]){console['log'](_0x4112('0x2e'));_0x1d8abd[_0x4112('0x11e')]['close']();_0x1d8abd[_0x4112('0x11e')]=null;}_0x1d8abd['pcClient']=new RTCPeerConnection(_0x1d8abd['cfg']);setupTracksToSendAsync(_0x1d8abd[_0x4112('0x11e')])['finally'](function(){setupPeerConnection(_0x1d8abd[_0x4112('0x11e')]);_0x1d8abd['dcClient']=setupDataChannel(_0x1d8abd['pcClient'],_0x4112('0x3a'),_0x1d8abd[_0x4112('0xce')]);handleCreateOffer(_0x1d8abd[_0x4112('0x11e')]);});};this[_0x4112('0xd')]=function(_0x516cba){var _0x506a06=new RTCSessionDescription(_0x516cba);_0x1d8abd['pcClient'][_0x4112('0x6a')](_0x506a06);let _0x5ddd41=_0x1d8abd[_0x4112('0x11e')]['getReceivers']();for(let _0x5b51c8 of _0x5ddd41){_0x5b51c8['playoutDelayHint']=0x0;}};this[_0x4112('0x110')]=function(){if(_0x1d8abd['pcClient']){console[_0x4112('0x3')]('Closing\x20existing\x20peerClient');_0x1d8abd['pcClient']['close']();_0x1d8abd[_0x4112('0x11e')]=null;}if(_0x1d8abd['aggregateStatsIntervalId'])clearInterval(_0x1d8abd['aggregateStatsIntervalId']);};this['send']=function(_0x33acf9){if(_0x1d8abd['dcClient']&&_0x1d8abd['dcClient']['readyState']=='open'){_0x1d8abd[_0x4112('0x2b')]['send'](_0x33acf9);}};this['getStats']=function(_0x58092c){if(_0x1d8abd['pcClient']&&_0x58092c){_0x1d8abd[_0x4112('0x11e')][_0x4112('0x64')](null)[_0x4112('0x16')](_0xe56319=>{_0x58092c(_0xe56319);});}};this['aggregateStats']=function(_0x4241ec){let _0x57e51d=generateAggregatedStatsFunction();let _0x1452cb=()=>{_0x1d8abd[_0x4112('0x64')](_0x57e51d);};_0x1d8abd['aggregateStatsIntervalId']=setInterval(_0x1452cb,_0x4241ec);};};return _0x20ba7d;}));_0x4112('0x7d');var MapVision=window['MapVision']||{};MapVision['version']=()=>{return _0x4112('0x26');};MapVision['OpenStatus']={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision[_0x4112('0x1b')]={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision['MessageType']={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x4112('0x132')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x4112('0xad')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision[_0x4112('0xe9')]={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision[_0x4112('0xc0')]={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'GetBuildVersion':0x186a9,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'GetScenceSunInfo':0x1872d,'SetScenceSunInfo':0x1872e,'PlayRouteModel':0x18762,'RePlayRouteModel':0x18763,'PauseRouteModel':0x18764,'StopRouteModel':0x18765,'ResumeRouteModel':0x18766,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'StreamVideoCloseAll':0x1877f,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision[_0x4112('0x1d')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x4112('0x101')]=0x0;this[_0x4112('0xcc')]=0x0;this['roll']=0x0;};MapVision[_0x4112('0x113')]=function(){this[_0x4112('0xeb')]='label';this['gid']=0x1;this[_0x4112('0x58')]='';this[_0x4112('0x62')]='';this[_0x4112('0x69')]=new MapVision[(_0x4112('0x1d'))]();};MapVision[_0x4112('0x11d')]=function(){this['type']='model';this['gid']=0x1;this[_0x4112('0x58')]='';this['style']='';this[_0x4112('0x69')]=new MapVision['Position']();};MapVision[_0x4112('0xe5')]=function(){this[_0x4112('0xeb')]='linestring';this['gid']=0x1;this['name']='';this[_0x4112('0x62')]='';this[_0x4112('0x93')]=[];};MapVision[_0x4112('0xbf')]=function(){this[_0x4112('0xeb')]='polygon';this['gid']=0x1;this['name']='';this[_0x4112('0x62')]='';this['geom']=[];};MapVision[_0x4112('0xbc')]=function(){this['type']='building';this['gid']=0x0;this['name']='';this['floors']=[{'type':_0x4112('0x29'),'gid':0x0,'name':''}];this[_0x4112('0x69')]=new MapVision[(_0x4112('0x1d'))]();};MapVision['WS_OPEN_STATE']=0x1;MapVision[_0x4112('0x136')]=function(_0x2f815a){this['id']=_0x2f815a['id'];this['name']=_0x4112('0x5e');this['url']=_0x2f815a[_0x4112('0x10f')];this[_0x4112('0x158')]=_0x2f815a[_0x4112('0x158')];this[_0x4112('0x42')]=_0x2f815a['token'];this[_0x4112('0x2c')]=!![];this['enableMouse']=!![];this['_registerCallback']=null;this['_webRtcPlayerHtmlElement']=null;this[_0x4112('0xf')]=null;this['_webSocket']=null;this['_callback']=null;this['_callbackMouse']=null;this['_mouseDownStatus']=![];this[_0x4112('0xf9')]=null;this[_0x4112('0xa3')]=null;this[_0x4112('0x14a')]=null;this[_0x4112('0xda')]=null;this[_0x4112('0x12c')]=null;};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x52')]=function(_0x311a80){let _0x16a35b=this;_0x16a35b[_0x4112('0x147')]=_0x311a80;_0x16a35b[_0x4112('0x6e')]=null;if(_0x16a35b['id']==''||_0x16a35b['url']==''||_0x16a35b[_0x4112('0x158')]==''){if(_0x16a35b[_0x4112('0x147')]){const _0x2c5cff={'code':0xc9,'msg':'Parameter\x20ERROR'};_0x16a35b[_0x4112('0x147')](_0x2c5cff);}return;}window['WebSocket']=window['WebSocket']||window['MozWebSocket'];if(!window['WebSocket']){if(_0x16a35b[_0x4112('0x147')]){const _0x3afa4e={'code':0x1f9,'msg':_0x4112('0x8d')};_0x16a35b[_0x4112('0x147')](_0x3afa4e);}return;}const _0x5e3084=_0x16a35b['_webSocket'];if(_0x5e3084){_0x5e3084[_0x4112('0x110')]();_0x16a35b['_webSocket']=undefined;console['log']('\x20_webSocket\x20closed\x20');_0x16a35b[_0x4112('0x7f')](_0x16a35b['_webRtcPlayerHtmlElement']);}if(_0x16a35b[_0x4112('0x10f')][_0x4112('0x155')](_0x4112('0x41'))<0x0){let _0x370718=_0x16a35b['url']['replace']('http:','');_0x370718=_0x370718[_0x4112('0x12e')]('/','');_0x370718='ws://'+_0x370718;_0x370718=_0x370718[_0x4112('0x12e')]('///','//');console['log'](_0x370718);_0x16a35b[_0x4112('0xd1')](_0x370718);return;}const _0x3628a8={'httpUrl':_0x16a35b[_0x4112('0x10f')]+_0x4112('0xb6')+_0x16a35b[_0x4112('0x158')]+_0x4112('0x14d')+_0x16a35b['token'],'type':'get'};setTimeout(()=>{_0x16a35b['_httpRequest'](_0x3628a8,function(_0x5afe7b){if(_0x5afe7b[_0x4112('0xc5')]&&_0x5afe7b['code']===0xc8){const _0x1c4469=_0x5afe7b['data'];if(_0x1c4469[_0x4112('0xf0')]<0xa){console[_0x4112('0x3')]('aimapvision3d\x20server\x20is\x20not\x20started.');if(_0x16a35b['_registerCallback']){const _0x5003ce={'code':0x12c,'msg':'aimapvision3d\x20server\x20is\x20not\x20started.'};_0x16a35b[_0x4112('0x147')](_0x5003ce);}return;}let _0x327374=_0x16a35b[_0x4112('0x10f')]['replace']('http://','');const _0x4d36b5=_0x327374[_0x4112('0x155')](':',0x0);if(_0x4d36b5>0x0)_0x327374=_0x327374[_0x4112('0xa0')](0x0,_0x4d36b5);_0x327374='ws://'+_0x327374+':'+_0x1c4469[_0x4112('0xf0')];_0x16a35b['_connectWebsocket'](_0x327374);}else{console[_0x4112('0x3')](_0x5afe7b);if(_0x16a35b[_0x4112('0x147')]){_0x16a35b[_0x4112('0x147')](_0x5afe7b);}}},function(){if(_0x16a35b['_registerCallback']){const _0x5b2e11={'code':0x1f4,'msg':_0x4112('0x51')};_0x16a35b[_0x4112('0x147')](_0x5b2e11);}});},0x64);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x8f')]=function(){let _0x571f5b=this;const _0x291451=_0x571f5b[_0x4112('0x70')];if(_0x291451){_0x571f5b[_0x4112('0x20')]();_0x291451['close']();_0x571f5b['_webSocket']=undefined;console['log'](_0x4112('0x12a'));}};MapVision['View3d'][_0x4112('0x107')]['RegisterEvent']=function(_0x213701,_0x31a42e){if(_0x213701===_0x4112('0xb3')){this['_onMouseDownCallback']=_0x31a42e;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0xc8')]);}else if(_0x213701===_0x4112('0x36')){this[_0x4112('0x12c')]=_0x31a42e;}else if(_0x213701==='onmouseup'){this[_0x4112('0xda')]=_0x31a42e;}else{this[_0x4112('0x147')]=_0x31a42e;}};MapVision[_0x4112('0x136')][_0x4112('0x107')]['UnRegisterEvent']=function(){if(this[_0x4112('0x55')]){this['_unregisterEvents'](this[_0x4112('0x55')]);}this[_0x4112('0x14a')]=null;this[_0x4112('0x12c')]=null;this[_0x4112('0xda')]=null;this['_registerCallback']=null;};MapVision[_0x4112('0x136')]['prototype']['IsClose']=function(){const _0x1f089b=this[_0x4112('0x70')]===undefined;return _0x1f089b;};MapVision['View3d']['prototype'][_0x4112('0x6')]=function(_0xadf7fd){this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x6')],_0xadf7fd);};MapVision['View3d'][_0x4112('0x107')]['SetResolution']=function(_0x99ce90,_0x27de60){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType']['SetResolution'],{'width':_0x99ce90,'height':_0x27de60});};MapVision[_0x4112('0x136')]['prototype']['GetBuildVersion']=function(_0x292f0b){this[_0x4112('0x6e')]=_0x292f0b;this[_0x4112('0x129')](MapVision['CommandType']['GetBuildVersion']);};MapVision[_0x4112('0x136')]['prototype']['SetMapStatus']=function(_0x159bb7,_0x5d3b82){if(_0x159bb7>MapVision[_0x4112('0xe9')][_0x4112('0x11f')])this['_callback']=_0x5d3b82;else this['_callback']=null;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0xea')],{'mapstatus':_0x159bb7});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x157')]=function(){this['_callback']=null;this[_0x4112('0xa3')]=null;this['_emiUICommand'](MapVision['CommandType']['Clear']);};MapVision['View3d'][_0x4112('0x107')]['Stop']=function(){this[_0x4112('0x6e')]=null;this[_0x4112('0x11a')](new Uint8Array([MapVision['MessageType'][_0x4112('0x37')],0x57])[_0x4112('0xc3')]);this[_0x4112('0x11a')](new Uint8Array([MapVision[_0x4112('0x80')]['KeyUp'],0x53])['buffer']);this['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyUp'],0x44])['buffer']);this[_0x4112('0x11a')](new Uint8Array([MapVision[_0x4112('0x80')]['KeyUp'],0x41])['buffer']);this[_0x4112('0x11a')](new Uint8Array([MapVision[_0x4112('0x80')][_0x4112('0x37')],0x25])[_0x4112('0xc3')]);this['_sendInputData'](new Uint8Array([MapVision[_0x4112('0x80')]['KeyUp'],0x26])['buffer']);this[_0x4112('0x11a')](new Uint8Array([MapVision[_0x4112('0x80')]['KeyUp'],0x27])['buffer']);this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x4112('0x37')],0x28])[_0x4112('0xc3')]);this[_0x4112('0x129')](MapVision['CommandType']['Stop']);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['ResetHome']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['ResetHome']);};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x21')]=function(_0x5b7edc,_0x5bed29,_0x39c4e6,_0x464947,_0xcbdebb){this['_callback']=null;let _0x8dc866={};if(_0x5b7edc){_0x8dc866[_0x4112('0x101')]=_0x5b7edc;}if(_0x5bed29){_0x8dc866[_0x4112('0x133')]=_0x5bed29;}if(_0x39c4e6){_0x8dc866[_0x4112('0x151')]=_0x39c4e6;}if(_0x464947){_0x8dc866['gid']=_0x464947;}if(_0xcbdebb){_0x8dc866[_0x4112('0x79')]=_0xcbdebb;}this['_emiUICommand'](MapVision[_0x4112('0xc0')]['Rotate'],{'gid':_0x464947,'pitch':_0x5b7edc,'radio':_0x5bed29,'distance':_0x39c4e6,'highlight':_0xcbdebb});};MapVision['View3d']['prototype']['GetCurrentPosition']=function(_0x4fddbc){this[_0x4112('0x6e')]=_0x4fddbc;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['GetCurrentPosition']);};MapVision['View3d']['prototype'][_0x4112('0x11')]=function(_0x5cb78c,_0x443ba1){this[_0x4112('0x6e')]=_0x443ba1;const _0x1ebc4d=[];_0x5cb78c['forEach'](_0x48f3c6=>{_0x1ebc4d['push']({'gid':_0x48f3c6['gid']});});this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['GetScrrenPosition'],{'objects':_0x1ebc4d});};MapVision['View3d']['prototype']['GetScenceSunInfo']=function(_0x527903){this['_callback']=_0x527903;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x111')]);};MapVision['View3d'][_0x4112('0x107')]['SetScenceSunInfo']=function(_0x231f7d,_0x9dcd26){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['SetScenceSunInfo'],_0x231f7d);};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0xc8')]=function(_0x5a886c){this[_0x4112('0x130')]=_0x5a886c;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['SetMouseCallback']);};MapVision['View3d']['prototype']['SetMousePositionCallback']=function(_0x348425){this[_0x4112('0x130')]=_0x348425;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x141')]);};MapVision['View3d']['prototype']['OpenMap']=function(_0x65a15e){this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0xb2')],{'mapname':_0x65a15e});};MapVision['View3d']['prototype'][_0x4112('0x5c')]=function(_0x46d016){this['_callback']=_0x46d016;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x5c')]);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x10d')]=function(_0x303fa6,_0x31d5d7){this['_callback']=null;_0x303fa6['showlocation']=_0x31d5d7;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x10d')],_0x303fa6);};MapVision['View3d']['prototype'][_0x4112('0x10e')]=function(_0x302daa,_0x3c4f73,_0x3444e0){this['_callback']=null;_0x302daa['showlocation']=_0x3c4f73;_0x302daa['speed']=_0x3444e0;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x10e')],_0x302daa);};MapVision['View3d'][_0x4112('0x107')]['FlyToObject']=function(_0x2c88aa,_0x22ee2b,_0x592e18){this['_callback']=null;_0x2c88aa['showlocation']=_0x22ee2b;_0x2c88aa['speed']=_0x592e18;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x1e')],_0x2c88aa);};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x13f')]=function(_0x5c3a9c,_0x2bb469,_0x45b77c,_0x38a201,_0x1a82e1){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x13f')],{'gid':_0x5c3a9c,'showlocation':_0x2bb469,'distance':_0x38a201,'speed':_0x1a82e1,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x45b77c,'yaw':0x0,'roll':0x0}});};MapVision['View3d']['prototype']['FindObjectById']=function(_0x2e473d,_0x38f1a9){this[_0x4112('0x6e')]=_0x38f1a9;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['FindObjectById'],{'gid':_0x2e473d});};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x67')]=function(_0x58f30e,_0x29be9d){this['_callback']=_0x29be9d;this[_0x4112('0x129')](MapVision['CommandType']['FindObjectByName'],{'gid':_0x58f30e,'name':_0x58f30e});};MapVision[_0x4112('0x136')]['prototype']['FindObjectByPrefix']=function(_0x3be91e,_0x4c231c,_0x4f69c0){this[_0x4112('0x6e')]=_0x4f69c0;if(!_0x4c231c)_0x4c231c=0x14;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x71')],{'gid':_0x3be91e,'limit':_0x4c231c});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x7a')]=function(_0x1cab81){this['_callback']=_0x1cab81;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0x7a')]);};MapVision[_0x4112('0x136')]['prototype']['UpdateObject']=function(_0x4496af){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision['CommandType']['UpdateObject'],_0x4496af);};MapVision[_0x4112('0x136')]['prototype']['UpdateObjectStyle']=function(_0x138bdf,_0xc18c25,_0x100309){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType']['UpdateObjectStyle'],{'gid':_0x138bdf,'style':_0xc18c25,'color':_0x100309});};MapVision['View3d'][_0x4112('0x107')]['ClearObjectStyle']=function(_0x2c0536){this[_0x4112('0x6e')]=null;if(_0x2c0536){this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x25')],{'gid':_0x2c0536,'style':_0x4112('0x17'),'color':_0x4112('0x2d')});}else{this[_0x4112('0x129')](MapVision['CommandType']['ClearObjectStyle']);}};MapVision['View3d']['prototype'][_0x4112('0xa6')]=function(_0x468f1c){this[_0x4112('0x6e')]=_0x468f1c;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0xa6')]);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x4e')]=function(_0x48b613){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision['CommandType']['SetObjectsVisible'],{'objects':_0x48b613});};MapVision[_0x4112('0x136')]['prototype']['SetObjectHighlight']=function(_0x3a50cb){this[_0x4112('0x6e')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0x124')],{'gid':_0x3a50cb});};MapVision[_0x4112('0x136')]['prototype']['SetObjectsHighlight']=function(_0x3e301e){this[_0x4112('0x6e')]=null;this['_emiUICommand'](MapVision['CommandType']['SetObjectsHighlight'],{'objects':_0x3e301e});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x15')]=function(_0x3bd879){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['SetObjectsHighlightByPrefix'],{'prefix':_0x3bd879});};MapVision[_0x4112('0x136')]['prototype']['ClearHighlight']=function(){this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x142')]);};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x118')]=function(_0x5d17be,_0x40861f){this['_callback']=null;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['UpdateObjectVisible'],{'gid':_0x5d17be,'visible':_0x40861f});};MapVision['View3d']['prototype'][_0x4112('0xd7')]=function(_0x3d912f,_0x3bcf6f){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision['CommandType']['UpdateObjectVisibleByPrefix'],{'gid':_0x3d912f,'visible':_0x3bcf6f});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['CreateObject']=function(_0x1ac8b1){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0xe4')],_0x1ac8b1);};MapVision[_0x4112('0x136')]['prototype']['CreateRoute']=function(_0x33284c){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x30')],_0x33284c);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x13d')]=function(_0x478a8b){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType']['StartRoute'],_0x478a8b);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['PlayRoute']=function(_0x5d25d5){this['_callback']=_0x5d25d5;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['PlayRoute']);};MapVision['View3d']['prototype']['PauseRoute']=function(){this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0xf4')]);};MapVision['View3d'][_0x4112('0x107')]['StopRoute']=function(){this[_0x4112('0x6e')]=null;this['_emiUICommand'](MapVision['CommandType']['StopRoute']);};MapVision[_0x4112('0x136')]['prototype']['ResumeRoute']=function(){this[_0x4112('0x129')](MapVision['CommandType']['ResumeRoute']);};MapVision[_0x4112('0x136')]['prototype']['PlayRouteModel']=function(_0x263611){this['_callback']=null;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['PlayRouteModel'],{'gid':_0x263611});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['RePlayRouteModel']=function(_0x2da362){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x5')],{'gid':_0x2da362});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['PauseRouteModel']=function(_0xcd01cb){this[_0x4112('0x6e')]=null;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['PauseRouteModel'],{'gid':_0xcd01cb});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['StopRouteModel']=function(_0x5c1c42){this[_0x4112('0x6e')]=null;this['_emiUICommand'](MapVision['CommandType']['StopRouteModel'],{'gid':_0x5c1c42});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['ResumeRouteModel']=function(_0x5ca680){this['_callback']=null;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0xcf')],{'gid':_0x5ca680});};MapVision['View3d']['prototype']['PlaySequence']=function(_0xb77cf8){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision['CommandType']['PlaySequence'],{'gid':_0xb77cf8});};MapVision['View3d'][_0x4112('0x107')]['PauseSequence']=function(_0x4139a3){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x11c')],{'gid':_0x4139a3});};MapVision['View3d']['prototype'][_0x4112('0x144')]=function(_0x21db1a,_0x131cc5){this['_callback']=_0x131cc5;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x144')],{'gid':_0x21db1a});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x128')]=function(_0x4b58e1,_0x406b69){this['_callback']=_0x406b69;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x128')],{'gid':_0x4b58e1});};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x3e')]=function(_0x233b65,_0x4d493c){this[_0x4112('0x6e')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0x3e')],{'gid':_0x233b65});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0xab')]=function(_0xe96506){this['_callback']=null;this[_0x4112('0x129')](MapVision['CommandType']['StreamVideoOpen'],_0xe96506);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['StreamVideoClose']=function(_0x5e9ad2){this['_callback']=null;if(!_0x5e9ad2)_0x5e9ad2=0x0;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0xe0')],{'index':_0x5e9ad2});};MapVision[_0x4112('0x136')]['prototype']['StreamVideoCloseAll']=function(){this[_0x4112('0x6e')]=null;this[_0x4112('0x129')](MapVision['CommandType']['StreamVideoCloseAll']);};MapVision['View3d']['prototype'][_0x4112('0x103')]=function(_0x1eed30){this[_0x4112('0x6e')]=_0x1eed30;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x103')]);};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x119')]=function(_0x5ee6f5,_0x237c10){this['_callback']=_0x237c10;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0x119')],{'bindex':_0x5ee6f5});};MapVision[_0x4112('0x136')]['prototype']['GetBuildingNames']=function(_0x1297d5){this[_0x4112('0x6e')]=_0x1297d5;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['GetBuildingNames']);};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x137')]=function(_0x4bad5d,_0x1e108c){this[_0x4112('0x6e')]=_0x1e108c;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x137')],{'gid':_0x4bad5d});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0xff')]=function(_0x344676,_0x40fb86,_0xa8fc58){this['_emiUICommand'](MapVision[_0x4112('0xc0')]['SetBuildingVisible'],{'gid':_0x344676,'visible':_0x40fb86,'opacity':_0xa8fc58});};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x56')]=function(_0x305063,_0xa60835,_0x3e6091){this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x56')],{'gid':_0x305063,'visible':_0xa60835,'opacity':_0x3e6091});};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x0')]=function(){this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x0')]);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x76')]=function(_0x45abf6,_0x4012d9){this[_0x4112('0x129')](MapVision['CommandType']['SplitBuilding'],{'gid':_0x45abf6,'offset':_0x4012d9});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0xa8')]=function(_0x376e00){this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['SplitBuildingReset'],{'gid':_0x376e00});};MapVision['View3d'][_0x4112('0x107')]['SplitDynamicBuilding']=function(_0x5e4bd3,_0x5d3b3d){this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0xa')],{'gid':_0x5e4bd3,'offset':_0x5d3b3d});};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x4c')]=function(_0x2ecf0e,_0x4eab48,_0xedc11b){this[_0x4112('0x129')](MapVision['CommandType']['SplitDynamicFloor'],{'gid':_0x2ecf0e,'floor':_0x4eab48,'offset':_0xedc11b});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['SplitFloorReset']=function(_0x389472,_0x619dc7){this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x74')],{'gid':_0x389472,'floor':_0x619dc7});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x10a')]=function(_0x216387,_0x4bc3c3){this['_callback']=_0x4bc3c3;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['GetFloorNum'],{'gid':_0x216387});};MapVision['View3d'][_0x4112('0x107')][_0x4112('0xe7')]=function(_0xd3c63c,_0x3bc15f){this['_callback']=_0x3bc15f;this[_0x4112('0x129')](MapVision['CommandType']['GetFloorNames'],{'gid':_0xd3c63c});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x68')]=function(_0x5c9fde,_0x1c665d){this[_0x4112('0x6e')]=_0x1c665d;this[_0x4112('0x129')](MapVision['CommandType']['GetFloorNames'],{'gid':_0x5c9fde});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['GetFloorVisible']=function(_0x3af195,_0x5b1287,_0x2d2572){this[_0x4112('0x6e')]=_0x2d2572;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['GetFloorVisible'],{'gid':_0x3af195,'floor':_0x5b1287});};MapVision['View3d'][_0x4112('0x107')]['SetFloorVisible']=function(_0x485a6a,_0x1ea10a,_0x5cd520,_0x54aee0){if(!_0x5cd520)_0x5cd520=![];if(!_0x54aee0)_0x54aee0=0x0;this['_emiUICommand'](MapVision['CommandType']['SetFloorVisible'],{'gid':_0x485a6a,'floor':_0x1ea10a,'visible':_0x5cd520,'opacity':_0x54aee0});};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x4d')]=function(_0x1224e3,_0xd03fc7,_0x3f6eed){this[_0x4112('0x6e')]=_0x3f6eed;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['GetUpFloorNum'],{'gid':_0x1224e3,'floor':_0xd03fc7});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x49')]=function(_0x156ede,_0x48d593,_0x3831de){this['_callback']=_0x3831de;this['_emiUICommand'](MapVision['CommandType']['GetUpFloorNames'],{'gid':_0x156ede,'floor':_0x48d593});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['GetDownFloorNum']=function(_0x3c070d,_0x2cc186,_0x350403){this['_callback']=_0x350403;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['GetDownFloorNum'],{'gid':_0x3c070d,'floor':_0x2cc186});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0xf1')]=function(_0x1a28a9,_0x35814a,_0x21a192){this[_0x4112('0x6e')]=_0x21a192;this['_emiUICommand'](MapVision['CommandType']['GetDownFloorNames'],{'gid':_0x1a28a9,'floor':_0x35814a});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x100')]=function(_0x563fb1,_0x460435,_0x1ac877){this[_0x4112('0x6e')]=_0x1ac877;this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x100')],{'gid':_0x563fb1,'floor':_0x460435});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x3b')]=function(_0x34ed3d,_0x4259aa,_0xfd3233){this['_callback']=_0xfd3233;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0xc6')],{'gid':_0x34ed3d,'floor':_0x4259aa});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0xc6')]=function(_0x4dedd6,_0x4c93fd,_0x1a0ef6){this[_0x4112('0x6e')]=_0x1a0ef6;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0xc6')],{'gid':_0x4dedd6,'floor':_0x4c93fd});};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0x8b')]=function(_0x563ed8,_0x4873ef,_0x279e15,_0x27537d){this[_0x4112('0x6e')]=_0x27537d;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x8b')],{'gid':_0x563ed8,'floor':_0x4873ef,'room':_0x279e15});};MapVision['View3d']['prototype'][_0x4112('0x150')]=function(_0x5071ea,_0x3590dd,_0x17d6e4,_0x2c0216,_0x4b9b77){if(!_0x2c0216)_0x2c0216=![];if(!_0x4b9b77)_0x4b9b77=0x0;this['_emiUICommand'](MapVision['CommandType']['SetFloorRoomVisible'],{'gid':_0x5071ea,'floor':_0x3590dd,'room':_0x17d6e4,'visible':_0x2c0216,'opacity':_0x4b9b77});};MapVision[_0x4112('0x136')][_0x4112('0x107')][_0x4112('0x27')]=function(_0x3dc3b3,_0x4a768d,_0x5bfdc3){this[_0x4112('0x6e')]=_0x5bfdc3;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x27')],{'gid':_0x3dc3b3,'floor':_0x4a768d});};MapVision['View3d'][_0x4112('0x107')]['GetFloorDeviceName']=function(_0x5c3178,_0x5e92ed,_0x417dd5){this[_0x4112('0x6e')]=_0x417dd5;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['GetFloorDeviceNames'],{'gid':_0x5c3178,'floor':_0x5e92ed});};MapVision[_0x4112('0x136')]['prototype']['GetFloorDeviceNames']=function(_0x57bc48,_0x16410a,_0x35818f){this['_callback']=_0x35818f;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0xf5')],{'gid':_0x57bc48,'floor':_0x16410a});};MapVision[_0x4112('0x136')]['prototype']['GetFloorDeviceVisible']=function(_0x152c5f,_0x1570c2,_0x17c18f,_0x267c56){this[_0x4112('0x6e')]=_0x267c56;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')][_0x4112('0x6d')],{'gid':_0x152c5f,'floor':_0x1570c2,'device':_0x17c18f});};MapVision['View3d'][_0x4112('0x107')]['SetFloorDeviceVisible']=function(_0x1a697b,_0x4c681e,_0x18c6fc,_0x20eb12,_0x5da462){if(!_0x20eb12)_0x20eb12=![];if(!_0x5da462)_0x5da462=0x0;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['SetFloorDeviceVisible'],{'gid':_0x1a697b,'floor':_0x4c681e,'device':_0x18c6fc,'visible':_0x20eb12,'opacity':_0x5da462});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['SetGroundVisible']=function(_0x5a1e62){this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0xc1')],{'visible':_0x5a1e62});};MapVision['View3d']['prototype']['OverLayerStartEdit']=function(_0xe23744,_0x1ab47f){this[_0x4112('0x6e')]=_0x1ab47f;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['OverLayerStartEdit'],_0xe23744);};MapVision['View3d'][_0x4112('0x107')]['OverLayerStopEdit']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x4112('0xb7')]);};MapVision['View3d'][_0x4112('0x107')]['OverLayerSelectObjectEdit']=function(_0x6e8d45){this[_0x4112('0x6e')]=_0x6e8d45;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision['View3d']['prototype']['OverLayerFindObject']=function(_0x141e5a,_0x85cf91){this[_0x4112('0x6e')]=_0x85cf91;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['OverLayerFindObject'],{'name':_0x141e5a});};MapVision[_0x4112('0x136')]['prototype']['OverLayerCreateObject']=function(_0x1b730e,_0x43da17){this['_callback']=_0x43da17;this[_0x4112('0x129')](MapVision[_0x4112('0xc0')]['OverLayerCreateObject'],_0x1b730e);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['OverLayerCreateObjects']=function(_0x280768,_0x5eb1eb){this['_callback']=_0x5eb1eb;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['OverLayerCreateObjects'],{'shapes':_0x280768});};MapVision[_0x4112('0x136')]['prototype']['OverLayerUpdateObject']=function(_0xc0e5bb){this['_emiUICommand'](MapVision['CommandType'][_0x4112('0x48')],_0xc0e5bb);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['OverLayerRemoveObject']=function(_0x51a211){this['_emiUICommand'](MapVision[_0x4112('0xc0')]['OverLayerRemoveObject'],_0x51a211);};MapVision['View3d']['prototype'][_0x4112('0x97')]=function(_0x38f7e4){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x38f7e4});};MapVision['View3d']['prototype']['OverLayerRemoveObjectsById']=function(_0x5a5667){this['_emiUICommand'](MapVision['CommandType'][_0x4112('0x8a')],{'ids':_0x5a5667});};MapVision[_0x4112('0x136')]['prototype']['OverLayerRemoveAll']=function(_0x3c8b24){if(_0x3c8b24){this['_emiUICommand'](MapVision['CommandType'][_0x4112('0xe2')],{'types':_0x3c8b24});}else{this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0x146')]);}};MapVision['View3d']['prototype'][_0x4112('0x3d')]=function(_0x2255cb,_0x3d78aa){this[_0x4112('0x6e')]=_0x3d78aa;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['LayerLoad'],_0x2255cb);};MapVision[_0x4112('0x136')]['prototype']['LayerReLoad']=function(_0x47cf23,_0x47e3bd){this[_0x4112('0x6e')]=_0x47e3bd;this['_emiUICommand'](MapVision[_0x4112('0xc0')]['LayerReLoad'],_0x47cf23);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['LayersLoad']=function(_0x1948dc,_0x28f05c){this['_callback']=_0x28f05c;this['_emiUICommand'](MapVision['CommandType']['LayersLoad'],{'layers':_0x1948dc});};MapVision[_0x4112('0x136')]['prototype']['LayerSelectObject']=function(_0x5e141f,_0x4f1ef3){this[_0x4112('0x6e')]=_0x4f1ef3;this['_emiUICommand'](MapVision[_0x4112('0xc0')][_0x4112('0x143')],{'gid':_0x5e141f});};MapVision[_0x4112('0x136')]['prototype'][_0x4112('0xb9')]=function(_0x24dfac){this[_0x4112('0x129')](MapVision['CommandType'][_0x4112('0xb9')],{'gid':_0x24dfac});};MapVision[_0x4112('0x136')]['prototype']['LayerSetVisible']=function(_0x4450a6,_0x4ac1b4){this[_0x4112('0x129')](MapVision['CommandType']['LayerSetVisible'],{'gid':_0x4450a6,'visible':_0x4ac1b4});};MapVision[_0x4112('0x136')][_0x4112('0x107')]['SetNorthControl']=function(_0x5db97d,_0x7da97a,_0x24bfab,_0x28b7b8){this['_emiUICommand'](MapVision['CommandType'][_0x4112('0xfd')],{'visible':_0x5db97d,'x':_0x7da97a,'y':_0x24bfab,'scale':_0x28b7b8});};MapVision['View3d']['prototype']['_connectWebsocket']=function(_0x4fc37e){let _0x55562d=this;_0x55562d['_webSocket']=new WebSocket(_0x4fc37e);_0x55562d[_0x4112('0x70')][_0x4112('0x2f')]=function(_0x4bb2fa){var _0x228992=JSON['parse'](_0x4bb2fa[_0x4112('0x14f')]);if(_0x228992[_0x4112('0xeb')]===_0x4112('0x140')){_0x55562d[_0x4112('0x81')](_0x55562d['id'],_0x228992);}else if(_0x228992['type']===_0x4112('0x66')){}else if(_0x228992['type']==='answer'){_0x55562d['_onWebRtcAnswer'](_0x228992);}else if(_0x228992[_0x4112('0xeb')]===_0x4112('0xdf')){_0x55562d['_onWebRtcIce'](_0x228992[_0x4112('0x1a')]);}else{console['log']('invalid\x20SS\x20message\x20type:\x20'+_0x228992[_0x4112('0xeb')]);}};_0x55562d[_0x4112('0x70')][_0x4112('0x12f')]=function(_0x11ab27){console['log'](_0x4112('0x1f')+JSON['stringify'](_0x11ab27));if(_0x55562d[_0x4112('0x147')]){const _0x22d696={'code':0x64,'msg':_0x4112('0x33')};_0x55562d['_registerCallback'](_0x22d696);}};_0x55562d['_webSocket'][_0x4112('0x82')]=function(_0x3805d3){console[_0x4112('0x3')](_0x4112('0x87')+JSON['stringify'](_0x3805d3[_0x4112('0xc5')])+'\x20-\x20'+_0x3805d3[_0x4112('0x109')]);_0x55562d[_0x4112('0x70')]=undefined;let _0x24aedf=document[_0x4112('0xb4')](_0x55562d['id']);if(_0x55562d[_0x4112('0xf')]){_0x24aedf[_0x4112('0x47')](_0x55562d['_webRtcPlayerObj'][_0x4112('0xec')]);_0x55562d[_0x4112('0xf')]['close']();_0x55562d[_0x4112('0xf')]=undefined;}if(_0x55562d[_0x4112('0x147')]){const _0x43a321={'code':0x190,'msg':'websocket\x20closed'};_0x55562d[_0x4112('0x147')](_0x43a321);}};};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x1c')]=function(_0x5c984a){let _0x5ead37=this;_0x5c984a[_0x4112('0x36')]=_0x72c582=>{if(!_0x5ead37[_0x4112('0xa4')]){return;}_0x5ead37[_0x4112('0x60')](_0x72c582['offsetX'],_0x72c582[_0x4112('0x121')],_0x72c582['movementX'],_0x72c582[_0x4112('0xd5')]);if(_0x5ead37['_mouseDownStatus']&&_0x5ead37['_onMouseMoveCallback']){_0x5ead37['_onMouseMoveCallback'](_0x72c582,_0x5ead37['_onMouseSelectedObj']);}_0x72c582['preventDefault']();};_0x5c984a[_0x4112('0xb3')]=_0x1fa137=>{_0x5ead37[_0x4112('0xa5')]=!![];_0x5ead37[_0x4112('0xa3')]=null;if(!_0x5ead37[_0x4112('0xa4')]){return;}_0x5ead37[_0x4112('0x139')](_0x1fa137['button'],_0x1fa137[_0x4112('0x96')],_0x1fa137[_0x4112('0x121')]);setTimeout(function(){if(_0x5ead37['_onMouseDownCallback']){_0x5ead37[_0x4112('0x14a')](_0x1fa137,_0x5ead37['_onMouseSelectedObj']);}},0x64);_0x1fa137[_0x4112('0xfe')]();};_0x5c984a[_0x4112('0x9f')]=_0x336278=>{_0x5ead37['_mouseDownStatus']=![];if(!_0x5ead37[_0x4112('0xa4')]){return;}_0x5ead37['_onMouseUp'](_0x336278['button'],_0x336278['offsetX'],_0x336278[_0x4112('0x121')]);if(_0x5ead37['_onMouseUpCallback']){_0x5ead37[_0x4112('0xda')](_0x336278,_0x5ead37['_onMouseSelectedObj']);}_0x336278['preventDefault']();};_0x5c984a[_0x4112('0x114')]=_0x47b05d=>{if(!_0x5ead37[_0x4112('0xa4')]){return;}_0x5ead37['_onMouseUp'](_0x47b05d[_0x4112('0x59')],_0x47b05d['offsetX'],_0x47b05d[_0x4112('0x121')]);_0x47b05d[_0x4112('0xfe')]();};if(_0x4112('0x85')in _0x5c984a){_0x5c984a['onmousewheel']=_0x202856=>{if(!_0x5ead37['enableMouse']){return;}_0x5ead37[_0x4112('0x11b')](_0x202856[_0x4112('0x145')],_0x202856[_0x4112('0x96')],_0x202856['offsetY']);_0x202856['preventDefault']();};}else{_0x5c984a[_0x4112('0xaa')]('DOMMouseScroll',_0x37884b=>{if(!_0x5ead37[_0x4112('0xa4')]){return;}_0x5ead37[_0x4112('0x11b')](_0x37884b['detail']*-0x78,_0x37884b[_0x4112('0x96')],_0x37884b['offsetY']);_0x37884b[_0x4112('0xfe')]();},![]);}_0x5c984a[_0x4112('0x122')]=_0x1cc174=>{if(!_0x5ead37['enableMouse']){return;}_0x5ead37[_0x4112('0x14')](_0x1cc174['buttons'],_0x1cc174[_0x4112('0x96')],_0x1cc174[_0x4112('0x121')]);};_0x5c984a[_0x4112('0x125')]=_0x464c06=>{if(!_0x5ead37[_0x4112('0xa4')]){return;}_0x5ead37['_releaseMouseButtons'](_0x464c06[_0x4112('0xb0')],_0x464c06['offsetX'],_0x464c06[_0x4112('0x121')]);};_0x5c984a['onmouseenter']=_0x2a4acd=>{if(!_0x5ead37['enableMouse']){return;}var _0x4ad4cc=new DataView(new ArrayBuffer(0x1));_0x4ad4cc[_0x4112('0xd6')](0x0,MapVision['MessageType']['MouseEnter']);_0x5ead37['_sendInputData'](_0x4ad4cc['buffer']);_0x5c984a['pressMouseButtons'](_0x2a4acd);};_0x5c984a[_0x4112('0x10')]=_0x5bd841=>{if(!_0x5ead37['enableMouse']){return;}var _0x4cc069=new DataView(new ArrayBuffer(0x1));_0x4cc069[_0x4112('0xd6')](0x0,MapVision[_0x4112('0x80')]['MouseLeave']);_0x5ead37['_sendInputData'](_0x4cc069['buffer']);_0x5c984a['releaseMouseButtons'](_0x5bd841);};};MapVision[_0x4112('0x136')]['prototype']['_registerTouchEvents']=function(_0x1ff915){};MapVision['View3d']['prototype']['_unregisterEvents']=function(_0x40b7a7){if(!_0x40b7a7){return;}_0x40b7a7['onmousemove']=_0x8a2b62=>{_0x8a2b62['preventDefault']();};_0x40b7a7[_0x4112('0xb3')]=_0x8ccf30=>{_0x8ccf30[_0x4112('0xfe')]();};_0x40b7a7['onmouseup']=_0x3bf5be=>{_0x3bf5be['preventDefault']();};_0x40b7a7[_0x4112('0x114')]=_0x532212=>{_0x532212[_0x4112('0xfe')]();};if(_0x4112('0x85')in _0x40b7a7){_0x40b7a7[_0x4112('0x85')]=_0x59ec91=>{_0x59ec91['preventDefault']();};}else{_0x40b7a7['addEventListener']('DOMMouseScroll',_0x1873d6=>{_0x1873d6['preventDefault']();},![]);}_0x40b7a7[_0x4112('0x122')]=_0x3e84da=>{};_0x40b7a7[_0x4112('0x125')]=_0x1b6365=>{};_0x40b7a7[_0x4112('0xae')]=_0x48e75b=>{};_0x40b7a7['onmouseleave']=_0x354218=>{};_0x40b7a7['onkeydown']=_0x446ab3=>{};_0x40b7a7['onkeyup']=_0x12d580=>{};_0x40b7a7['onkeypress']=_0x475899=>{};};MapVision['View3d']['prototype'][_0x4112('0x95')]=function(){let _0x2efae5=this;const _0x5b46c5={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x57cac7(_0x2547ab){if(_0x2547ab['keyCode']===_0x5b46c5['Shift']&&_0x2547ab['code']===_0x4112('0x46'))return _0x5b46c5['RightShift'];else if(_0x2547ab[_0x4112('0x7b')]===_0x5b46c5['Control']&&_0x2547ab[_0x4112('0xc5')]===_0x4112('0x6f'))return _0x5b46c5['RightControl'];else if(_0x2547ab[_0x4112('0x7b')]===_0x5b46c5['Alt']&&_0x2547ab[_0x4112('0xc5')]==='AltRight')return _0x5b46c5['RightAlt'];else return _0x2547ab[_0x4112('0x7b')];};function _0x2c9712(_0xe0aeed){return!(_0xe0aeed[_0x4112('0x7b')]==0x1b||_0xe0aeed['keyCode']==0x74||_0xe0aeed['keyCode']==0xde||_0xe0aeed['keyCode']==0xba||_0xe0aeed[_0x4112('0x7b')]==0xbc||_0xe0aeed[_0x4112('0x94')]&&_0xe0aeed['keyCode']==0x52);};var _0x340631=document[_0x4112('0xc9')]('iframe');var _0x2f32bf=null;if(_0x340631&&_0x340631['length']>0x0){_0x2f32bf=_0x340631[0x0];}else{_0x2f32bf=document;}_0x2f32bf[_0x4112('0x32')]=_0x445377=>{if(!_0x2efae5[_0x4112('0x2c')]){return;}if(_0x2c9712(_0x445377)==![]){_0x445377[_0x4112('0xfe')]();return;}_0x2efae5[_0x4112('0x11a')](new Uint8Array([MapVision[_0x4112('0x80')][_0x4112('0x13c')],_0x57cac7(_0x445377),_0x445377[_0x4112('0x5a')]])['buffer']);if(_0x445377['keyCode']===_0x5b46c5[_0x4112('0x31')]){_0x2f32bf['onkeypress']({'charCode':_0x5b46c5[_0x4112('0x31')]});}};_0x2f32bf['onkeyup']=_0x13d943=>{console[_0x4112('0x3')](_0x4112('0xfb')+_0x13d943[_0x4112('0x7b')]);if(!_0x2efae5[_0x4112('0x2c')]){return;}if(_0x2c9712(_0x13d943)==![]){_0x13d943[_0x4112('0xfe')]();return;}_0x2efae5['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyUp'],_0x57cac7(_0x13d943)])[_0x4112('0xc3')]);};_0x2f32bf[_0x4112('0xcb')]=_0x30260a=>{if(!_0x2efae5['enableKeyboard']){return;}if(_0x2c9712(_0x30260a)==![]){_0x30260a[_0x4112('0xfe')]();return;}let _0x46f872=new DataView(new ArrayBuffer(0x3));_0x46f872['setUint8'](0x0,MapVision[_0x4112('0x80')][_0x4112('0xf7')]);_0x46f872['setUint16'](0x1,_0x30260a['charCode'],!![]);_0x2efae5['_sendInputData'](_0x46f872['buffer']);};};MapVision[_0x4112('0x136')][_0x4112('0x107')]['_createWebRtcPlayer']=function(_0x826788,_0x1d7ed2){let _0x9395ee=this;_0x9395ee['_webRtcPlayerHtmlElement']=document[_0x4112('0xb4')](_0x826788);_0x9395ee[_0x4112('0xf')]=new webRtcPlayer({'peerConnectionOptions':_0x1d7ed2[_0x4112('0xa7')]});_0x9395ee[_0x4112('0x55')][_0x4112('0x62')][_0x4112('0x12d')]='hidden';let _0x4a73e7=_0x9395ee[_0x4112('0x55')];_0x4a73e7[_0x4112('0x92')](_0x9395ee['_webRtcPlayerObj']['video']);_0x9395ee['_webRtcPlayerObj']['onWebRtcOffer']=function(_0x2498c5){if(_0x9395ee['_webSocket']&&_0x9395ee[_0x4112('0x70')]['readyState']===MapVision[_0x4112('0x90')]){let _0xb07c5f=JSON[_0x4112('0x43')](_0x2498c5);_0x9395ee['_webSocket'][_0x4112('0xf6')](_0xb07c5f);}};_0x9395ee[_0x4112('0xf')][_0x4112('0x126')]=function(_0x468d55){if(_0x9395ee['_webSocket']&&_0x9395ee['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){console['log']('->\x20SS:\x20iceCandidate\x0a'+JSON[_0x4112('0x43')](_0x468d55,undefined,0x4));_0x9395ee['_webSocket']['send'](JSON[_0x4112('0x43')]({'type':'iceCandidate','candidate':_0x468d55}));}};_0x9395ee[_0x4112('0xf')]['onVideoInitialised']=function(){if(_0x9395ee['_webSocket']&&_0x9395ee['_webSocket'][_0x4112('0xfc')]===MapVision['WS_OPEN_STATE']){if(_0x9395ee['_webRtcPlayerObj']){_0x9395ee[_0x4112('0xf')][_0x4112('0xec')]['muted']=!![];setTimeout(function(){_0x9395ee[_0x4112('0x9d')]();_0x9395ee['_requestQualityControl']();_0x9395ee['_webRtcPlayerObj'][_0x4112('0xec')]['play']();},0x32);}}};_0x9395ee[_0x4112('0xf')][_0x4112('0xac')]=function(){if(_0x9395ee['_webSocket']&&_0x9395ee['_webSocket']['readyState']===MapVision[_0x4112('0x90')]){if(_0x9395ee['_webRtcPlayerObj'][_0x4112('0xec')]&&_0x9395ee['_webRtcPlayerObj'][_0x4112('0xec')]['srcObject']&&_0x9395ee[_0x4112('0xf')]['onVideoInitialised']){_0x9395ee[_0x4112('0xf')]['onVideoInitialised']();}if(_0x9395ee['_registerCallback']){const _0x142de9={'code':0xc8,'msg':_0x4112('0x50')};_0x9395ee[_0x4112('0x147')](_0x142de9);}_0x9395ee['_webRtcPlayerHtmlElement']['style']['visibility']=_0x4112('0x12');}};_0x9395ee['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x4168bf){var _0x26af3c=new Uint8Array(_0x4168bf);var _0x30c02a=_0x26af3c[0x0];if(_0x30c02a===MapVision[_0x4112('0x1b')][_0x4112('0x86')]){let _0x2d9316=new TextDecoder('utf-16')[_0x4112('0xb')](_0x4168bf[_0x4112('0x138')](0x1));console[_0x4112('0x3')](_0x4112('0xc7')+_0x2d9316);}else if(_0x30c02a===MapVision['ToClientMessageType'][_0x4112('0x99')]){let _0x79b7bd=new TextDecoder(_0x4112('0x24'))[_0x4112('0xb')](_0x4168bf['slice'](0x1));let _0x486362=JSON[_0x4112('0x106')](_0x79b7bd);if(_0x486362&&_0x486362['onMouse']){_0x9395ee[_0x4112('0xa3')]=_0x486362;}if(_0x9395ee['_callbackMouse']&&(_0x9395ee['_command']===MapVision['CommandType']['SetMouseCallback']||_0x9395ee['_command']===MapVision['CommandType']['SetMousePositionCallback']||_0x486362&&_0x486362[_0x4112('0x28')])){_0x9395ee[_0x4112('0x130')](_0x486362);_0x9395ee['_callback']=null;}else if(_0x9395ee[_0x4112('0x6e')]){if(_0x486362&&!_0x486362[_0x4112('0x28')]){_0x9395ee['_callback'](_0x486362);}}}else if(_0x30c02a===MapVision['ToClientMessageType'][_0x4112('0x116')]){let _0x3b4125=new TextDecoder(_0x4112('0x24'))[_0x4112('0xb')](_0x4168bf['slice'](0x1));console[_0x4112('0x3')]('->\x20SS:\x20Command:\x0a'+_0x3b4125);}else if(_0x30c02a===MapVision['ToClientMessageType']['FreezeFrame']){let _0x2b239c=new TextDecoder(_0x4112('0x24'))[_0x4112('0xb')](_0x4168bf['slice'](0x1));console[_0x4112('0x3')]('->\x20SS:\x20FreezeFrame:\x0a'+_0x2b239c);}else if(_0x30c02a===MapVision['ToClientMessageType'][_0x4112('0x102')]){let _0x364d7b=new TextDecoder(_0x4112('0x24'))[_0x4112('0xb')](_0x4168bf['slice'](0x1));console[_0x4112('0x3')](_0x4112('0x120')+_0x364d7b);}};_0x9395ee['_registerMouseEvents'](_0x4a73e7);_0x9395ee[_0x4112('0xe8')](_0x4a73e7);_0x9395ee[_0x4112('0x95')](_0x4a73e7);_0x9395ee[_0x4112('0xf')]['createOffer']();};MapVision['View3d'][_0x4112('0x107')]['_sendInputData']=function(_0x51224b){if(this[_0x4112('0xf')]){this[_0x4112('0xf')]['send'](_0x51224b);}else{console[_0x4112('0x3')]('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision['View3d']['prototype'][_0x4112('0x153')]=function(_0x471752,_0x476343){let _0x1560b7=JSON[_0x4112('0x43')](_0x476343);let _0x4fde19=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x1560b7[_0x4112('0x9a')]));let _0x4781eb=0x0;_0x4fde19[_0x4112('0xd6')](_0x4781eb,_0x471752);_0x4781eb++;_0x4fde19[_0x4112('0x10c')](_0x4781eb,_0x1560b7['length'],!![]);_0x4781eb+=0x2;for(let _0x107c09=0x0;_0x107c09<_0x1560b7[_0x4112('0x9a')];_0x107c09++){_0x4fde19[_0x4112('0x10c')](_0x4781eb,_0x1560b7[_0x4112('0xa2')](_0x107c09),!![]);_0x4781eb+=0x2;}this[_0x4112('0x11a')](_0x4fde19['buffer']);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['_emiUICommand']=function(_0x5c4942,_0xba6ed8){this['_command']=_0x5c4942;const _0x59930b={'cmd':_0x5c4942,'data':_0xba6ed8};this['_emitDescriptor'](MapVision[_0x4112('0x80')][_0x4112('0x105')],_0x59930b);};MapVision['View3d'][_0x4112('0x107')]['_requestInitialSettings']=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x4112('0x65')]])[_0x4112('0xc3')]);};MapVision['View3d']['prototype']['_requestQualityControl']=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x4112('0x80')][_0x4112('0xbd')]])[_0x4112('0xc3')]);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x60')]=function(_0x6e1da8,_0x471017,_0x431ab6,_0x2cecd2){let _0x3a738b=this;if(!_0x3a738b['_webSocket']){return;}let _0x3fdec1=_0x3a738b['_normalizeAndQuantizeUnsigned'](_0x6e1da8,_0x471017);let _0x193178=_0x3a738b[_0x4112('0xd4')](_0x431ab6,_0x2cecd2);var _0x245ff5=new DataView(new ArrayBuffer(0x9));_0x245ff5[_0x4112('0xd6')](0x0,MapVision['MessageType']['MouseMove']);_0x245ff5[_0x4112('0x10c')](0x1,_0x3fdec1['x'],!![]);_0x245ff5['setUint16'](0x3,_0x3fdec1['y'],!![]);_0x245ff5['setInt16'](0x5,_0x193178['x'],!![]);_0x245ff5['setInt16'](0x7,_0x193178['y'],!![]);_0x3a738b['_sendInputData'](_0x245ff5[_0x4112('0xc3')]);};MapVision['View3d'][_0x4112('0x107')]['_onMouseDown']=function(_0x2c808d,_0x14e71a,_0x50332a){let _0x1220e2=this;if(!_0x1220e2[_0x4112('0x70')]){return;}let _0x26d29d=_0x1220e2[_0x4112('0xb8')](_0x14e71a,_0x50332a);var _0x17e6b4=new DataView(new ArrayBuffer(0x6));_0x17e6b4['setUint8'](0x0,MapVision['MessageType']['MouseDown']);_0x17e6b4['setUint8'](0x1,_0x2c808d);_0x17e6b4['setUint16'](0x2,_0x26d29d['x'],!![]);_0x17e6b4[_0x4112('0x10c')](0x4,_0x26d29d['y'],!![]);_0x1220e2[_0x4112('0x11a')](_0x17e6b4['buffer']);};MapVision['View3d']['prototype']['_onMouseUp']=function(_0x564263,_0x1b5bf3,_0x126847){let _0x1836af=this;if(!_0x1836af['_webSocket']){return;}let _0x3c7d6c=_0x1836af['_normalizeAndQuantizeUnsigned'](_0x1b5bf3,_0x126847);var _0x34a82a=new DataView(new ArrayBuffer(0x6));_0x34a82a['setUint8'](0x0,MapVision['MessageType'][_0x4112('0x9e')]);_0x34a82a['setUint8'](0x1,_0x564263);_0x34a82a[_0x4112('0x10c')](0x2,_0x3c7d6c['x'],!![]);_0x34a82a[_0x4112('0x10c')](0x4,_0x3c7d6c['y'],!![]);_0x1836af['_sendInputData'](_0x34a82a['buffer']);};MapVision['View3d']['prototype']['_onMouseWheel']=function(_0x415352,_0x3c4433,_0x38cd03){let _0xe9735=this;if(!_0xe9735[_0x4112('0x70')]){return;}let _0x4f1f4b=_0xe9735['_normalizeAndQuantizeUnsigned'](_0x3c4433,_0x38cd03);var _0x1a4671=new DataView(new ArrayBuffer(0x7));_0x1a4671['setUint8'](0x0,MapVision['MessageType']['MouseWheel']);_0x1a4671['setInt16'](0x1,_0x415352,!![]);_0x1a4671['setUint16'](0x3,_0x4f1f4b['x'],!![]);_0x1a4671['setUint16'](0x5,_0x4f1f4b['y'],!![]);_0xe9735[_0x4112('0x11a')](_0x1a4671['buffer']);};MapVision[_0x4112('0x136')][_0x4112('0x107')]['_releaseMouseButtons']=function(_0x1ee77b,_0x4d23fc,_0x1674fd){if(_0x1ee77b&MapVision['MouseButtonsMask'][_0x4112('0x134')]){this[_0x4112('0x131')](MapVision['MouseButton'][_0x4112('0x6b')],_0x4d23fc,_0x1674fd);}if(_0x1ee77b&MapVision[_0x4112('0xad')][_0x4112('0xbe')]){this[_0x4112('0x131')](MapVision[_0x4112('0x132')]['SecondaryButton'],_0x4d23fc,_0x1674fd);}if(_0x1ee77b&MapVision['MouseButtonsMask'][_0x4112('0x135')]){this[_0x4112('0x131')](MapVision['MouseButton'][_0x4112('0x135')],_0x4d23fc,_0x1674fd);}if(_0x1ee77b&MapVision[_0x4112('0xad')][_0x4112('0x8')]){this[_0x4112('0x131')](MapVision[_0x4112('0x132')][_0x4112('0x8')],_0x4d23fc,_0x1674fd);}if(_0x1ee77b&MapVision['MouseButtonsMask']['FifthButton']){this[_0x4112('0x131')](MapVision[_0x4112('0x132')][_0x4112('0x53')],_0x4d23fc,_0x1674fd);}};MapVision['View3d']['prototype']['_pressMouseButtons']=function(_0x1adb55,_0x5f437b,_0x428237){if(_0x1adb55&MapVision['MouseButtonsMask'][_0x4112('0x134')]){this['_onMouseDown'](MapVision[_0x4112('0x132')][_0x4112('0x6b')],_0x5f437b,_0x428237);}if(_0x1adb55&MapVision[_0x4112('0xad')]['SecondaryButton']){this[_0x4112('0x139')](MapVision['MouseButton']['SecondaryButton'],_0x5f437b,_0x428237);}if(_0x1adb55&MapVision['MouseButtonsMask'][_0x4112('0x135')]){this[_0x4112('0x139')](MapVision[_0x4112('0x132')]['AuxiliaryButton'],_0x5f437b,_0x428237);}if(_0x1adb55&MapVision[_0x4112('0xad')][_0x4112('0x8')]){this['_onMouseDown'](MapVision['MouseButton']['FourthButton'],_0x5f437b,_0x428237);}if(_0x1adb55&MapVision[_0x4112('0xad')]['FifthButton']){this[_0x4112('0x139')](MapVision['MouseButton'][_0x4112('0x53')],_0x5f437b,_0x428237);}};MapVision[_0x4112('0x136')][_0x4112('0x107')]['_normalizeAndQuantizeUnsigned']=function(_0x5dbdd3,_0x8a30e2){let _0x4048ac=this;if(!_0x4048ac['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x3cbf4d=_0x4048ac[_0x4112('0x55')];let _0x3c64c1=_0x4048ac['_webRtcPlayerObj'][_0x4112('0xec')];let _0x53440a=_0x3cbf4d['clientHeight']/_0x3cbf4d[_0x4112('0x63')];let _0x3413fe=_0x3c64c1['videoHeight']/_0x3c64c1['videoWidth'];_0x3413fe=_0x53440a;if(_0x53440a>_0x3413fe){let _0x1acfc0=_0x53440a/_0x3413fe;let _0x3db6e3=_0x5dbdd3/_0x3cbf4d['clientWidth'];let _0x5cc214=_0x1acfc0*(_0x8a30e2/_0x3cbf4d[_0x4112('0x108')]-0.5)+0.5;if(_0x3db6e3<0x0||_0x3db6e3>0x1||_0x5cc214<0x0||_0x5cc214>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x3db6e3*0x10000,'y':_0x5cc214*0x10000};}}else{let _0x37ae46=_0x3413fe/_0x53440a;let _0x4a23c1=_0x37ae46*(_0x5dbdd3/_0x3cbf4d['clientWidth']-0.5)+0.5;let _0x46e85e=_0x8a30e2/_0x3cbf4d[_0x4112('0x108')];if(_0x4a23c1<0x0||_0x4a23c1>0x1||_0x46e85e<0x0||_0x46e85e>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x4a23c1*0x10000,'y':_0x46e85e*0x10000};}}};MapVision['View3d']['prototype'][_0x4112('0xd4')]=function(_0x2fba0d,_0x2038e3){let _0x53a1cd=this;if(!_0x53a1cd['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x5a8ad6=_0x53a1cd['_webRtcPlayerHtmlElement'];let _0x42a12f=_0x53a1cd['_webRtcPlayerObj'][_0x4112('0xec')];let _0x38aef1=_0x5a8ad6[_0x4112('0x108')]/_0x5a8ad6[_0x4112('0x63')];let _0x26aecc=_0x42a12f['videoHeight']/_0x42a12f[_0x4112('0x112')];_0x26aecc=_0x38aef1;if(_0x38aef1>_0x26aecc){let _0xcdfdfb=_0x38aef1/_0x26aecc;let _0xfdb368=_0x2fba0d/(0.5*_0x5a8ad6[_0x4112('0x63')]);let _0x13a510=_0xcdfdfb*_0x2038e3/(0.5*_0x5a8ad6['clientHeight']);return{'x':_0xfdb368*0x7fff,'y':_0x13a510*0x7fff};}else{let _0x420025=_0x26aecc/_0x38aef1;let _0x32afc8=_0x420025*_0x2fba0d/(0.5*_0x5a8ad6[_0x4112('0x63')]);let _0x2ff3bf=_0x2038e3/(0.5*_0x5a8ad6[_0x4112('0x108')]);return{'x':_0x32afc8*0x7fff,'y':_0x2ff3bf*0x7fff};}};MapVision['View3d']['prototype']['_unquantizeAndDenormalizeUnsigned']=function(_0x241179,_0x3191e0){let _0x855b0c=this;if(!_0x855b0c['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x1f081d=_0x855b0c['_webRtcPlayerHtmlElement'];let _0x3c3047=_0x855b0c[_0x4112('0xf')]['video'];let _0x3810de=_0x1f081d['clientHeight']/_0x1f081d['clientWidth'];let _0x306e1a=_0x3c3047[_0x4112('0x18')]/_0x3c3047[_0x4112('0x112')];if(_0x3810de>_0x306e1a){let _0x5e117c=_0x3810de/_0x306e1a;let _0x2f9e84=_0x241179/0x10000;let _0x2debc3=(_0x3191e0/0x10000-0.5)/_0x5e117c+0.5;return{'x':_0x2f9e84*_0x1f081d[_0x4112('0x63')],'y':_0x2debc3*_0x1f081d['clientHeight']};}else{let _0xb21665=(_0x241179/0x10000-0.5)/ratio+0.5;let _0x5e8828=_0x3191e0/0x10000;return{'x':_0xb21665*_0x1f081d['clientWidth'],'y':_0x5e8828*_0x1f081d[_0x4112('0x108')]};}};MapVision[_0x4112('0x136')]['prototype']['_onWebRtcAnswer']=function(_0x3dc9b8){this[_0x4112('0xf')][_0x4112('0xd')](_0x3dc9b8);this['_webRtcPlayerObj'][_0x4112('0x3f')]=_0x3d5f89=>{};this[_0x4112('0xf')]['aggregateStats'](0x1*0x3e8);};MapVision['View3d']['prototype']['_onWebRtcIce']=function(_0xf635c9){if(this[_0x4112('0xf')])this['_webRtcPlayerObj']['handleCandidateFromServer'](_0xf635c9);};MapVision['View3d'][_0x4112('0x107')][_0x4112('0x13b')]=function(_0x3df7f5,_0x37b323,_0x3d2a5f){var _0x488721=null;if(window[_0x4112('0x15b')]){_0x488721=new XMLHttpRequest();}else if(window['ActiveXObject']){_0x488721=new ActiveXObject(_0x4112('0xba'));}if(_0x488721==null){alert(_0x4112('0x7'));return;}var _0x5a7ef3=(_0x3df7f5[_0x4112('0xeb')]||_0x4112('0xaf'))['toUpperCase']();var _0x448477=_0x3df7f5[_0x4112('0xd0')]||_0x4112('0x7c');var _0x3f6e78=_0x3df7f5[_0x4112('0x4f')]||'';var _0x303437=_0x3df7f5['async']||!![];var _0x4d1422=_0x3df7f5[_0x4112('0x14f')]||[];var _0x483a02='';for(var _0x1d73e6 in _0x4d1422){_0x483a02+=_0x1d73e6+'='+_0x4d1422[_0x1d73e6]+'&';}_0x483a02=_0x483a02==''?'':_0x483a02[_0x4112('0xa0')](0x0,_0x483a02['length']-0x1);console[_0x4112('0x3')](_0x483a02);_0x488721[_0x4112('0xa1')]=function(){if(_0x488721[_0x4112('0xfc')]==0x4&&_0x488721[_0x4112('0xe6')]==0xc8){var _0xd54e04=JSON['parse'](_0x488721[_0x4112('0xb1')]);_0x37b323(_0xd54e04);}else{_0x3d2a5f;}};if(_0x5a7ef3==_0x4112('0xaf')){_0x488721['open'](_0x4112('0xaf'),_0x3f6e78,_0x303437);_0x488721[_0x4112('0xf6')](null);}else if(_0x5a7ef3==_0x4112('0x15c')){_0x488721[_0x4112('0x5f')]('POST',_0x3f6e78,_0x303437);_0x488721['setRequestHeader']('Content-type','application/x-www-form-urlencoded');_0x488721[_0x4112('0xf6')](_0x483a02);}};