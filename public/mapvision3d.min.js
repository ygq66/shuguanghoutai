const _0x5bd1=['PauseRoute','GetCurrentPosition','websocket\x20closed','close','exports','framesDecodedStart','aggregatedStats','token','onicecandidate','LayerLoad','_registerTouchEvents','aggregateStatsIntervalId','hasOwnProperty','_onMouseMoveCallback','onMouse','dcClient','WS_OPEN_STATE','linestring','log','SetResolution','_webRtcPlayerHtmlElement','_normalizeAndQuantizeUnsigned','sdpConstraints','now','_onMouseWheel','type','expectedDisplayTime','OpenStatus','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','timestampStart','latencyTestTimings','_sendInputData','SplitDynamicFloor','_connectWebsocket','bitrate','GetFloorVisible','ResumeRoute','RegisterEvent','preventDefault','LineString','_httpRequest','SetObjectsHighlight','_emiUICommand','Content-type','SetObjectsHighlightByPrefix','buttons','\x20-\x20','_webSocket','ICE\x20candidate\x20successfully\x20added','Polygon','avgBitrate','FifthButton','style','framesDropped','MessageType','ctrlKey','highFramerate','streams','OverLayerRemoveObjectsById','buffer','warn','ClearHighlight','DOMMouseScroll','error','receiveToCompositeMs','button','Point2D','data','ICE\x20candidate','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','onmousewheel','info','GetFloorDeviceVisible','_onMouseUpCallback','iceCandidate','PostCaptureTimeMs','visibility','addTransceiver','bytesReceived','speed','SetParameters','FlyToPosition','NorthControl','Position','Command','keyCode','recvonly','indexOf','Clear','WebSocket','showlocation','peerConnectionOptions','MouseButtonsMask','SetFloorVisible','signaling\x20state\x20change:','TestStartTimeMs','play','reason','name','/aimapvision3d','SetFloorRoomVisible','OverLayerCreateObjects','Parameter\x20ERROR','replace','oncontextmenu','receiveTime','playerCount','OverLayerRemoveAll','offsetX','config','SetFloorDeviceVisible','_onMouseDownCallback','OverLayerSelectObjectEdit','videoWidth','KeyPress','mediaDevices','GetUpFloorNames','StreamVideoOpen','getElementById','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000','AuxiliaryButton','POST','onVideoInitialised','onWebRtcCandidate','protocol','object','onopen','GetUpFloorNum','frameWidthStart','aggregateStats','UETransmissionTimeMs','SetGroundVisible','SetBuildingVisible','FrameDisplayDeltaTimeMs','onWebRtcOffer','_createWebRtcPlayer','SecondaryButton','onkeypress','OverLayerCreateObject','detail','MouseUp','_command','track','GetHomePosition','CommandType','onDataChannelMessage','wheelDelta','MainButton','avgframerate','httpUrl','sdp','OpenMap','enableKeyboard','GetFloorName','receiveAnswer','webSocket\x20connenect\x20error','trackIdentifier','toUpperCase','radio','floor','CreateRoute','push','url','Label','useinbandfec=1','SplitBuilding','arraybuffer','frameWidth','dataChannelOptions','RequestInitialSettings','SetObjectHighlight','SetMouseCallback','Rotate','StreamVideoClose','enableMouse','disablepictureinpicture','ToClientMessageType','MouseButton','parse','IsPlayingSequence','gid','readyState','localhost','onmouseup','substring','lowBitrate','Stop','PreEncodeTimeMs','_onMouseUp','LayerSetVisible','GetFloorDeviceNum','UpdateObjectVisibleByPrefix','&token=','->\x20SS:\x20Command:\x0a','_pressMouseButtons','GetDownFloorNum','onDataChannelConnected','Closing\x20existing\x20peerClient','UnRegisterEvent','kind','PauseSequence','then','_mouseDownStatus','onmousemove',')\x20connect','candidate','FlyToObjectById','GetDownFloorNames','MozWebSocket','FindObjectByPrefix','SetMousePositionCallback','_requestQualityControl','onAggregatedStats','UpdateObjectStyle','Created\x20datachannel\x20(','clientWidth','KeyDown','packetsLost','pitch','BrowserReceiptTimeMs','bytesReceivedStart','RequestQualityControl','SplitFloorReset','FreezeFrame','onmousedown','json','OverLayerUpdateObject','http:','setUint16','_releaseMouseButtons','UpdateObject','framerate','ice\x20gathering\x20state\x20change:','你的浏览器不支持XMLHttp','pressMouseButtons','./adapter','_callbackMouse','visible','status','function','async','oniceconnectionstatechange','clientHeight','setUint8','video_label','_webRtcPlayerObj','StartRoute','createElement','CreateObject','For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27','pcClient','GetFloorDeviceNames','setRemoteDescription','tnClient','UEPreCaptureTimeMs','addIceCandidate','aimapvision3d\x20server\x20is\x20not\x20started.','ResetAllBuildings','Alt','use\x20strict','RightControl','LayersLoad','onmouseenter','setInt16','useMic','///','highlight','OverLayerStopEdit','onkeyup','->\x20SS:\x20UnfreezeFrame:\x0a','loadedmetadata','_normalizeAndQuantizeSigned','decode','UpdateObjectVisible','SetBitrate','_registerCallback','_onMouseDown','application/x-www-form-urlencoded','getElementsByTagName','cfg','frameHeightStart','_unregisterEvents','_requestInitialSettings','GetFloorNum','GetFloorRoomName','MouseWheel','unified-plan','FindObjectById','offsetY','FourthButton','length','GetFloorRoomNum','autoplay','releaseMouseButtons','_registerKeyboardEvents','_onMouseSelectedObj','GetBuildingVisible','SetObjectsVisible','prototype','building','projectId','GetFloorDeviceName','_onMouseMove','GetFloorRoomNames','slice','MouseDown','ws://','GET','lowFramerate','SetNorthControl','KeyUp','handleCandidateFromServer','SetFrameDisplayDeltaTime','mediaType','startLatencyTest','webRtcPlayer','View3d','MapVision.View3d','getStats','AltRight','get','yaw','MouseLeave','appendChild','addEventListener','_callback','PlaySequence','MapVision','utf-16','requestVideoFrameCallback','position','version','SetBuildingWkVisible','GetFloorNames','frameHeight','code','PlayRoute','_registerMouseEvents','UEPostEncodeTimeMs','framesDecoded','OverLayerFindObject','Couldn\x27t\x20create\x20offer','OverLayerStartEdit','TransmissionTimeMs','removeChild','GetBuildingName','Model3D','PostEncodeTimeMs','IsPausedSequence','video','_emitDescriptor','https:','port','send','timestamp','srcObject','SetPosition','stringify'];const _0x4674=function(_0x5bd154,_0x4674cc){_0x5bd154=_0x5bd154-0x0;let _0x15b48a=_0x5bd1[_0x5bd154];return _0x15b48a;};(function(_0x2dbb01,_0x1d2b2a){if(typeof define===_0x4674('0xef')&&define['amd']){define([_0x4674('0xeb')],_0x1d2b2a);}else if(typeof exports===_0x4674('0x7d')){module[_0x4674('0x4')]=_0x1d2b2a(require('./adapter'));}else{_0x2dbb01[_0x4674('0x13b')]=_0x1d2b2a(_0x2dbb01['adapter']);}}(this,function(_0x132b26){function _0x2903fe(_0x4ca570){_0x4ca570=_0x4ca570||{};var _0x24aea0=this;this[_0x4674('0x117')]=_0x4ca570[_0x4674('0x5b')]||{};this['cfg']['sdpSemantics']=_0x4674('0x11e');this[_0x4674('0x117')]['offerExtmapAllowMixed']=![];this[_0x4674('0xfa')]=null;this['dcClient']=null;this[_0x4674('0xfd')]=null;this[_0x4674('0x16')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x2228bf=new URLSearchParams(window['location']['search']);this['useMic']=_0x2228bf['has']('useMic');if(!this[_0x4674('0x108')]){console['log']('Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.');}let _0x247259=location['hostname']===_0x4674('0xb6')||location['hostname']==='127.0.0.1';let _0xdf008a=location[_0x4674('0x7c')]===_0x4674('0x15f');if(this['useMic']&&!_0x247259&&!_0xdf008a){this[_0x4674('0x108')]=![];console[_0x4674('0x3f')](_0x4674('0x45'));console[_0x4674('0x3f')](_0x4674('0xf9'));}this['latencyTestTimings']={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this['TestStartTimeMs']=null;this['UEReceiptTimeMs']=null;this[_0x4674('0xfe')]=null;this['UEPostCaptureTimeMs']=null;this['UEPreEncodeTimeMs']=null;this[_0x4674('0x152')]=null;this[_0x4674('0x82')]=null;this['BrowserReceiptTimeMs']=null;this[_0x4674('0x85')]=null;},'SetUETimings':function(_0x498f0b){this['UEReceiptTimeMs']=_0x498f0b['ReceiptTimeMs'];this['UEPreCaptureTimeMs']=_0x498f0b['PreCaptureTimeMs'];this['UEPostCaptureTimeMs']=_0x498f0b[_0x4674('0x4b')];this['UEPreEncodeTimeMs']=_0x498f0b[_0x4674('0xbb')];this['UEPostEncodeTimeMs']=_0x498f0b[_0x4674('0x15b')];this['UETransmissionTimeMs']=_0x498f0b[_0x4674('0x157')];this[_0x4674('0xdb')]=Date['now']();this['OnAllLatencyTimingsReady'](this);},'SetFrameDisplayDeltaTime':function(_0x2dc37f){if(this[_0x4674('0x85')]==null){this['FrameDisplayDeltaTimeMs']=Math['round'](_0x2dc37f);this['OnAllLatencyTimingsReady'](this);}},'OnAllLatencyTimingsReady':function(_0x44685b){}};createWebRtcVideo=function(){var _0x13a5a3=document[_0x4674('0xf7')]('video');_0x13a5a3['id']='streamingVideo';_0x13a5a3['playsInline']=!![];_0x13a5a3[_0x4674('0xaf')]=!![];_0x13a5a3['muted']=![];_0x13a5a3[_0x4674('0x144')](_0x4674('0x10e'),function(_0x3fd392){if(_0x24aea0[_0x4674('0x7a')]){_0x24aea0['onVideoInitialised']();}},!![]);if(_0x4674('0x149')in HTMLVideoElement['prototype']){const _0x1b746d=(_0x14ccb5,_0x6bf6a2)=>{if(_0x6bf6a2[_0x4674('0x69')]&&_0x6bf6a2[_0x4674('0x1a')]){const _0x1bb2c8=_0x6bf6a2['presentationTime']-_0x6bf6a2[_0x4674('0x69')];_0x24aea0[_0x4674('0x6')]['receiveToCompositeMs']=_0x1bb2c8;}_0x13a5a3[_0x4674('0x149')](_0x1b746d);};_0x13a5a3['requestVideoFrameCallback'](_0x1b746d);}return _0x13a5a3;};this[_0x4674('0x15d')]=createWebRtcVideo();onsignalingstatechange=function(_0x1928c6){console['info'](_0x4674('0x5e'),_0x1928c6);};oniceconnectionstatechange=function(_0xa1cc6d){console['info']('ice\x20connection\x20state\x20change:',_0xa1cc6d);};onicegatheringstatechange=function(_0x534a93){console[_0x4674('0x47')](_0x4674('0xe8'),_0x534a93);};handleOnTrack=function(_0xdc2676){if(_0xdc2676['track']){}if(_0xdc2676[_0x4674('0x8e')][_0x4674('0xc7')]=='audio'){handleOnAudioTrack(_0xdc2676['streams'][0x0]);return;}else _0xdc2676['track'][_0x4674('0xc7')]==_0x4674('0x15d')&&_0x24aea0['video']['srcObject']!==_0xdc2676[_0x4674('0x39')][0x0];{_0x24aea0[_0x4674('0x15d')][_0x4674('0x163')]=_0xdc2676['streams'][0x0];return;}};handleOnAudioTrack=function(_0x32337c){if(_0x24aea0['video'][_0x4674('0x163')]==_0x32337c){return;}else if(_0x24aea0['video']['srcObject']&&_0x24aea0['video'][_0x4674('0x163')]!==_0x32337c){let _0x58c152=document[_0x4674('0xf7')]('Audio');_0x58c152[_0x4674('0x124')]=!![];_0x58c152['srcObject']=_0x32337c;_0x58c152[_0x4674('0x60')]();console[_0x4674('0x12')]('Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.');}};setupDataChannel=function(_0x3ff8e6,_0x530c75,_0x57c487){try{let _0x2b2873=_0x3ff8e6['createDataChannel'](_0x530c75,_0x57c487);console['log'](_0x4674('0xd6')+_0x530c75+')');_0x2b2873['binaryType']=_0x4674('0xa6');_0x2b2873[_0x4674('0x7e')]=function(_0x2d02ec){console['log']('data\x20channel\x20('+_0x530c75+_0x4674('0xcc'));if(_0x24aea0[_0x4674('0xc4')]){_0x24aea0[_0x4674('0xc4')]();}};_0x2b2873['onclose']=function(_0x2cc4ea){console[_0x4674('0x12')]('data\x20channel\x20('+_0x530c75+')\x20closed');};_0x2b2873['onmessage']=function(_0x23b514){if(_0x24aea0[_0x4674('0x91')])_0x24aea0['onDataChannelMessage'](_0x23b514[_0x4674('0x43')]);};return _0x2b2873;}catch(_0x5e8373){console[_0x4674('0x3c')]('No\x20data\x20channel',_0x5e8373);return null;}};onicecandidate=function(_0x39b04e){console[_0x4674('0x12')](_0x4674('0x44'),_0x39b04e);if(_0x39b04e[_0x4674('0xcd')]&&_0x39b04e['candidate']['candidate']){_0x24aea0[_0x4674('0x7b')](_0x39b04e['candidate']);}};handleCreateOffer=function(_0x1b0d17){_0x1b0d17['createOffer'](_0x24aea0['sdpConstraints'])['then'](function(_0x2bd63a){mungeSDPOffer(_0x2bd63a);_0x1b0d17['setLocalDescription'](_0x2bd63a);if(_0x24aea0[_0x4674('0x86')]){_0x24aea0['onWebRtcOffer'](_0x2bd63a);}},function(){console['warn'](_0x4674('0x155'));});};mungeSDPOffer=function(_0x49910c){_0x49910c['sdp']=_0x49910c[_0x4674('0x96')]['replace'](_0x4674('0xa4'),_0x4674('0x77'));};setupPeerConnection=function(_0x5c9126){if(_0x5c9126[_0x4674('0x112')])console[_0x4674('0x12')]('Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function');_0x5c9126['onsignalingstatechange']=onsignalingstatechange;_0x5c9126[_0x4674('0xf1')]=oniceconnectionstatechange;_0x5c9126['onicegatheringstatechange']=onicegatheringstatechange;_0x5c9126['ontrack']=handleOnTrack;_0x5c9126[_0x4674('0x8')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x24aea0['aggregatedStats'])_0x24aea0['aggregatedStats']={};return function(_0x209a19){let _0x52f547={};_0x209a19['forEach'](_0x23d3ae=>{if(_0x23d3ae['type']=='inbound-rtp'&&!_0x23d3ae['isRemote']&&(_0x23d3ae[_0x4674('0x139')]=='video'||_0x23d3ae['id']['toLowerCase']()['includes']('video'))){_0x52f547[_0x4674('0x162')]=_0x23d3ae['timestamp'];_0x52f547[_0x4674('0x4e')]=_0x23d3ae[_0x4674('0x4e')];_0x52f547['framesDecoded']=_0x23d3ae['framesDecoded'];_0x52f547[_0x4674('0xd9')]=_0x23d3ae[_0x4674('0xd9')];_0x52f547['bytesReceivedStart']=_0x24aea0['aggregatedStats']&&_0x24aea0['aggregatedStats'][_0x4674('0xdc')]?_0x24aea0[_0x4674('0x6')]['bytesReceivedStart']:_0x23d3ae[_0x4674('0x4e')];_0x52f547[_0x4674('0x5')]=_0x24aea0[_0x4674('0x6')]&&_0x24aea0[_0x4674('0x6')]['framesDecodedStart']?_0x24aea0[_0x4674('0x6')][_0x4674('0x5')]:_0x23d3ae[_0x4674('0x153')];_0x52f547['timestampStart']=_0x24aea0['aggregatedStats']&&_0x24aea0[_0x4674('0x6')][_0x4674('0x1d')]?_0x24aea0[_0x4674('0x6')]['timestampStart']:_0x23d3ae[_0x4674('0x162')];if(_0x24aea0['aggregatedStats']&&_0x24aea0['aggregatedStats'][_0x4674('0x162')]){if(_0x24aea0[_0x4674('0x6')][_0x4674('0x4e')]){_0x52f547[_0x4674('0x22')]=0x8*(_0x52f547['bytesReceived']-_0x24aea0[_0x4674('0x6')][_0x4674('0x4e')])/(_0x52f547['timestamp']-_0x24aea0['aggregatedStats'][_0x4674('0x162')]);_0x52f547[_0x4674('0x22')]=Math['floor'](_0x52f547['bitrate']);_0x52f547['lowBitrate']=_0x24aea0[_0x4674('0x6')]['lowBitrate']&&_0x24aea0['aggregatedStats']['lowBitrate']<_0x52f547[_0x4674('0x22')]?_0x24aea0[_0x4674('0x6')][_0x4674('0xb9')]:_0x52f547['bitrate'];_0x52f547['highBitrate']=_0x24aea0['aggregatedStats']['highBitrate']&&_0x24aea0['aggregatedStats']['highBitrate']>_0x52f547['bitrate']?_0x24aea0['aggregatedStats']['highBitrate']:_0x52f547['bitrate'];}if(_0x24aea0[_0x4674('0x6')][_0x4674('0xdc')]){_0x52f547[_0x4674('0x32')]=0x8*(_0x52f547['bytesReceived']-_0x24aea0[_0x4674('0x6')]['bytesReceivedStart'])/(_0x52f547['timestamp']-_0x24aea0['aggregatedStats']['timestampStart']);_0x52f547['avgBitrate']=Math[_0x4674('0x9f')](_0x52f547[_0x4674('0x32')]);}if(_0x24aea0[_0x4674('0x6')][_0x4674('0x153')]){_0x52f547['framerate']=(_0x52f547[_0x4674('0x153')]-_0x24aea0['aggregatedStats']['framesDecoded'])/((_0x52f547['timestamp']-_0x24aea0['aggregatedStats'][_0x4674('0x162')])/0x3e8);_0x52f547['framerate']=Math['floor'](_0x52f547['framerate']);_0x52f547['lowFramerate']=_0x24aea0[_0x4674('0x6')][_0x4674('0x134')]&&_0x24aea0['aggregatedStats']['lowFramerate']<_0x52f547['framerate']?_0x24aea0[_0x4674('0x6')][_0x4674('0x134')]:_0x52f547[_0x4674('0xe7')];_0x52f547[_0x4674('0x38')]=_0x24aea0[_0x4674('0x6')][_0x4674('0x38')]&&_0x24aea0['aggregatedStats']['highFramerate']>_0x52f547['framerate']?_0x24aea0['aggregatedStats'][_0x4674('0x38')]:_0x52f547[_0x4674('0xe7')];}if(_0x24aea0[_0x4674('0x6')]['framesDecodedStart']){_0x52f547[_0x4674('0x94')]=(_0x52f547['framesDecoded']-_0x24aea0['aggregatedStats'][_0x4674('0x5')])/((_0x52f547['timestamp']-_0x24aea0[_0x4674('0x6')][_0x4674('0x1d')])/0x3e8);_0x52f547[_0x4674('0x94')]=Math[_0x4674('0x9f')](_0x52f547[_0x4674('0x94')]);}}}if(_0x23d3ae['type']==_0x4674('0x8e')&&(_0x23d3ae[_0x4674('0x9c')]==_0x4674('0xf4')||_0x23d3ae[_0x4674('0xc7')]=='video')){_0x52f547['framesDropped']=_0x23d3ae[_0x4674('0x35')];_0x52f547['framesReceived']=_0x23d3ae['framesReceived'];_0x52f547['framesDroppedPercentage']=_0x23d3ae[_0x4674('0x35')]/_0x23d3ae['framesReceived']*0x64;_0x52f547[_0x4674('0x14e')]=_0x23d3ae[_0x4674('0x14e')];_0x52f547[_0x4674('0xa7')]=_0x23d3ae['frameWidth'];_0x52f547['frameHeightStart']=_0x24aea0['aggregatedStats']&&_0x24aea0['aggregatedStats'][_0x4674('0x118')]?_0x24aea0['aggregatedStats']['frameHeightStart']:_0x23d3ae[_0x4674('0x14e')];_0x52f547['frameWidthStart']=_0x24aea0['aggregatedStats']&&_0x24aea0['aggregatedStats'][_0x4674('0x80')]?_0x24aea0[_0x4674('0x6')][_0x4674('0x80')]:_0x23d3ae['frameWidth'];}if(_0x23d3ae['type']=='candidate-pair'&&_0x23d3ae[_0x4674('0xc')]('currentRoundTripTime')&&_0x23d3ae['currentRoundTripTime']!=0x0){_0x52f547['currentRoundTripTime']=_0x23d3ae['currentRoundTripTime'];}});if(_0x24aea0['aggregatedStats'][_0x4674('0x40')]){_0x52f547['receiveToCompositeMs']=_0x24aea0['aggregatedStats']['receiveToCompositeMs'];_0x24aea0[_0x4674('0x1e')][_0x4674('0x138')](_0x24aea0[_0x4674('0x6')]['receiveToCompositeMs']);}_0x24aea0['aggregatedStats']=_0x52f547;if(_0x24aea0['onAggregatedStats'])_0x24aea0[_0x4674('0xd4')](_0x52f547);};};setupTracksToSendAsync=async function(_0x24d85c){_0x24d85c[_0x4674('0x4d')]('video',{'direction':_0x4674('0x56')});if(!_0x24aea0['useMic']){_0x24d85c['addTransceiver']('audio',{'direction':_0x4674('0x56')});}else{let _0x524b76=_0x24aea0['useMic']?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x57350a=await navigator[_0x4674('0x73')]['getUserMedia']({'video':![],'audio':_0x524b76});if(_0x57350a){for(const _0x560c8b of _0x57350a['getTracks']()){if(_0x560c8b[_0x4674('0xc7')]&&_0x560c8b['kind']=='audio'){_0x24d85c[_0x4674('0x4d')](_0x560c8b,{'direction':'sendrecv'});}}}else{_0x24d85c[_0x4674('0x4d')]('audio',{'direction':'recvonly'});}}};this[_0x4674('0x13a')]=function(_0x7088a7){if(!_0x24aea0[_0x4674('0x15d')]){return;}_0x24aea0['latencyTestTimings']['Reset']();_0x24aea0['latencyTestTimings']['TestStartTimeMs']=Date[_0x4674('0x17')]();_0x7088a7(_0x24aea0['latencyTestTimings'][_0x4674('0x5f')]);};this[_0x4674('0x137')]=function(_0x52f323){console[_0x4674('0x12')]('ICE\x20candidate:\x20',_0x52f323);let _0x5cd2df=new RTCIceCandidate(_0x52f323);_0x24aea0['pcClient'][_0x4674('0xff')](_0x5cd2df)[_0x4674('0xc9')](_0xaf00cd=>{console['log'](_0x4674('0x30'));});};this['createOffer']=function(){if(_0x24aea0[_0x4674('0xfa')]){console[_0x4674('0x12')]('Closing\x20existing\x20PeerConnection');_0x24aea0[_0x4674('0xfa')][_0x4674('0x3')]();_0x24aea0[_0x4674('0xfa')]=null;}_0x24aea0[_0x4674('0xfa')]=new RTCPeerConnection(_0x24aea0[_0x4674('0x117')]);setupTracksToSendAsync(_0x24aea0[_0x4674('0xfa')])['finally'](function(){setupPeerConnection(_0x24aea0[_0x4674('0xfa')]);_0x24aea0['dcClient']=setupDataChannel(_0x24aea0[_0x4674('0xfa')],'cirrus',_0x24aea0[_0x4674('0xa8')]);handleCreateOffer(_0x24aea0['pcClient']);});};this[_0x4674('0x9a')]=function(_0x559701){var _0x16efbd=new RTCSessionDescription(_0x559701);_0x24aea0['pcClient'][_0x4674('0xfc')](_0x16efbd);let _0x3b9873=_0x24aea0[_0x4674('0xfa')]['getReceivers']();for(let _0x396289 of _0x3b9873){_0x396289['playoutDelayHint']=0x0;}};this[_0x4674('0x3')]=function(){if(_0x24aea0[_0x4674('0xfa')]){console[_0x4674('0x12')](_0x4674('0xc5'));_0x24aea0['pcClient']['close']();_0x24aea0[_0x4674('0xfa')]=null;}if(_0x24aea0[_0x4674('0xb')])clearInterval(_0x24aea0['aggregateStatsIntervalId']);};this['send']=function(_0x31f377){if(_0x24aea0[_0x4674('0xf')]&&_0x24aea0['dcClient'][_0x4674('0xb5')]=='open'){_0x24aea0[_0x4674('0xf')]['send'](_0x31f377);}};this[_0x4674('0x13e')]=function(_0x256a9e){if(_0x24aea0['pcClient']&&_0x256a9e){_0x24aea0['pcClient']['getStats'](null)[_0x4674('0xc9')](_0x58755d=>{_0x256a9e(_0x58755d);});}};this['aggregateStats']=function(_0xef0966){let _0x18f952=generateAggregatedStatsFunction();let _0x2b07fa=()=>{_0x24aea0[_0x4674('0x13e')](_0x18f952);};_0x24aea0[_0x4674('0xb')]=setInterval(_0x2b07fa,_0xef0966);};};return _0x2903fe;}));_0x4674('0x103');var MapVision=window[_0x4674('0x147')]||{};MapVision[_0x4674('0x14b')]=()=>{return'1.0.1';};MapVision[_0x4674('0x1b')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x4674('0x36')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision['MouseButtonsMask']={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision[_0x4674('0x42')]=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x4674('0xda')]=0x0;this[_0x4674('0x141')]=0x0;this['roll']=0x0;};MapVision[_0x4674('0xa3')]=function(){this['type']='label';this[_0x4674('0xb4')]=0x1;this[_0x4674('0x62')]='';this[_0x4674('0x34')]='';this['position']=new MapVision[(_0x4674('0x53'))]();};MapVision[_0x4674('0x15a')]=function(){this['type']='model';this[_0x4674('0xb4')]=0x1;this['name']='';this['style']='';this['position']=new MapVision[(_0x4674('0x53'))]();};MapVision[_0x4674('0x27')]=function(){this[_0x4674('0x19')]=_0x4674('0x11');this[_0x4674('0xb4')]=0x1;this[_0x4674('0x62')]='';this[_0x4674('0x34')]='';this['geom']=[];};MapVision[_0x4674('0x31')]=function(){this[_0x4674('0x19')]='polygon';this[_0x4674('0xb4')]=0x1;this[_0x4674('0x62')]='';this['style']='';this['geom']=[];};MapVision['Building']=function(){this['type']=_0x4674('0x12b');this['gid']=0x0;this[_0x4674('0x62')]='';this['floors']=[{'type':'floor','gid':0x0,'name':''}];this[_0x4674('0x14a')]=new MapVision['Position']();};MapVision[_0x4674('0x10')]=0x1;MapVision[_0x4674('0x13c')]=function(_0x58546e){this['id']=_0x58546e['id'];this[_0x4674('0x62')]=_0x4674('0x13d');this['url']=_0x58546e[_0x4674('0xa2')];this['projectId']=_0x58546e[_0x4674('0x12c')];this[_0x4674('0x7')]=_0x58546e['token'];this['enableKeyboard']=!![];this['enableMouse']=!![];this['_registerCallback']=null;this['_webRtcPlayerHtmlElement']=null;this[_0x4674('0xf5')]=null;this['_webSocket']=null;this['_callback']=null;this[_0x4674('0xec')]=null;this[_0x4674('0xca')]=![];this[_0x4674('0x8d')]=null;this[_0x4674('0x127')]=null;this[_0x4674('0x6f')]=null;this['_onMouseUpCallback']=null;this['_onMouseMoveCallback']=null;};MapVision['View3d']['prototype']['Open']=function(_0x338941){let _0x2e3af7=this;_0x2e3af7[_0x4674('0x113')]=_0x338941;_0x2e3af7[_0x4674('0x145')]=null;if(_0x2e3af7['id']==''||_0x2e3af7['url']==''||_0x2e3af7[_0x4674('0x12c')]==''){if(_0x2e3af7[_0x4674('0x113')]){const _0x8848fb={'code':0xc9,'msg':_0x4674('0x66')};_0x2e3af7[_0x4674('0x113')](_0x8848fb);}return;}window[_0x4674('0x59')]=window['WebSocket']||window[_0x4674('0xd0')];if(!window[_0x4674('0x59')]){if(_0x2e3af7['_registerCallback']){const _0x4a4168={'code':0x1f9,'msg':_0x4674('0x1c')};_0x2e3af7['_registerCallback'](_0x4a4168);}return;}const _0x2034c0=_0x2e3af7[_0x4674('0x2f')];if(_0x2034c0){_0x2034c0['close']();_0x2e3af7['_webSocket']=undefined;console[_0x4674('0x12')]('\x20_webSocket\x20closed\x20');_0x2e3af7[_0x4674('0x119')](_0x2e3af7['_webRtcPlayerHtmlElement']);}if(_0x2e3af7[_0x4674('0xa2')][_0x4674('0x57')](_0x4674('0x63'))<0x0){let _0x569ece=_0x2e3af7[_0x4674('0xa2')]['replace'](_0x4674('0xe3'),'');_0x569ece=_0x569ece[_0x4674('0x67')]('/','');_0x569ece=_0x4674('0x132')+_0x569ece;_0x569ece=_0x569ece['replace'](_0x4674('0x109'),'//');console[_0x4674('0x12')](_0x569ece);_0x2e3af7['_connectWebsocket'](_0x569ece);return;}const _0x443c2b={'httpUrl':_0x2e3af7[_0x4674('0xa2')]+'/project3d/getInfo?id='+_0x2e3af7['projectId']+_0x4674('0xc0')+_0x2e3af7['token'],'type':_0x4674('0x140')};setTimeout(()=>{_0x2e3af7['_httpRequest'](_0x443c2b,function(_0x35bcfd){if(_0x35bcfd[_0x4674('0x14f')]&&_0x35bcfd['code']===0xc8){const _0xdeee38=_0x35bcfd[_0x4674('0x43')];if(_0xdeee38[_0x4674('0x160')]<0xa){console['log'](_0x4674('0x100'));if(_0x2e3af7['_registerCallback']){const _0x405ad7={'code':0x12c,'msg':_0x4674('0x100')};_0x2e3af7[_0x4674('0x113')](_0x405ad7);}return;}let _0x2d838e=_0x2e3af7[_0x4674('0xa2')]['replace']('http://','');const _0x2b432d=_0x2d838e['indexOf'](':',0x0);if(_0x2b432d>0x0)_0x2d838e=_0x2d838e[_0x4674('0xb8')](0x0,_0x2b432d);_0x2d838e=_0x4674('0x132')+_0x2d838e+':'+_0xdeee38[_0x4674('0x160')];_0x2e3af7[_0x4674('0x21')](_0x2d838e);}else{console['log'](_0x35bcfd);if(_0x2e3af7[_0x4674('0x113')]){_0x2e3af7[_0x4674('0x113')](_0x35bcfd);}}},function(){if(_0x2e3af7[_0x4674('0x113')]){const _0x797fd9={'code':0x1f4,'msg':'Bad\x20Request'};_0x2e3af7[_0x4674('0x113')](_0x797fd9);}});},0x64);};MapVision['View3d'][_0x4674('0x12a')]['Close']=function(){let _0x2c53f5=this;const _0x4a2ee5=_0x2c53f5['_webSocket'];if(_0x4a2ee5){_0x2c53f5[_0x4674('0xc6')]();_0x4a2ee5['close']();_0x2c53f5[_0x4674('0x2f')]=undefined;console['log']('\x20_webSocket\x20closed\x20');}};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x25')]=function(_0x2187f6,_0x544b0f){if(_0x2187f6===_0x4674('0xe0')){this[_0x4674('0x6f')]=_0x544b0f;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xab')]);}else if(_0x2187f6==='onmousemove'){this['_onMouseMoveCallback']=_0x544b0f;}else if(_0x2187f6===_0x4674('0xb7')){this['_onMouseUpCallback']=_0x544b0f;}else{this[_0x4674('0x113')]=_0x544b0f;}};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0xc6')]=function(){if(this[_0x4674('0x14')]){this[_0x4674('0x119')](this['_webRtcPlayerHtmlElement']);}this['_onMouseDownCallback']=null;this[_0x4674('0xd')]=null;this[_0x4674('0x49')]=null;this[_0x4674('0x113')]=null;};MapVision['View3d'][_0x4674('0x12a')]['IsClose']=function(){const _0x43e5ee=this['_webSocket']===undefined;return _0x43e5ee;};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['SetParameters']=function(_0x2ff035){this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x50')],_0x2ff035);};MapVision['View3d']['prototype'][_0x4674('0x13')]=function(_0x4554de,_0x249618){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x13')],{'width':_0x4554de,'height':_0x249618});};MapVision['View3d']['prototype']['SetMapStatus']=function(_0x3f070b,_0x4920d1){if(_0x3f070b>MapVision['MapStatusType']['SELECTE'])this['_callback']=_0x4920d1;else this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['SetMapStatus'],{'mapstatus':_0x3f070b});};MapVision['View3d']['prototype'][_0x4674('0x58')]=function(){this[_0x4674('0x145')]=null;this['_onMouseSelectedObj']=null;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x58')]);};MapVision['View3d']['prototype']['Stop']=function(){this[_0x4674('0x145')]=null;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0xba')]);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['ResetHome']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['ResetHome']);};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0xac')]=function(_0x18046a,_0x533d0d,_0x36b59c,_0xa0a0c1,_0x32a2b1){this[_0x4674('0x145')]=null;let _0x44428a={};if(_0x18046a){_0x44428a['pitch']=_0x18046a;}if(_0x533d0d){_0x44428a[_0x4674('0x9e')]=_0x533d0d;}if(_0x36b59c){_0x44428a['distance']=_0x36b59c;}if(_0xa0a0c1){_0x44428a[_0x4674('0xb4')]=_0xa0a0c1;}if(_0x32a2b1){_0x44428a[_0x4674('0x10a')]=_0x32a2b1;}this['_emiUICommand'](MapVision[_0x4674('0x90')]['Rotate'],{'gid':_0xa0a0c1,'pitch':_0x18046a,'radio':_0x533d0d,'distance':_0x36b59c,'highlight':_0x32a2b1});};MapVision['View3d']['prototype'][_0x4674('0x1')]=function(_0x10ab70){this[_0x4674('0x145')]=_0x10ab70;this['_emiUICommand'](MapVision[_0x4674('0x90')]['GetCurrentPosition']);};MapVision[_0x4674('0x13c')]['prototype']['GetScrrenPosition']=function(_0x277762,_0x1d55c7){this['_callback']=_0x1d55c7;const _0x551ae8=[];_0x277762['forEach'](_0x58ac43=>{_0x551ae8[_0x4674('0xa1')]({'gid':_0x58ac43['gid']});});this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['GetScrrenPosition'],{'objects':_0x551ae8});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0xab')]=function(_0x1ccd57){this['_callbackMouse']=_0x1ccd57;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xab')]);};MapVision['View3d']['prototype'][_0x4674('0xd2')]=function(_0x449b3c){this['_callbackMouse']=_0x449b3c;this[_0x4674('0x2a')](MapVision['CommandType']['SetMousePositionCallback']);};MapVision[_0x4674('0x13c')]['prototype']['OpenMap']=function(_0x3543f5){this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x97')],{'mapname':_0x3543f5});};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x8f')]=function(_0x4c3fc1){this[_0x4674('0x145')]=_0x4c3fc1;this[_0x4674('0x2a')](MapVision['CommandType']['GetHomePosition']);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x164')]=function(_0x5c2812,_0x2debf3){this[_0x4674('0x145')]=null;_0x5c2812['showlocation']=_0x2debf3;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0x164')],_0x5c2812);};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x51')]=function(_0x595fd9,_0x2f3107,_0x22bc0c){this[_0x4674('0x145')]=null;_0x595fd9[_0x4674('0x5a')]=_0x2f3107;_0x595fd9[_0x4674('0x4f')]=_0x22bc0c;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['FlyToPosition'],_0x595fd9);};MapVision[_0x4674('0x13c')]['prototype']['FlyToObject']=function(_0x1744de,_0x149d8e,_0x2bb60d){this[_0x4674('0x145')]=null;_0x1744de[_0x4674('0x5a')]=_0x149d8e;_0x1744de[_0x4674('0x4f')]=_0x2bb60d;this[_0x4674('0x2a')](MapVision['CommandType']['FlyToObject'],_0x1744de);};MapVision['View3d'][_0x4674('0x12a')]['FlyToObjectById']=function(_0x2bda8e,_0x5aa12d,_0x5223d0,_0x12b845,_0x49900a){this['_callback']=null;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0xce')],{'gid':_0x2bda8e,'showlocation':_0x5aa12d,'distance':_0x12b845,'speed':_0x49900a,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x5223d0,'yaw':0x0,'roll':0x0}});};MapVision[_0x4674('0x13c')]['prototype']['FindObjectById']=function(_0x2f72cf,_0x19a1dd){this['_callback']=_0x19a1dd;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x11f')],{'gid':_0x2f72cf});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['FindObjectByName']=function(_0x230cb5,_0x55eeab){this['_callback']=_0x55eeab;this['_emiUICommand'](MapVision['CommandType']['FindObjectByName'],{'gid':_0x230cb5,'name':_0x230cb5});};MapVision['View3d']['prototype'][_0x4674('0xd1')]=function(_0x195fdc,_0x1337e9,_0x46acf6){this[_0x4674('0x145')]=_0x46acf6;if(!_0x1337e9)_0x1337e9=0x14;this[_0x4674('0x2a')](MapVision['CommandType']['FindObjectByPrefix'],{'gid':_0x195fdc,'limit':_0x1337e9});};MapVision['View3d'][_0x4674('0x12a')]['GetSelectedObject']=function(_0xe6ca53){this[_0x4674('0x145')]=_0xe6ca53;this['_emiUICommand'](MapVision['CommandType']['GetSelectedObject']);};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0xe6')]=function(_0x543770){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType']['UpdateObject'],_0x543770);};MapVision[_0x4674('0x13c')]['prototype']['UpdateObjectStyle']=function(_0xf1cf0b,_0xae46b){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0xd5')],{'gid':_0xf1cf0b,'style':_0xae46b});};MapVision[_0x4674('0x13c')]['prototype']['ClearObjectStyle']=function(){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4674('0x90')]['ClearObjectStyle']);};MapVision['View3d'][_0x4674('0x12a')]['GetObjectsVisible']=function(_0x5556f8){this[_0x4674('0x145')]=_0x5556f8;this[_0x4674('0x2a')](MapVision['CommandType']['GetObjectsVisible']);};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x129')]=function(_0x35f53d){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision[_0x4674('0x90')]['SetObjectsVisible'],{'objects':_0x35f53d});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0xaa')]=function(_0x193459){this['_callback']=null;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0xaa')],{'gid':_0x193459});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['SetObjectsHighlight']=function(_0x40dd18){this['_callback']=null;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x29')],{'objects':_0x40dd18});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x2c')]=function(_0x3c1c3b){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x2c')],{'prefix':_0x3c1c3b});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['ClearHighlight']=function(){this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x3d')]);};MapVision['View3d'][_0x4674('0x12a')]['UpdateObjectVisible']=function(_0x4049f3,_0x86fbcd){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x111')],{'gid':_0x4049f3,'visible':_0x86fbcd});};MapVision['View3d']['prototype']['UpdateObjectVisibleByPrefix']=function(_0x32fa8d,_0x407a8b){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xbf')],{'gid':_0x32fa8d,'visible':_0x407a8b});};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0xf8')]=function(_0xa69aae){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xf8')],_0xa69aae);};MapVision['View3d']['prototype']['CreateRoute']=function(_0x141772){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xa0')],_0x141772);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0xf6')]=function(_0x40049a){this['_callback']=null;this['_emiUICommand'](MapVision[_0x4674('0x90')]['StartRoute'],_0x40049a);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['PlayRoute']=function(_0x22ba28){this['_callback']=_0x22ba28;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x150')]);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['PauseRoute']=function(){this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x0')]);};MapVision['View3d']['prototype']['StopRoute']=function(){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType']['StopRoute']);};MapVision['View3d']['prototype'][_0x4674('0x24')]=function(){this['_emiUICommand'](MapVision[_0x4674('0x90')]['ResumeRoute']);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x146')]=function(_0xc2a615){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType']['PlaySequence'],{'gid':_0xc2a615});};MapVision['View3d']['prototype']['PauseSequence']=function(_0x20cd48){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xc8')],{'gid':_0x20cd48});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0xb3')]=function(_0x1f6f5b,_0x22f100){this['_callback']=_0x22f100;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xb3')],{'gid':_0x1f6f5b});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x15c')]=function(_0x424fff,_0x3f9d2f){this['_callback']=_0x3f9d2f;this['_emiUICommand'](MapVision['CommandType']['IsPausedSequence'],{'gid':_0x424fff});};MapVision['View3d']['prototype']['StopSequence']=function(_0x5adb3f,_0x3dc78b){this[_0x4674('0x145')]=null;this['_emiUICommand'](MapVision['CommandType']['StopSequence'],{'gid':_0x5adb3f});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x75')]=function(_0x63d204){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x75')],_0x63d204);};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0xad')]=function(){this['_callback']=null;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0xad')]);};MapVision['View3d']['prototype']['GetBuildingNum']=function(_0x264f8d){this['_callback']=_0x264f8d;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['GetBuildingNum']);};MapVision['View3d'][_0x4674('0x12a')]['GetBuildingName']=function(_0x10203d,_0x3527e3){this[_0x4674('0x145')]=_0x3527e3;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x159')],{'bindex':_0x10203d});};MapVision[_0x4674('0x13c')]['prototype']['GetBuildingNames']=function(_0x2a9d7b){this['_callback']=_0x2a9d7b;this['_emiUICommand'](MapVision['CommandType']['GetBuildingNames']);};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x128')]=function(_0x53e2c5,_0xdc7b00){this[_0x4674('0x145')]=_0xdc7b00;this[_0x4674('0x2a')](MapVision['CommandType']['GetBuildingVisible'],{'gid':_0x53e2c5});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x84')]=function(_0x1d2cb1,_0x3fdeee,_0x15dc21){this[_0x4674('0x2a')](MapVision['CommandType']['SetBuildingVisible'],{'gid':_0x1d2cb1,'visible':_0x3fdeee,'opacity':_0x15dc21});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x14c')]=function(_0x5098e2,_0x9325ef,_0x348d04){this[_0x4674('0x2a')](MapVision['CommandType']['SetBuildingWkVisible'],{'gid':_0x5098e2,'visible':_0x9325ef,'opacity':_0x348d04});};MapVision['View3d']['prototype'][_0x4674('0x101')]=function(){this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x101')]);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0xa5')]=function(_0x369775,_0x2376c2){this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['SplitBuilding'],{'gid':_0x369775,'offset':_0x2376c2});};MapVision['View3d']['prototype']['SplitBuildingReset']=function(_0x58c332){this['_emiUICommand'](MapVision['CommandType']['SplitBuildingReset'],{'gid':_0x58c332});};MapVision['View3d'][_0x4674('0x12a')]['SplitDynamicBuilding']=function(_0x43c43f,_0x183443){this[_0x4674('0x2a')](MapVision['CommandType']['SplitDynamicBuilding'],{'gid':_0x43c43f,'offset':_0x183443});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x20')]=function(_0x25893c,_0x56b477,_0x8de708){this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0x20')],{'gid':_0x25893c,'floor':_0x56b477,'offset':_0x8de708});};MapVision['View3d']['prototype'][_0x4674('0xde')]=function(_0x1f459d,_0x362abe){this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0xde')],{'gid':_0x1f459d,'floor':_0x362abe});};MapVision['View3d'][_0x4674('0x12a')]['GetFloorNum']=function(_0x1843a6,_0x51fa9f){this[_0x4674('0x145')]=_0x51fa9f;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x11b')],{'gid':_0x1843a6});};MapVision['View3d']['prototype'][_0x4674('0x99')]=function(_0x3a3f8d,_0x15eb2f){this[_0x4674('0x145')]=_0x15eb2f;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['GetFloorNames'],{'gid':_0x3a3f8d});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x14d')]=function(_0x1eb526,_0x3e1dd){this['_callback']=_0x3e1dd;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x14d')],{'gid':_0x1eb526});};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x23')]=function(_0x36683c,_0x3d1c5c,_0x10316f){this['_callback']=_0x10316f;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0x23')],{'gid':_0x36683c,'floor':_0x3d1c5c});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x5d')]=function(_0x20a5da,_0xa8ce77,_0x4ca193,_0xeba037){if(!_0x4ca193)_0x4ca193=![];if(!_0xeba037)_0xeba037=0x0;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['SetFloorVisible'],{'gid':_0x20a5da,'floor':_0xa8ce77,'visible':_0x4ca193,'opacity':_0xeba037});};MapVision['View3d']['prototype']['GetUpFloorNum']=function(_0x4e7b6a,_0x44762e,_0x298eb9){this['_callback']=_0x298eb9;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x7f')],{'gid':_0x4e7b6a,'floor':_0x44762e});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x74')]=function(_0x3125c3,_0x219de6,_0x3fc5c9){this['_callback']=_0x3fc5c9;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x74')],{'gid':_0x3125c3,'floor':_0x219de6});};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0xc3')]=function(_0x3eb127,_0x4037d1,_0x5db023){this['_callback']=_0x5db023;this[_0x4674('0x2a')](MapVision['CommandType']['GetDownFloorNum'],{'gid':_0x3eb127,'floor':_0x4037d1});};MapVision['View3d']['prototype'][_0x4674('0xcf')]=function(_0x3d5a0a,_0x437ccb,_0x331384){this['_callback']=_0x331384;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0xcf')],{'gid':_0x3d5a0a,'floor':_0x437ccb});};MapVision['View3d']['prototype']['GetFloorRoomNum']=function(_0x311e29,_0x1f937b,_0x552720){this['_callback']=_0x552720;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x123')],{'gid':_0x311e29,'floor':_0x1f937b});};MapVision['View3d']['prototype'][_0x4674('0x11c')]=function(_0x3604af,_0x30ecf2,_0xc9e0a3){this['_callback']=_0xc9e0a3;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x12f')],{'gid':_0x3604af,'floor':_0x30ecf2});};MapVision[_0x4674('0x13c')]['prototype']['GetFloorRoomNames']=function(_0x4b58c1,_0x276746,_0x150785){this[_0x4674('0x145')]=_0x150785;this['_emiUICommand'](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0x4b58c1,'floor':_0x276746});};MapVision['View3d'][_0x4674('0x12a')]['GetFloorRoomVisible']=function(_0x186dfc,_0x458790,_0xcd64e1,_0x31af5b){this[_0x4674('0x145')]=_0x31af5b;this['_emiUICommand'](MapVision[_0x4674('0x90')]['GetFloorRoomVisible'],{'gid':_0x186dfc,'floor':_0x458790,'room':_0xcd64e1});};MapVision['View3d']['prototype']['SetFloorRoomVisible']=function(_0x18b470,_0x1069f5,_0x5810f6,_0x4d19a4,_0x179d14){if(!_0x4d19a4)_0x4d19a4=![];if(!_0x179d14)_0x179d14=0x0;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0x64')],{'gid':_0x18b470,'floor':_0x1069f5,'room':_0x5810f6,'visible':_0x4d19a4,'opacity':_0x179d14});};MapVision['View3d']['prototype']['GetFloorDeviceNum']=function(_0xf7a334,_0x2229cf,_0x180d72){this['_callback']=_0x180d72;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0xbe')],{'gid':_0xf7a334,'floor':_0x2229cf});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x12d')]=function(_0x8c443a,_0x32691f,_0x162098){this['_callback']=_0x162098;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0xfb')],{'gid':_0x8c443a,'floor':_0x32691f});};MapVision['View3d'][_0x4674('0x12a')]['GetFloorDeviceNames']=function(_0x11e98f,_0x23418c,_0x3beba6){this[_0x4674('0x145')]=_0x3beba6;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0xfb')],{'gid':_0x11e98f,'floor':_0x23418c});};MapVision['View3d']['prototype']['GetFloorDeviceVisible']=function(_0x5ef3e2,_0x5a9a00,_0x34d968,_0x1ebb1e){this['_callback']=_0x1ebb1e;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x48')],{'gid':_0x5ef3e2,'floor':_0x5a9a00,'device':_0x34d968});};MapVision['View3d'][_0x4674('0x12a')]['SetFloorDeviceVisible']=function(_0x11e465,_0x50f9f9,_0xb15b36,_0x43349c,_0x1189f5){if(!_0x43349c)_0x43349c=![];if(!_0x1189f5)_0x1189f5=0x0;this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x6e')],{'gid':_0x11e465,'floor':_0x50f9f9,'device':_0xb15b36,'visible':_0x43349c,'opacity':_0x1189f5});};MapVision[_0x4674('0x13c')]['prototype']['SetGroundVisible']=function(_0x5f3df0){this['_emiUICommand'](MapVision[_0x4674('0x90')][_0x4674('0x83')],{'visible':_0x5f3df0});};MapVision['View3d']['prototype'][_0x4674('0x156')]=function(_0x550dd9,_0x11ec57){this[_0x4674('0x145')]=_0x11ec57;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['OverLayerStartEdit'],_0x550dd9);};MapVision['View3d']['prototype'][_0x4674('0x10b')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['OverLayerStopEdit']);};MapVision['View3d']['prototype']['OverLayerSelectObjectEdit']=function(_0x404430){this[_0x4674('0x145')]=_0x404430;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x70')]);};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x154')]=function(_0x384374,_0x4d3ce5){this[_0x4674('0x145')]=_0x4d3ce5;this['_emiUICommand'](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x384374});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x8a')]=function(_0x13946,_0x1ba7af){this[_0x4674('0x145')]=_0x1ba7af;this['_emiUICommand'](MapVision['CommandType']['OverLayerCreateObject'],_0x13946);};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x65')]=function(_0x16f632,_0x593427){this['_callback']=_0x593427;this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0x65')],{'shapes':_0x16f632});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0xe2')]=function(_0x1b468a){this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0xe2')],_0x1b468a);};MapVision[_0x4674('0x13c')]['prototype']['OverLayerRemoveObject']=function(_0x49c64e){this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['OverLayerRemoveObject'],_0x49c64e);};MapVision[_0x4674('0x13c')]['prototype']['OverLayerRemoveObjectById']=function(_0x5b5b78){this[_0x4674('0x2a')](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x5b5b78});};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x3a')]=function(_0x408d80){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObjects'],{'ids':_0x408d80});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x6b')]=function(_0x3f16e6){if(_0x3f16e6){this['_emiUICommand'](MapVision[_0x4674('0x90')]['OverLayerRemoveAllCustom'],{'types':_0x3f16e6});}else{this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['OverLayerRemoveAll']);}};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x9')]=function(_0x3553ae,_0xa5359){this['_callback']=_0xa5359;this[_0x4674('0x2a')](MapVision[_0x4674('0x90')][_0x4674('0x9')],_0x3553ae);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['LayerReLoad']=function(_0x530bdb,_0x3cd686){this['_callback']=_0x3cd686;this[_0x4674('0x2a')](MapVision['CommandType']['LayerReLoad'],_0x530bdb);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x105')]=function(_0xee3c68,_0x355b0e){this['_callback']=_0x355b0e;this['_emiUICommand'](MapVision['CommandType'][_0x4674('0x105')],{'layers':_0xee3c68});};MapVision[_0x4674('0x13c')]['prototype']['LayerSelectObject']=function(_0x105910,_0x3c33e6){this[_0x4674('0x145')]=_0x3c33e6;this[_0x4674('0x2a')](MapVision['CommandType']['LayerSelectObject'],{'gid':_0x105910});};MapVision['View3d']['prototype']['LayerRemove']=function(_0x5c2941){this['_emiUICommand'](MapVision[_0x4674('0x90')]['LayerRemove'],{'gid':_0x5c2941});};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0xbd')]=function(_0x551256,_0x3e5544){this[_0x4674('0x2a')](MapVision[_0x4674('0x90')]['LayerSetVisible'],{'gid':_0x551256,'visible':_0x3e5544});};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x135')]=function(_0x51628f,_0x567667,_0x3fe739,_0x5efa16){this[_0x4674('0x2a')](MapVision['CommandType'][_0x4674('0x52')],{'visible':_0x51628f,'x':_0x567667,'y':_0x3fe739,'scale':_0x5efa16});};MapVision[_0x4674('0x13c')]['prototype']['_connectWebsocket']=function(_0x123f0a){let _0x327611=this;_0x327611['_webSocket']=new WebSocket(_0x123f0a);_0x327611[_0x4674('0x2f')]['onmessage']=function(_0x37fc50){var _0x1b9efa=JSON[_0x4674('0xb2')](_0x37fc50['data']);if(_0x1b9efa['type']===_0x4674('0x6d')){_0x327611[_0x4674('0x87')](_0x327611['id'],_0x1b9efa);}else if(_0x1b9efa['type']===_0x4674('0x6a')){}else if(_0x1b9efa['type']==='answer'){_0x327611['_onWebRtcAnswer'](_0x1b9efa);}else if(_0x1b9efa['type']===_0x4674('0x4a')){_0x327611['_onWebRtcIce'](_0x1b9efa['candidate']);}else{console[_0x4674('0x12')]('invalid\x20SS\x20message\x20type:\x20'+_0x1b9efa[_0x4674('0x19')]);}};_0x327611['_webSocket']['onerror']=function(_0x1e8353){console[_0x4674('0x12')]('this._webSocket\x20error:\x20'+JSON[_0x4674('0x165')](_0x1e8353));if(_0x327611['_registerCallback']){const _0x1b8eca={'code':0x64,'msg':_0x4674('0x9b')};_0x327611[_0x4674('0x113')](_0x1b8eca);}};_0x327611['_webSocket']['onclose']=function(_0x1cbf60){console['log']('WS\x20closed:\x20'+JSON['stringify'](_0x1cbf60[_0x4674('0x14f')])+_0x4674('0x2e')+_0x1cbf60[_0x4674('0x61')]);_0x327611['_webSocket']=undefined;let _0x1fe1ab=document[_0x4674('0x76')](_0x327611['id']);if(_0x327611['_webRtcPlayerObj']){_0x1fe1ab[_0x4674('0x158')](_0x327611[_0x4674('0xf5')][_0x4674('0x15d')]);_0x327611['_webRtcPlayerObj'][_0x4674('0x3')]();_0x327611['_webRtcPlayerObj']=undefined;}if(_0x327611['_registerCallback']){const _0x5c136a={'code':0x190,'msg':_0x4674('0x2')};_0x327611['_registerCallback'](_0x5c136a);}};};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x151')]=function(_0x4bf564){let _0x459587=this;_0x4bf564[_0x4674('0xcb')]=_0x3d0ca8=>{if(!_0x459587['enableMouse']){return;}_0x459587['_onMouseMove'](_0x3d0ca8['offsetX'],_0x3d0ca8['offsetY'],_0x3d0ca8['movementX'],_0x3d0ca8['movementY']);if(_0x459587['_mouseDownStatus']&&_0x459587['_onMouseMoveCallback']){_0x459587[_0x4674('0xd')](_0x3d0ca8,_0x459587['_onMouseSelectedObj']);}_0x3d0ca8['preventDefault']();};_0x4bf564[_0x4674('0xe0')]=_0x180e87=>{_0x459587[_0x4674('0xca')]=!![];_0x459587['_onMouseSelectedObj']=null;if(!_0x459587['enableMouse']){return;}_0x459587[_0x4674('0x114')](_0x180e87['button'],_0x180e87['offsetX'],_0x180e87['offsetY']);setTimeout(function(){if(_0x459587[_0x4674('0x6f')]){_0x459587[_0x4674('0x6f')](_0x180e87,_0x459587[_0x4674('0x127')]);}},0x64);_0x180e87['preventDefault']();};_0x4bf564[_0x4674('0xb7')]=_0x161b7=>{_0x459587['_mouseDownStatus']=![];if(!_0x459587[_0x4674('0xae')]){return;}_0x459587['_onMouseUp'](_0x161b7[_0x4674('0x41')],_0x161b7[_0x4674('0x6c')],_0x161b7[_0x4674('0x120')]);if(_0x459587[_0x4674('0x49')]){_0x459587['_onMouseUpCallback'](_0x161b7,_0x459587['_onMouseSelectedObj']);}_0x161b7[_0x4674('0x26')]();};_0x4bf564[_0x4674('0x68')]=_0x39646a=>{if(!_0x459587[_0x4674('0xae')]){return;}_0x459587['_onMouseUp'](_0x39646a['button'],_0x39646a['offsetX'],_0x39646a['offsetY']);_0x39646a[_0x4674('0x26')]();};if(_0x4674('0x46')in _0x4bf564){_0x4bf564[_0x4674('0x46')]=_0x30e1b0=>{if(!_0x459587['enableMouse']){return;}_0x459587['_onMouseWheel'](_0x30e1b0[_0x4674('0x92')],_0x30e1b0[_0x4674('0x6c')],_0x30e1b0['offsetY']);_0x30e1b0['preventDefault']();};}else{_0x4bf564['addEventListener']('DOMMouseScroll',_0x5d9bbd=>{if(!_0x459587['enableMouse']){return;}_0x459587['_onMouseWheel'](_0x5d9bbd[_0x4674('0x8b')]*-0x78,_0x5d9bbd[_0x4674('0x6c')],_0x5d9bbd[_0x4674('0x120')]);_0x5d9bbd['preventDefault']();},![]);}_0x4bf564[_0x4674('0xea')]=_0x1274a8=>{if(!_0x459587[_0x4674('0xae')]){return;}_0x459587[_0x4674('0xc2')](_0x1274a8['buttons'],_0x1274a8['offsetX'],_0x1274a8['offsetY']);};_0x4bf564['releaseMouseButtons']=_0x3bc824=>{if(!_0x459587[_0x4674('0xae')]){return;}_0x459587[_0x4674('0xe5')](_0x3bc824[_0x4674('0x2d')],_0x3bc824['offsetX'],_0x3bc824[_0x4674('0x120')]);};_0x4bf564['onmouseenter']=_0x452eb0=>{if(!_0x459587['enableMouse']){return;}var _0x3a1f3c=new DataView(new ArrayBuffer(0x1));_0x3a1f3c[_0x4674('0xf3')](0x0,MapVision['MessageType']['MouseEnter']);_0x459587[_0x4674('0x1f')](_0x3a1f3c[_0x4674('0x3b')]);_0x4bf564['pressMouseButtons'](_0x452eb0);};_0x4bf564['onmouseleave']=_0x57427e=>{if(!_0x459587[_0x4674('0xae')]){return;}var _0x2a911c=new DataView(new ArrayBuffer(0x1));_0x2a911c['setUint8'](0x0,MapVision[_0x4674('0x36')][_0x4674('0x142')]);_0x459587[_0x4674('0x1f')](_0x2a911c[_0x4674('0x3b')]);_0x4bf564[_0x4674('0x125')](_0x57427e);};};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0xa')]=function(_0x56693e){};MapVision['View3d']['prototype'][_0x4674('0x119')]=function(_0xc87be4){if(!_0xc87be4){return;}_0xc87be4['onmousemove']=_0x242fc8=>{_0x242fc8[_0x4674('0x26')]();};_0xc87be4['onmousedown']=_0xe911d5=>{_0xe911d5['preventDefault']();};_0xc87be4['onmouseup']=_0x4f5ffa=>{_0x4f5ffa[_0x4674('0x26')]();};_0xc87be4['oncontextmenu']=_0xc46d1f=>{_0xc46d1f[_0x4674('0x26')]();};if(_0x4674('0x46')in _0xc87be4){_0xc87be4[_0x4674('0x46')]=_0x403355=>{_0x403355[_0x4674('0x26')]();};}else{_0xc87be4[_0x4674('0x144')](_0x4674('0x3e'),_0x401976=>{_0x401976[_0x4674('0x26')]();},![]);}_0xc87be4[_0x4674('0xea')]=_0x448c03=>{};_0xc87be4[_0x4674('0x125')]=_0x1e61a3=>{};_0xc87be4[_0x4674('0x106')]=_0x2f72cd=>{};_0xc87be4['onmouseleave']=_0x9680a8=>{};_0xc87be4['onkeydown']=_0x5cebb7=>{};_0xc87be4[_0x4674('0x10c')]=_0x300bab=>{};_0xc87be4['onkeypress']=_0x31fd7b=>{};};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x126')]=function(){let _0x1ae79c=this;const _0x26c82e={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x26c11a(_0x229072){if(_0x229072['keyCode']===_0x26c82e['Shift']&&_0x229072['code']==='ShiftRight')return _0x26c82e['RightShift'];else if(_0x229072['keyCode']===_0x26c82e['Control']&&_0x229072[_0x4674('0x14f')]==='ControlRight')return _0x26c82e[_0x4674('0x104')];else if(_0x229072['keyCode']===_0x26c82e[_0x4674('0x102')]&&_0x229072[_0x4674('0x14f')]===_0x4674('0x13f'))return _0x26c82e['RightAlt'];else return _0x229072['keyCode'];};function _0x5692b2(_0x4c2daa){return!(_0x4c2daa['keyCode']==0x1b||_0x4c2daa['keyCode']==0x74||_0x4c2daa['keyCode']==0xde||_0x4c2daa['keyCode']==0xba||_0x4c2daa['keyCode']==0xbc||_0x4c2daa[_0x4674('0x37')]&&_0x4c2daa[_0x4674('0x55')]==0x52);};var _0x20e2c3=document[_0x4674('0x116')]('iframe');var _0xc25b3d=null;if(_0x20e2c3&&_0x20e2c3[_0x4674('0x122')]>0x0){_0xc25b3d=_0x20e2c3[0x0];}else{_0xc25b3d=document;}_0xc25b3d['onkeydown']=_0x4779a7=>{if(!_0x1ae79c[_0x4674('0x98')]){return;}if(_0x5692b2(_0x4779a7)==![]){_0x4779a7[_0x4674('0x26')]();return;}_0x1ae79c['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x4674('0xd8')],_0x26c11a(_0x4779a7),_0x4779a7['repeat']])['buffer']);if(_0x4779a7['keyCode']===_0x26c82e['BackSpace']){_0xc25b3d[_0x4674('0x89')]({'charCode':_0x26c82e['BackSpace']});}};_0xc25b3d['onkeyup']=_0x1bb5fa=>{if(!_0x1ae79c['enableKeyboard']){return;}if(_0x5692b2(_0x1bb5fa)==![]){_0x1bb5fa['preventDefault']();return;}_0x1ae79c[_0x4674('0x1f')](new Uint8Array([MapVision['MessageType'][_0x4674('0x136')],_0x26c11a(_0x1bb5fa)])[_0x4674('0x3b')]);};_0xc25b3d['onkeypress']=_0x1b76e2=>{if(!_0x1ae79c[_0x4674('0x98')]){return;}if(_0x5692b2(_0x1b76e2)==![]){_0x1b76e2[_0x4674('0x26')]();return;}let _0x58dc42=new DataView(new ArrayBuffer(0x3));_0x58dc42[_0x4674('0xf3')](0x0,MapVision['MessageType'][_0x4674('0x72')]);_0x58dc42[_0x4674('0xe4')](0x1,_0x1b76e2['charCode'],!![]);_0x1ae79c['_sendInputData'](_0x58dc42['buffer']);};};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x87')]=function(_0x228327,_0x28faca){let _0x4c2dc3=this;_0x4c2dc3['_webRtcPlayerHtmlElement']=document[_0x4674('0x76')](_0x228327);_0x4c2dc3[_0x4674('0xf5')]=new webRtcPlayer({'peerConnectionOptions':_0x28faca['peerConnectionOptions']});_0x4c2dc3['_webRtcPlayerHtmlElement'][_0x4674('0x34')][_0x4674('0x4c')]='hidden';let _0x16ebff=_0x4c2dc3['_webRtcPlayerHtmlElement'];_0x16ebff[_0x4674('0x143')](_0x4c2dc3[_0x4674('0xf5')]['video']);_0x4c2dc3[_0x4674('0xf5')]['onWebRtcOffer']=function(_0x682a78){if(_0x4c2dc3['_webSocket']&&_0x4c2dc3[_0x4674('0x2f')]['readyState']===MapVision[_0x4674('0x10')]){let _0x17139b=JSON[_0x4674('0x165')](_0x682a78);_0x4c2dc3['_webSocket']['send'](_0x17139b);}};_0x4c2dc3['_webRtcPlayerObj']['onWebRtcCandidate']=function(_0x7810ad){if(_0x4c2dc3[_0x4674('0x2f')]&&_0x4c2dc3[_0x4674('0x2f')]['readyState']===MapVision['WS_OPEN_STATE']){console['log']('->\x20SS:\x20iceCandidate\x0a'+JSON[_0x4674('0x165')](_0x7810ad,undefined,0x4));_0x4c2dc3[_0x4674('0x2f')]['send'](JSON['stringify']({'type':'iceCandidate','candidate':_0x7810ad}));}};_0x4c2dc3['_webRtcPlayerObj']['onVideoInitialised']=function(){if(_0x4c2dc3[_0x4674('0x2f')]&&_0x4c2dc3['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){if(_0x4c2dc3[_0x4674('0xf5')]){_0x4c2dc3['_webRtcPlayerObj']['video']['muted']=!![];setTimeout(function(){_0x4c2dc3[_0x4674('0x11a')]();_0x4c2dc3['_requestQualityControl']();_0x4c2dc3[_0x4674('0xf5')][_0x4674('0x15d')]['play']();},0x32);}}};_0x4c2dc3['_webRtcPlayerObj']['onDataChannelConnected']=function(){if(_0x4c2dc3['_webSocket']&&_0x4c2dc3['_webSocket'][_0x4674('0xb5')]===MapVision['WS_OPEN_STATE']){if(_0x4c2dc3['_webRtcPlayerObj']['video']&&_0x4c2dc3[_0x4674('0xf5')]['video'][_0x4674('0x163')]&&_0x4c2dc3['_webRtcPlayerObj']['onVideoInitialised']){_0x4c2dc3[_0x4674('0xf5')]['onVideoInitialised']();}if(_0x4c2dc3[_0x4674('0x113')]){const _0x50f840={'code':0xc8,'msg':'websocket\x20connected'};_0x4c2dc3[_0x4674('0x113')](_0x50f840);}_0x4c2dc3['_webRtcPlayerHtmlElement']['style'][_0x4674('0x4c')]=_0x4674('0xed');}};_0x4c2dc3['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x1d91a6){var _0x4ca864=new Uint8Array(_0x1d91a6);var _0x303117=_0x4ca864[0x0];if(_0x303117===MapVision[_0x4674('0xb0')]['QualityControlOwnership']){let _0x56b480=new TextDecoder(_0x4674('0x148'))['decode'](_0x1d91a6['slice'](0x1));console[_0x4674('0x12')]('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x56b480);}else if(_0x303117===MapVision['ToClientMessageType']['Response']){let _0x164fbf=new TextDecoder('utf-16')[_0x4674('0x110')](_0x1d91a6[_0x4674('0x130')](0x1));let _0x5cd464=JSON[_0x4674('0xb2')](_0x164fbf);if(_0x5cd464&&_0x5cd464[_0x4674('0xe')]){_0x4c2dc3[_0x4674('0x127')]=_0x5cd464;}if(_0x4c2dc3['_callbackMouse']&&(_0x4c2dc3[_0x4674('0x8d')]===MapVision[_0x4674('0x90')]['SetMouseCallback']||_0x4c2dc3['_command']===MapVision[_0x4674('0x90')]['SetMousePositionCallback']||_0x5cd464&&_0x5cd464['onMouse'])){_0x4c2dc3['_callbackMouse'](_0x5cd464);_0x4c2dc3[_0x4674('0x145')]=null;}else if(_0x4c2dc3['_callback']){_0x4c2dc3['_callback'](_0x5cd464);}}else if(_0x303117===MapVision[_0x4674('0xb0')][_0x4674('0x54')]){let _0x569fd8=new TextDecoder('utf-16')['decode'](_0x1d91a6[_0x4674('0x130')](0x1));console[_0x4674('0x12')](_0x4674('0xc1')+_0x569fd8);}else if(_0x303117===MapVision['ToClientMessageType'][_0x4674('0xdf')]){let _0x1dc8d1=new TextDecoder('utf-16')['decode'](_0x1d91a6[_0x4674('0x130')](0x1));console['log']('->\x20SS:\x20FreezeFrame:\x0a'+_0x1dc8d1);}else if(_0x303117===MapVision['ToClientMessageType']['UnfreezeFrame']){let _0x222069=new TextDecoder(_0x4674('0x148'))['decode'](_0x1d91a6[_0x4674('0x130')](0x1));console[_0x4674('0x12')](_0x4674('0x10d')+_0x222069);}};_0x4c2dc3['_registerMouseEvents'](_0x16ebff);_0x4c2dc3[_0x4674('0xa')](_0x16ebff);_0x4c2dc3[_0x4674('0x126')](_0x16ebff);_0x4c2dc3[_0x4674('0xf5')]['createOffer']();};MapVision[_0x4674('0x13c')]['prototype']['_sendInputData']=function(_0x49cc61){if(this['_webRtcPlayerObj']){this[_0x4674('0xf5')]['send'](_0x49cc61);}else{console[_0x4674('0x12')]('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['_emitDescriptor']=function(_0x33a7a6,_0x425026){let _0x5b34e9=JSON[_0x4674('0x165')](_0x425026);let _0x2a0f48=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x5b34e9['length']));let _0x3d7540=0x0;_0x2a0f48['setUint8'](_0x3d7540,_0x33a7a6);_0x3d7540++;_0x2a0f48[_0x4674('0xe4')](_0x3d7540,_0x5b34e9[_0x4674('0x122')],!![]);_0x3d7540+=0x2;for(let _0x51cb68=0x0;_0x51cb68<_0x5b34e9[_0x4674('0x122')];_0x51cb68++){_0x2a0f48['setUint16'](_0x3d7540,_0x5b34e9['charCodeAt'](_0x51cb68),!![]);_0x3d7540+=0x2;}this['_sendInputData'](_0x2a0f48[_0x4674('0x3b')]);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['_emiUICommand']=function(_0x1f4cd6,_0x428af3){this['_command']=_0x1f4cd6;const _0x10e9cf={'cmd':_0x1f4cd6,'data':_0x428af3};console['log'](JSON[_0x4674('0x165')](_0x10e9cf));this[_0x4674('0x15e')](MapVision['MessageType']['UIInteraction'],_0x10e9cf);};MapVision['View3d']['prototype']['_requestInitialSettings']=function(){this[_0x4674('0x1f')](new Uint8Array([MapVision['MessageType'][_0x4674('0xa9')]])[_0x4674('0x3b')]);};MapVision['View3d']['prototype'][_0x4674('0xd3')]=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x4674('0xdd')]])['buffer']);};MapVision['View3d']['prototype'][_0x4674('0x12e')]=function(_0x2c59b1,_0x8a1fd8,_0x472817,_0x5ea4b9){let _0x68bbd2=this;if(!_0x68bbd2['_webSocket']){return;}let _0x4839c3=_0x68bbd2['_normalizeAndQuantizeUnsigned'](_0x2c59b1,_0x8a1fd8);let _0x11309a=_0x68bbd2['_normalizeAndQuantizeSigned'](_0x472817,_0x5ea4b9);var _0x4b3a5d=new DataView(new ArrayBuffer(0x9));_0x4b3a5d[_0x4674('0xf3')](0x0,MapVision['MessageType']['MouseMove']);_0x4b3a5d[_0x4674('0xe4')](0x1,_0x4839c3['x'],!![]);_0x4b3a5d[_0x4674('0xe4')](0x3,_0x4839c3['y'],!![]);_0x4b3a5d['setInt16'](0x5,_0x11309a['x'],!![]);_0x4b3a5d['setInt16'](0x7,_0x11309a['y'],!![]);_0x68bbd2['_sendInputData'](_0x4b3a5d[_0x4674('0x3b')]);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['_onMouseDown']=function(_0x23164e,_0x44d1f9,_0x276be7){let _0xf81c91=this;if(!_0xf81c91['_webSocket']){return;}let _0x58d4da=_0xf81c91[_0x4674('0x15')](_0x44d1f9,_0x276be7);var _0x2c8b8d=new DataView(new ArrayBuffer(0x6));_0x2c8b8d[_0x4674('0xf3')](0x0,MapVision[_0x4674('0x36')][_0x4674('0x131')]);_0x2c8b8d['setUint8'](0x1,_0x23164e);_0x2c8b8d['setUint16'](0x2,_0x58d4da['x'],!![]);_0x2c8b8d[_0x4674('0xe4')](0x4,_0x58d4da['y'],!![]);_0xf81c91['_sendInputData'](_0x2c8b8d[_0x4674('0x3b')]);};MapVision[_0x4674('0x13c')]['prototype']['_onMouseUp']=function(_0x10f4d5,_0x184f3c,_0x14f621){let _0x39d09a=this;if(!_0x39d09a[_0x4674('0x2f')]){return;}let _0xe2cd98=_0x39d09a['_normalizeAndQuantizeUnsigned'](_0x184f3c,_0x14f621);var _0x15fec4=new DataView(new ArrayBuffer(0x6));_0x15fec4['setUint8'](0x0,MapVision[_0x4674('0x36')][_0x4674('0x8c')]);_0x15fec4['setUint8'](0x1,_0x10f4d5);_0x15fec4['setUint16'](0x2,_0xe2cd98['x'],!![]);_0x15fec4[_0x4674('0xe4')](0x4,_0xe2cd98['y'],!![]);_0x39d09a[_0x4674('0x1f')](_0x15fec4[_0x4674('0x3b')]);};MapVision[_0x4674('0x13c')]['prototype'][_0x4674('0x18')]=function(_0xaded26,_0x80e75a,_0x498fbd){let _0x52db55=this;if(!_0x52db55['_webSocket']){return;}let _0x3df054=_0x52db55['_normalizeAndQuantizeUnsigned'](_0x80e75a,_0x498fbd);var _0x3f59b0=new DataView(new ArrayBuffer(0x7));_0x3f59b0['setUint8'](0x0,MapVision['MessageType'][_0x4674('0x11d')]);_0x3f59b0[_0x4674('0x107')](0x1,_0xaded26,!![]);_0x3f59b0[_0x4674('0xe4')](0x3,_0x3df054['x'],!![]);_0x3f59b0['setUint16'](0x5,_0x3df054['y'],!![]);_0x52db55['_sendInputData'](_0x3f59b0[_0x4674('0x3b')]);};MapVision['View3d']['prototype'][_0x4674('0xe5')]=function(_0x3f25c0,_0x430793,_0x12c137){if(_0x3f25c0&MapVision[_0x4674('0x5c')]['PrimaryButton']){this['_onMouseUp'](MapVision['MouseButton'][_0x4674('0x93')],_0x430793,_0x12c137);}if(_0x3f25c0&MapVision[_0x4674('0x5c')][_0x4674('0x88')]){this['_onMouseUp'](MapVision[_0x4674('0xb1')][_0x4674('0x88')],_0x430793,_0x12c137);}if(_0x3f25c0&MapVision['MouseButtonsMask'][_0x4674('0x78')]){this['_onMouseUp'](MapVision['MouseButton'][_0x4674('0x78')],_0x430793,_0x12c137);}if(_0x3f25c0&MapVision['MouseButtonsMask'][_0x4674('0x121')]){this[_0x4674('0xbc')](MapVision['MouseButton'][_0x4674('0x121')],_0x430793,_0x12c137);}if(_0x3f25c0&MapVision['MouseButtonsMask'][_0x4674('0x33')]){this[_0x4674('0xbc')](MapVision[_0x4674('0xb1')]['FifthButton'],_0x430793,_0x12c137);}};MapVision['View3d']['prototype'][_0x4674('0xc2')]=function(_0xee3380,_0x4f64de,_0x21c714){if(_0xee3380&MapVision[_0x4674('0x5c')]['PrimaryButton']){this[_0x4674('0x114')](MapVision['MouseButton'][_0x4674('0x93')],_0x4f64de,_0x21c714);}if(_0xee3380&MapVision['MouseButtonsMask'][_0x4674('0x88')]){this[_0x4674('0x114')](MapVision['MouseButton'][_0x4674('0x88')],_0x4f64de,_0x21c714);}if(_0xee3380&MapVision['MouseButtonsMask']['AuxiliaryButton']){this[_0x4674('0x114')](MapVision['MouseButton']['AuxiliaryButton'],_0x4f64de,_0x21c714);}if(_0xee3380&MapVision['MouseButtonsMask']['FourthButton']){this[_0x4674('0x114')](MapVision[_0x4674('0xb1')][_0x4674('0x121')],_0x4f64de,_0x21c714);}if(_0xee3380&MapVision['MouseButtonsMask']['FifthButton']){this[_0x4674('0x114')](MapVision[_0x4674('0xb1')]['FifthButton'],_0x4f64de,_0x21c714);}};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['_normalizeAndQuantizeUnsigned']=function(_0x3fb3a1,_0x4de2a7){let _0x368ce7=this;if(!_0x368ce7[_0x4674('0x2f')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x1dd735=_0x368ce7[_0x4674('0x14')];let _0x2b7c33=_0x368ce7[_0x4674('0xf5')]['video'];let _0xe3e06f=_0x1dd735['clientHeight']/_0x1dd735[_0x4674('0xd7')];let _0x2a18ef=_0x2b7c33['videoHeight']/_0x2b7c33['videoWidth'];_0x2a18ef=_0xe3e06f;if(_0xe3e06f>_0x2a18ef){let _0x57133a=_0xe3e06f/_0x2a18ef;let _0x3baf3d=_0x3fb3a1/_0x1dd735[_0x4674('0xd7')];let _0x3eef6e=_0x57133a*(_0x4de2a7/_0x1dd735[_0x4674('0xf2')]-0.5)+0.5;if(_0x3baf3d<0x0||_0x3baf3d>0x1||_0x3eef6e<0x0||_0x3eef6e>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x3baf3d*0x10000,'y':_0x3eef6e*0x10000};}}else{let _0x1e5d47=_0x2a18ef/_0xe3e06f;let _0x5ea80e=_0x1e5d47*(_0x3fb3a1/_0x1dd735['clientWidth']-0.5)+0.5;let _0x1915d2=_0x4de2a7/_0x1dd735[_0x4674('0xf2')];if(_0x5ea80e<0x0||_0x5ea80e>0x1||_0x1915d2<0x0||_0x1915d2>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x5ea80e*0x10000,'y':_0x1915d2*0x10000};}}};MapVision['View3d'][_0x4674('0x12a')][_0x4674('0x10f')]=function(_0x2a810b,_0x206c12){let _0x55a4ec=this;if(!_0x55a4ec['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x220ce1=_0x55a4ec['_webRtcPlayerHtmlElement'];let _0x156755=_0x55a4ec['_webRtcPlayerObj'][_0x4674('0x15d')];let _0x5f2d73=_0x220ce1['clientHeight']/_0x220ce1['clientWidth'];let _0x201b03=_0x156755['videoHeight']/_0x156755[_0x4674('0x71')];_0x201b03=_0x5f2d73;if(_0x5f2d73>_0x201b03){let _0x4863d8=_0x5f2d73/_0x201b03;let _0x5eb5fe=_0x2a810b/(0.5*_0x220ce1[_0x4674('0xd7')]);let _0x55519b=_0x4863d8*_0x206c12/(0.5*_0x220ce1['clientHeight']);return{'x':_0x5eb5fe*0x7fff,'y':_0x55519b*0x7fff};}else{let _0xab2d67=_0x201b03/_0x5f2d73;let _0x6d0838=_0xab2d67*_0x2a810b/(0.5*_0x220ce1['clientWidth']);let _0x54052e=_0x206c12/(0.5*_0x220ce1['clientHeight']);return{'x':_0x6d0838*0x7fff,'y':_0x54052e*0x7fff};}};MapVision[_0x4674('0x13c')][_0x4674('0x12a')]['_unquantizeAndDenormalizeUnsigned']=function(_0x477118,_0x516971){let _0x85ab75=this;if(!_0x85ab75[_0x4674('0x2f')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x4db25c=_0x85ab75[_0x4674('0x14')];let _0x2b8600=_0x85ab75[_0x4674('0xf5')]['video'];let _0x105d0=_0x4db25c['clientHeight']/_0x4db25c['clientWidth'];let _0x25207f=_0x2b8600['videoHeight']/_0x2b8600['videoWidth'];if(_0x105d0>_0x25207f){let _0x45419a=_0x105d0/_0x25207f;let _0xbd9554=_0x477118/0x10000;let _0x551cb1=(_0x516971/0x10000-0.5)/_0x45419a+0.5;return{'x':_0xbd9554*_0x4db25c[_0x4674('0xd7')],'y':_0x551cb1*_0x4db25c[_0x4674('0xf2')]};}else{let _0x2a4723=(_0x477118/0x10000-0.5)/ratio+0.5;let _0x4b13b9=_0x516971/0x10000;return{'x':_0x2a4723*_0x4db25c[_0x4674('0xd7')],'y':_0x4b13b9*_0x4db25c[_0x4674('0xf2')]};}};MapVision['View3d']['prototype']['_onWebRtcAnswer']=function(_0x22da27){this['_webRtcPlayerObj'][_0x4674('0x9a')](_0x22da27);this[_0x4674('0xf5')]['onAggregatedStats']=_0x17fb03=>{};this[_0x4674('0xf5')][_0x4674('0x81')](0x1*0x3e8);};MapVision['View3d']['prototype']['_onWebRtcIce']=function(_0x194deb){if(this['_webRtcPlayerObj'])this[_0x4674('0xf5')][_0x4674('0x137')](_0x194deb);};MapVision[_0x4674('0x13c')][_0x4674('0x12a')][_0x4674('0x28')]=function(_0x7a5b3b,_0x5a767d,_0x4590fd){var _0x2bcb2c=null;if(window['XMLHttpRequest']){_0x2bcb2c=new XMLHttpRequest();}else if(window['ActiveXObject']){_0x2bcb2c=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x2bcb2c==null){alert(_0x4674('0xe9'));return;}var _0x46b4e8=(_0x7a5b3b['type']||_0x4674('0x133'))[_0x4674('0x9d')]();var _0x80efe=_0x7a5b3b['dataType']||_0x4674('0xe1');var _0x101439=_0x7a5b3b[_0x4674('0x95')]||'';var _0x4fa0f2=_0x7a5b3b[_0x4674('0xf0')]||!![];var _0x28731a=_0x7a5b3b[_0x4674('0x43')]||[];var _0x580afc='';for(var _0x36b98e in _0x28731a){_0x580afc+=_0x36b98e+'='+_0x28731a[_0x36b98e]+'&';}_0x580afc=_0x580afc==''?'':_0x580afc[_0x4674('0xb8')](0x0,_0x580afc['length']-0x1);console[_0x4674('0x12')](_0x580afc);_0x2bcb2c['onreadystatechange']=function(){if(_0x2bcb2c[_0x4674('0xb5')]==0x4&&_0x2bcb2c[_0x4674('0xee')]==0xc8){var _0x141452=JSON[_0x4674('0xb2')](_0x2bcb2c['responseText']);_0x5a767d(_0x141452);}else{_0x4590fd;}};if(_0x46b4e8=='GET'){_0x2bcb2c['open'](_0x4674('0x133'),_0x101439,_0x4fa0f2);_0x2bcb2c[_0x4674('0x161')](null);}else if(_0x46b4e8=='POST'){_0x2bcb2c['open'](_0x4674('0x79'),_0x101439,_0x4fa0f2);_0x2bcb2c['setRequestHeader'](_0x4674('0x2b'),_0x4674('0x115'));_0x2bcb2c[_0x4674('0x161')](_0x580afc);}};