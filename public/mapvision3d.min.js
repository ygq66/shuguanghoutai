const _0x4e28=['KeyPress','StopRoute','then','exports','onAggregatedStats','showlocation','MouseLeave','log','packetsLost','isRemote','SetGroundVisible','No\x20data\x20channel','_registerCallback','CreateRoute','offerExtmapAllowMixed','_registerKeyboardEvents','trackIdentifier','RightAlt','Model3D','_webRtcPlayerHtmlElement','MapVision.View3d','type','RightControl','createDataChannel','SetMousePositionCallback','_webRtcPlayerObj','OverLayerFindObject','Label','releaseMouseButtons','video','bitrate','MessageType','match','SetParameters','ResumeRoute','Clear','framesDecodedStart','dcClient','onWebRtcCandidate','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','\x20-\x20','onmouseleave','token','Closing\x20existing\x20PeerConnection','streamingVideo','_webSocket','forEach','_onMouseUp','peerConnectionOptions','SetNorthControl','SetObjectsHighlight','code','OverLayerCreateObject','pcClient','getElementsByTagName','_pressMouseButtons','yaw','FifthButton','_onMouseWheel','connected','send','setRemoteDescription','UpdateObjectVisible','setUint16','ResetHome','_callbackMouse','setting\x20video\x20stream\x20from\x20ontrack','position','GetFloorRoomNum','_onMouseDown','length','keyCode','candidate','Position','SplitBuilding','sdp','OverLayerRemoveObject','wss://','GetDownFloorNames','Shift','SetFloorVisible','GetBuildingName','onclose','frameWidthStart','clientHeight','Point','RotateCenter','OverLayerStartEdit','PrimaryButton','setUint8','View3d','StartRoute','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket','onicegatheringstatechange','onmessage','stringify','RegisterEvents','videoWidth','_createWebRtcPlayer','createOffer','SetObjectsHighlightByPrefix','GetCurrentPosition','projectId','framesReceived','SetBuildingVisible','userAgent','buffer','framesDroppedPercentage','ResetAllBuildings','BackSpace','MouseMove','dataChannelOptions','->\x20SS:\x20Command:\x0a','replace','webRtcPlayer','ShiftRight','ice\x20gathering\x20state\x20change:','adapter','GetBuildingNames','gid','cfg','UpdateObjectStyle','FlyToObject','preventDefault','use\x20strict','enableMouse','frameWidth','_emiUICommand','sdpConstraints','SetMouseCallback','LayerReLoad','framesDecoded','RotatePosition','prototype','LayersLoad','GetDownFloorNum','$1;x-google-start-bitrate=10000;x-google-max-bitrate=20000\x0d\x0a','SetMapStatus','MouseButton','getStats','_command','GetFloorRoomVisible','receiveAnswer','IsClose','onmouseenter','object','GetHomePosition','https://','GetFloorDeviceNames','_normalizeAndQuantizeUnsigned','FindObjectById','data\x20channel\x20(','slice','setLocalDescription','avgBitrate','wsURL=','MainButton','MapStatusType','speed','./adapter','GetFloorName','unified-plan','WS_OPEN_STATE','FreezeFrame',')\x20closed','Stop','onkeydown','lowFramerate','1.0.1','amd','_callback','onDataChannelConnected','loadedmetadata','ClearHighlight','movementY','enableKeyboard','button','addEventListener','FindObjectByName','framerate','LayerRemove','RightShift','inbound-rtp','_onWebRtcIce','onWebRtcOffer','OpenStatus',')\x20connect','onkeypress','_normalizeAndQuantizeSigned','MozWebSocket','aggregatedStats','GetFloorNames','setInt16','GetFloorDeviceName','timestamp','linestring','PauseRoute','MouseWheel','url','readyState','getElementById','candidate-pair','MouseButtonsMask','SetObjectsVisible','ToClientMessageType','style','MouseEnter','SetBuildingWkVisible','Rotate','highFramerate','cirrus','OverLayerRemoveObjects','GetUpFloorNames','FlyToObjectById','label','frameHeight','closed','bytesReceived','onerror','WebSocket','timestampStart','_mouseDownStatus','ClearObjectStyle','LayerSelectObject','GetSelectedObject','_onWebRtcAnswer','utf-16','GetFloorRoomNames','onmousemove','SecondaryButton','avgframerate','GetFloorDeviceNum','geom','OpenMap','_onMouseMove','AuxiliaryButton','SetFloorDeviceVisible','currentRoundTripTime','data','function','close','MapVision','buttons','GetFloorNum','onopen','invalid\x20SS\x20message\x20type:\x20','aggregateStatsIntervalId','handleCandidateFromServer','Created\x20datachannel\x20(','SetFloorRoomVisible','onmouseup','GetFloorDeviceVisible','CommandType','clientWidth','signaling\x20state\x20change:','GetObjectsVisible','http://','OverLayerSelectObjectEdit','oniceconnectionstatechange','includes','offsetY','AltRight','Building','floor','offsetX','FourthButton','warn','SetObjectHighlight','GetBuildingVisible','videoHeight','name','Closing\x20existing\x20peerClient','aggregateStats','info','play','onVideoInitialised','highBitrate','lowBitrate','_sendInputData','OverLayerStopEdit'];const _0x212b=function(_0x4e28c5,_0x212bea){_0x4e28c5=_0x4e28c5-0x0;let _0x16ed2e=_0x4e28[_0x4e28c5];return _0x16ed2e;};(function(_0x18c267,_0x484051){if(typeof define===_0x212b('0xef')&&define[_0x212b('0xa9')]){define([_0x212b('0x9f')],_0x484051);}else if(typeof exports===_0x212b('0x91')){module[_0x212b('0x3')]=_0x484051(require('./adapter'));}else{_0x18c267[_0x212b('0x72')]=_0x484051(_0x18c267[_0x212b('0x75')]);}}(this,function(_0x2eec08){function _0x6fb22(_0x5c9515){_0x5c9515=_0x5c9515||{};var _0x188347=this;this[_0x212b('0x78')]=_0x5c9515[_0x212b('0x30')]||{};this[_0x212b('0x78')]['sdpSemantics']=_0x212b('0xa1');this['pcClient']=null;this['dcClient']=null;this['tnClient']=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1};const _0x480611=window['navigator'][_0x212b('0x69')][_0x212b('0x20')](/Chrom(e|ium)\/([0-9]+)\./);if(_0x480611){const _0x41d592=parseInt(_0x480611[0x2],0xa);if(_0x41d592>=0x59){this['cfg'][_0x212b('0xe')]=![];}}this[_0x212b('0x6f')]={'ordered':!![]};createWebRtcVideo=function(){var _0x19dd66=document['createElement'](_0x212b('0x1d'));_0x19dd66['id']=_0x212b('0x2c');_0x19dd66['playsInline']=!![];_0x19dd66[_0x212b('0xb1')](_0x212b('0xac'),function(_0xdec335){if(_0x188347[_0x212b('0x113')]){_0x188347['onVideoInitialised']();}},!![]);return _0x19dd66;};this[_0x212b('0x1d')]=createWebRtcVideo();onsignalingstatechange=function(_0x442c92){console[_0x212b('0x111')](_0x212b('0xfe'),_0x442c92);};oniceconnectionstatechange=function(_0x2be1dd){console['info']('ice\x20connection\x20state\x20change:',_0x2be1dd);};onicegatheringstatechange=function(_0x5a3c8d){console[_0x212b('0x111')](_0x212b('0x74'),_0x5a3c8d);};handleOnTrack=function(_0x335227){console[_0x212b('0x7')]('handleOnTrack',_0x335227['streams']);if(_0x188347['video']['srcObject']!==_0x335227['streams'][0x0]){console['log'](_0x212b('0x42'));_0x188347[_0x212b('0x1d')]['srcObject']=_0x335227['streams'][0x0];}};setupDataChannel=function(_0x267a40,_0xc3c6d6,_0x2752fc){try{var _0x55f6c0=_0x267a40[_0x212b('0x17')](_0xc3c6d6,_0x2752fc);console[_0x212b('0x7')](_0x212b('0xf8')+_0xc3c6d6+')');_0x55f6c0[_0x212b('0xf4')]=function(_0x452b8c){console[_0x212b('0x7')]('data\x20channel\x20('+_0xc3c6d6+_0x212b('0xba'));if(_0x188347['onDataChannelConnected']){_0x188347[_0x212b('0xab')]();}};_0x55f6c0['onclose']=function(_0x5d9450){console[_0x212b('0x7')](_0x212b('0x97')+_0xc3c6d6+_0x212b('0xa4'));};_0x55f6c0['onmessage']=function(_0x25af6b){if(_0x188347['onDataChannelMessage'])_0x188347['onDataChannelMessage'](_0x25af6b['data']);};return _0x55f6c0;}catch(_0x1fde9c){console[_0x212b('0x10a')](_0x212b('0xb'),_0x1fde9c);return null;}};onicecandidate=function(_0x27fe7c){console[_0x212b('0x7')]('ICE\x20candidate',_0x27fe7c);if(_0x27fe7c[_0x212b('0x48')]&&_0x27fe7c[_0x212b('0x48')]['candidate']){_0x188347[_0x212b('0x26')](_0x27fe7c['candidate']);}};handleCreateOffer=function(_0x2f179a){_0x2f179a['createOffer'](_0x188347[_0x212b('0x80')])['then'](function(_0x405cf8){_0x2f179a[_0x212b('0x99')](_0x405cf8);if(_0x188347['onWebRtcOffer']){_0x405cf8[_0x212b('0x4b')]=_0x405cf8[_0x212b('0x4b')][_0x212b('0x71')](/(a=fmtp:\d+ .*level-asymmetry-allowed=.*)\r\n/gm,_0x212b('0x88'));_0x188347['onWebRtcOffer'](_0x405cf8);}},function(){console['warn']('Couldn\x27t\x20create\x20offer');});};setupPeerConnection=function(_0x32ae3d){if(_0x32ae3d['SetBitrate'])console[_0x212b('0x7')](_0x212b('0x27'));_0x32ae3d['onsignalingstatechange']=onsignalingstatechange;_0x32ae3d[_0x212b('0x102')]=oniceconnectionstatechange;_0x32ae3d[_0x212b('0x5d')]=onicegatheringstatechange;_0x32ae3d['ontrack']=handleOnTrack;_0x32ae3d['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x188347[_0x212b('0xbe')])_0x188347[_0x212b('0xbe')]={};return function(_0x520081){let _0x46e8a2={};_0x520081[_0x212b('0x2e')](_0x1d5862=>{if(_0x1d5862[_0x212b('0x15')]==_0x212b('0xb6')&&!_0x1d5862[_0x212b('0x9')]&&(_0x1d5862['mediaType']=='video'||_0x1d5862['id']['toLowerCase']()[_0x212b('0x103')]('video'))){_0x46e8a2[_0x212b('0xc2')]=_0x1d5862[_0x212b('0xc2')];_0x46e8a2['bytesReceived']=_0x1d5862[_0x212b('0xd9')];_0x46e8a2[_0x212b('0x83')]=_0x1d5862['framesDecoded'];_0x46e8a2['packetsLost']=_0x1d5862[_0x212b('0x8')];_0x46e8a2['bytesReceivedStart']=_0x188347[_0x212b('0xbe')]&&_0x188347[_0x212b('0xbe')]['bytesReceivedStart']?_0x188347[_0x212b('0xbe')]['bytesReceivedStart']:_0x1d5862['bytesReceived'];_0x46e8a2['framesDecodedStart']=_0x188347[_0x212b('0xbe')]&&_0x188347[_0x212b('0xbe')][_0x212b('0x24')]?_0x188347[_0x212b('0xbe')]['framesDecodedStart']:_0x1d5862[_0x212b('0x83')];_0x46e8a2['timestampStart']=_0x188347[_0x212b('0xbe')]&&_0x188347[_0x212b('0xbe')][_0x212b('0xdc')]?_0x188347[_0x212b('0xbe')][_0x212b('0xdc')]:_0x1d5862[_0x212b('0xc2')];if(_0x188347['aggregatedStats']&&_0x188347['aggregatedStats'][_0x212b('0xc2')]){if(_0x188347['aggregatedStats']['bytesReceived']){_0x46e8a2['bitrate']=0x8*(_0x46e8a2['bytesReceived']-_0x188347[_0x212b('0xbe')]['bytesReceived'])/(_0x46e8a2[_0x212b('0xc2')]-_0x188347['aggregatedStats']['timestamp']);_0x46e8a2[_0x212b('0x1e')]=Math[_0x212b('0x107')](_0x46e8a2[_0x212b('0x1e')]);_0x46e8a2[_0x212b('0x115')]=_0x188347[_0x212b('0xbe')][_0x212b('0x115')]&&_0x188347[_0x212b('0xbe')][_0x212b('0x115')]<_0x46e8a2['bitrate']?_0x188347[_0x212b('0xbe')]['lowBitrate']:_0x46e8a2['bitrate'];_0x46e8a2['highBitrate']=_0x188347['aggregatedStats'][_0x212b('0x114')]&&_0x188347['aggregatedStats']['highBitrate']>_0x46e8a2['bitrate']?_0x188347[_0x212b('0xbe')][_0x212b('0x114')]:_0x46e8a2[_0x212b('0x1e')];}if(_0x188347['aggregatedStats']['bytesReceivedStart']){_0x46e8a2[_0x212b('0x9a')]=0x8*(_0x46e8a2['bytesReceived']-_0x188347[_0x212b('0xbe')]['bytesReceivedStart'])/(_0x46e8a2[_0x212b('0xc2')]-_0x188347[_0x212b('0xbe')]['timestampStart']);_0x46e8a2[_0x212b('0x9a')]=Math[_0x212b('0x107')](_0x46e8a2[_0x212b('0x9a')]);}if(_0x188347[_0x212b('0xbe')]['framesDecoded']){_0x46e8a2['framerate']=(_0x46e8a2['framesDecoded']-_0x188347[_0x212b('0xbe')]['framesDecoded'])/((_0x46e8a2[_0x212b('0xc2')]-_0x188347[_0x212b('0xbe')][_0x212b('0xc2')])/0x3e8);_0x46e8a2[_0x212b('0xb3')]=Math['floor'](_0x46e8a2[_0x212b('0xb3')]);_0x46e8a2['lowFramerate']=_0x188347['aggregatedStats']['lowFramerate']&&_0x188347[_0x212b('0xbe')][_0x212b('0xa7')]<_0x46e8a2['framerate']?_0x188347[_0x212b('0xbe')]['lowFramerate']:_0x46e8a2[_0x212b('0xb3')];_0x46e8a2['highFramerate']=_0x188347[_0x212b('0xbe')][_0x212b('0xd1')]&&_0x188347[_0x212b('0xbe')][_0x212b('0xd1')]>_0x46e8a2['framerate']?_0x188347[_0x212b('0xbe')][_0x212b('0xd1')]:_0x46e8a2['framerate'];}if(_0x188347[_0x212b('0xbe')]['framesDecodedStart']){_0x46e8a2['avgframerate']=(_0x46e8a2['framesDecoded']-_0x188347[_0x212b('0xbe')]['framesDecodedStart'])/((_0x46e8a2['timestamp']-_0x188347[_0x212b('0xbe')][_0x212b('0xdc')])/0x3e8);_0x46e8a2[_0x212b('0xe6')]=Math['floor'](_0x46e8a2['avgframerate']);}}}if(_0x1d5862[_0x212b('0x15')]=='track'&&(_0x1d5862[_0x212b('0x10')]=='video_label'||_0x1d5862['kind']=='video')){_0x46e8a2['framesDropped']=_0x1d5862['framesDropped'];_0x46e8a2[_0x212b('0x67')]=_0x1d5862[_0x212b('0x67')];_0x46e8a2[_0x212b('0x6b')]=_0x1d5862['framesDropped']/_0x1d5862[_0x212b('0x67')]*0x64;_0x46e8a2['frameHeight']=_0x1d5862[_0x212b('0xd7')];_0x46e8a2[_0x212b('0x7e')]=_0x1d5862[_0x212b('0x7e')];_0x46e8a2['frameHeightStart']=_0x188347[_0x212b('0xbe')]&&_0x188347['aggregatedStats']['frameHeightStart']?_0x188347['aggregatedStats']['frameHeightStart']:_0x1d5862['frameHeight'];_0x46e8a2['frameWidthStart']=_0x188347['aggregatedStats']&&_0x188347[_0x212b('0xbe')]['frameWidthStart']?_0x188347[_0x212b('0xbe')][_0x212b('0x53')]:_0x1d5862['frameWidth'];}if(_0x1d5862[_0x212b('0x15')]==_0x212b('0xc9')&&_0x1d5862['hasOwnProperty']('currentRoundTripTime')&&_0x1d5862[_0x212b('0xed')]!=0x0){_0x46e8a2[_0x212b('0xed')]=_0x1d5862[_0x212b('0xed')];}});_0x188347[_0x212b('0xbe')]=_0x46e8a2;if(_0x188347['onAggregatedStats'])_0x188347[_0x212b('0x4')](_0x46e8a2);};};this['handleCandidateFromServer']=function(_0xa66652){console[_0x212b('0x7')]('ICE\x20candidate:\x20',_0xa66652);let _0x5f58d5=new RTCIceCandidate(_0xa66652);_0x188347['pcClient']['addIceCandidate'](_0x5f58d5)[_0x212b('0x2')](_0x12d0d6=>{console[_0x212b('0x7')]('ICE\x20candidate\x20successfully\x20added');});};this[_0x212b('0x63')]=function(){if(_0x188347['pcClient']){console[_0x212b('0x7')](_0x212b('0x2b'));_0x188347[_0x212b('0x35')][_0x212b('0xf0')]();_0x188347['pcClient']=null;}_0x188347['pcClient']=new RTCPeerConnection(_0x188347['cfg']);setupPeerConnection(_0x188347[_0x212b('0x35')]);_0x188347[_0x212b('0x25')]=setupDataChannel(_0x188347[_0x212b('0x35')],_0x212b('0xd2'),_0x188347[_0x212b('0x6f')]);handleCreateOffer(_0x188347[_0x212b('0x35')]);};this[_0x212b('0x8e')]=function(_0x319e0b){var _0x2d56cf=new RTCSessionDescription(_0x319e0b);_0x188347['pcClient'][_0x212b('0x3d')](_0x2d56cf);};this[_0x212b('0xf0')]=function(){if(_0x188347['pcClient']){console['log'](_0x212b('0x10f'));_0x188347['pcClient']['close']();_0x188347['pcClient']=null;}if(_0x188347['aggregateStatsIntervalId'])clearInterval(_0x188347[_0x212b('0xf6')]);};this[_0x212b('0x3c')]=function(_0x4ccad8){if(_0x188347['dcClient']&&_0x188347[_0x212b('0x25')][_0x212b('0xc7')]=='open'){_0x188347[_0x212b('0x25')]['send'](_0x4ccad8);}};this[_0x212b('0x8b')]=function(_0xd254a2){if(_0x188347[_0x212b('0x35')]&&_0xd254a2){_0x188347['pcClient']['getStats'](null)['then'](_0x5ef0c7=>{_0xd254a2(_0x5ef0c7);});}};this[_0x212b('0x110')]=function(_0x383cce){let _0x1ebf19=generateAggregatedStatsFunction();let _0x2bad72=()=>{_0x188347['getStats'](_0x1ebf19);};_0x188347['aggregateStatsIntervalId']=setInterval(_0x2bad72,_0x383cce);};};return _0x6fb22;}));_0x212b('0x7c');var MapVision=window[_0x212b('0xf1')]||{};MapVision['version']=()=>{return _0x212b('0xa8');};MapVision[_0x212b('0xb9')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision[_0x212b('0xcc')]={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision['MessageType']={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x212b('0x8a')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x212b('0xca')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision[_0x212b('0xfc')]={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'FindObjectById':0x18787,'FindObjectByName':0x18789,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x212b('0x55')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision[_0x212b('0x49')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this['pitch']=0x0;this[_0x212b('0x38')]=0x0;this['roll']=0x0;};MapVision[_0x212b('0x1b')]=function(){this[_0x212b('0x15')]=_0x212b('0xd6');this[_0x212b('0x77')]=0x1;this['name']='';this[_0x212b('0xcd')]='';this[_0x212b('0x43')]=new MapVision['Position']();};MapVision[_0x212b('0x12')]=function(){this['type']='model';this['gid']=0x1;this[_0x212b('0x10e')]='';this[_0x212b('0xcd')]='';this[_0x212b('0x43')]=new MapVision['Position']();};MapVision['LineString']=function(){this[_0x212b('0x15')]=_0x212b('0xc3');this['gid']=0x1;this['name']='';this['style']='';this[_0x212b('0xe8')]=[];};MapVision['Polygon']=function(){this['type']='polygon';this[_0x212b('0x77')]=0x1;this[_0x212b('0x10e')]='';this['style']='';this[_0x212b('0xe8')]=[];};MapVision[_0x212b('0x106')]=function(){this[_0x212b('0x15')]='building';this[_0x212b('0x77')]=0x0;this['name']='';this['floors']=[{'type':'floor','gid':0x0,'name':''}];this[_0x212b('0x43')]=new MapVision[(_0x212b('0x49'))]();};MapVision['WS_OPEN_STATE']=0x1;MapVision['View3d']=function(_0x1d4cf8){this['id']=_0x1d4cf8['id'];this['name']=_0x212b('0x14');this[_0x212b('0xc6')]=_0x1d4cf8['url'];this[_0x212b('0x66')]=_0x1d4cf8[_0x212b('0xc6')];this['token']=_0x1d4cf8[_0x212b('0x2a')];this['enableKeyboard']=!![];this[_0x212b('0x7d')]=!![];this[_0x212b('0xc')]=null;this['_webRtcPlayerHtmlElement']=null;this['_webRtcPlayerObj']=null;this[_0x212b('0x2d')]=null;this['_callback']=null;this[_0x212b('0x41')]=null;this['_mouseDownStatus']=![];this['_command']=null;};MapVision['View3d'][_0x212b('0x85')]['Open']=function(_0x74f587){this['_registerCallback']=_0x74f587;this['_callback']=null;let _0x2023e7=this;if(_0x2023e7['id']==''||_0x2023e7[_0x212b('0xc6')]==''||_0x2023e7['projectId']==''){console['log']('Parameter\x20ERROR');return;}window[_0x212b('0xdb')]=window[_0x212b('0xdb')]||window[_0x212b('0xbd')];if(!window['WebSocket']){alert(_0x212b('0x5c'));return;}let _0x22e278=_0x2023e7[_0x212b('0xc6')]['replace'](_0x212b('0x100'),'ws://')[_0x212b('0x71')](_0x212b('0x93'),_0x212b('0x4d'));console[_0x212b('0x7')](_0x212b('0x9b')+_0x22e278);_0x2023e7[_0x212b('0x2d')]=new WebSocket(_0x22e278);_0x2023e7['_webSocket'][_0x212b('0x5e')]=function(_0x4d69ab){var _0xfa7bff=JSON['parse'](_0x4d69ab[_0x212b('0xee')]);if(_0xfa7bff[_0x212b('0x15')]==='config'){_0x2023e7[_0x212b('0x62')](_0x2023e7['id'],_0xfa7bff);}else if(_0xfa7bff[_0x212b('0x15')]==='playerCount'){}else if(_0xfa7bff['type']==='answer'){_0x2023e7[_0x212b('0xe1')](_0xfa7bff);}else if(_0xfa7bff[_0x212b('0x15')]==='iceCandidate'){_0x2023e7['_onWebRtcIce'](_0xfa7bff['candidate']);}else{console['log'](_0x212b('0xf5')+_0xfa7bff[_0x212b('0x15')]);}};_0x2023e7['_webSocket'][_0x212b('0xda')]=function(_0x4672f7){console[_0x212b('0x7')]('this._webSocket\x20error:\x20'+JSON['stringify'](_0x4672f7));if(_0x2023e7[_0x212b('0xc')]){_0x2023e7[_0x212b('0xc')]('error');}};_0x2023e7[_0x212b('0x2d')][_0x212b('0x52')]=function(_0x192ed7){console[_0x212b('0x7')]('WS\x20closed:\x20'+JSON['stringify'](_0x192ed7[_0x212b('0x33')])+_0x212b('0x28')+_0x192ed7['reason']);_0x2023e7[_0x212b('0x2d')]=undefined;let _0x78e5e0=document[_0x212b('0xc8')](_0x2023e7['id']);if(_0x2023e7['_webRtcPlayerObj']){_0x78e5e0['removeChild'](_0x2023e7[_0x212b('0x19')]['video']);_0x2023e7[_0x212b('0x19')]['close']();_0x2023e7['_webRtcPlayerObj']=undefined;}if(_0x2023e7['_registerCallback']){_0x2023e7[_0x212b('0xc')](_0x212b('0xd8'));}};};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0x60')]=function(_0x1a523f){this[_0x212b('0xc')]=_0x1a523f;};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x8f')]=function(){const _0x57af76=this['_webSocket']===undefined;return _0x57af76;};MapVision[_0x212b('0x5a')]['prototype']['SetParameters']=function(_0x1d83ca){this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x21')],_0x1d83ca);};MapVision['View3d'][_0x212b('0x85')]['SetResolution']=function(_0x247d1d,_0x1c0dc7){this['_callback']=null;this[_0x212b('0x7f')](MapVision['CommandType']['SetResolution'],{'width':_0x247d1d,'height':_0x1c0dc7});};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x89')]=function(_0x4f9e9b,_0x4a2def){if(_0x4f9e9b>MapVision[_0x212b('0x9d')]['SELECTE'])this[_0x212b('0xaa')]=_0x4a2def;else this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['SetMapStatus'],{'mapstatus':_0x4f9e9b});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x23')]=function(){this[_0x212b('0xaa')]=null;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x23')]);};MapVision['View3d']['prototype'][_0x212b('0xa5')]=function(){this[_0x212b('0xaa')]=null;this['_emiUICommand'](MapVision['CommandType']['Stop']);};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x40')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x40')]);};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x56')]=function(){this['_callback']=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0xd0')]);};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0x84')]=function(_0x1591a9){this[_0x212b('0xaa')]=null;this[_0x212b('0x7f')](MapVision['CommandType']['Rotate'],_0x1591a9);};MapVision[_0x212b('0x5a')]['prototype']['GetCurrentPosition']=function(_0x43f78f){this['_callback']=_0x43f78f;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0x65')]);};MapVision['View3d']['prototype'][_0x212b('0x81')]=function(_0x535252){this[_0x212b('0x41')]=_0x535252;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x81')]);};MapVision[_0x212b('0x5a')]['prototype']['SetMousePositionCallback']=function(_0x56595f){this[_0x212b('0x41')]=_0x56595f;this['_emiUICommand'](MapVision['CommandType']['SetMousePositionCallback']);};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0xe9')]=function(_0x2a56d7){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['OpenMap'],{'mapname':_0x2a56d7});};MapVision['View3d']['prototype'][_0x212b('0x92')]=function(_0x274caf){this[_0x212b('0xaa')]=_0x274caf;this['_emiUICommand'](MapVision['CommandType']['GetHomePosition']);};MapVision[_0x212b('0x5a')]['prototype']['SetPosition']=function(_0x60723c,_0x2883cd){this['_callback']=null;_0x60723c['showlocation']=_0x2883cd;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['SetPosition'],_0x60723c);};MapVision['View3d'][_0x212b('0x85')]['FlyToPosition']=function(_0x4fc687,_0x5e88fe,_0x132b38){this[_0x212b('0xaa')]=null;_0x4fc687[_0x212b('0x5')]=_0x5e88fe;_0x4fc687[_0x212b('0x9e')]=_0x132b38;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['FlyToPosition'],_0x4fc687);};MapVision['View3d'][_0x212b('0x85')]['FlyToObject']=function(_0x372b43,_0x5e3f78,_0x52dd1d){this[_0x212b('0xaa')]=null;_0x372b43['showlocation']=_0x5e3f78;_0x372b43[_0x212b('0x9e')]=_0x52dd1d;this['_emiUICommand'](MapVision['CommandType'][_0x212b('0x7a')],_0x372b43);};MapVision['View3d']['prototype']['FlyToObjectById']=function(_0x19b3da,_0x21350d,_0x323c92,_0x57fb91,_0x3b7746){this['_callback']=null;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0xd5')],{'gid':_0x19b3da,'showlocation':_0x21350d,'distance':_0x57fb91,'speed':_0x3b7746,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x323c92,'yaw':0x0,'roll':0x0}});};MapVision['View3d']['prototype'][_0x212b('0x96')]=function(_0x51586a,_0x2cf4a1){this['_callback']=_0x2cf4a1;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x96')],{'gid':_0x51586a});};MapVision['View3d'][_0x212b('0x85')]['FindObjectByName']=function(_0x1b1330,_0x1087ae){this['_callback']=_0x1087ae;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0xb2')],{'gid':_0x1b1330,'name':_0x1b1330});};MapVision[_0x212b('0x5a')]['prototype']['GetSelectedObject']=function(_0x199dc6){this['_callback']=_0x199dc6;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0xe0')]);};MapVision[_0x212b('0x5a')]['prototype']['UpdateObject']=function(_0x479f1b){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['UpdateObject'],_0x479f1b);};MapVision[_0x212b('0x5a')]['prototype']['UpdateObjectStyle']=function(_0x5ca3dd,_0xa5725f){this['_callback']=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0x79')],{'gid':_0x5ca3dd,'style':_0xa5725f});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0xde')]=function(){this['_callback']=null;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0xde')]);};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['GetObjectsVisible']=function(_0x473cf1){this['_callback']=_0x473cf1;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0xff')]);};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0xcb')]=function(_0xdee229){this[_0x212b('0xaa')]=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0xcb')],{'objects':_0xdee229});};MapVision[_0x212b('0x5a')]['prototype']['SetObjectHighlight']=function(_0x49bd12){this['_callback']=null;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x10b')],{'gid':_0x49bd12});};MapVision[_0x212b('0x5a')]['prototype']['SetObjectsHighlight']=function(_0x365560){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x212b('0x32')],{'objects':_0x365560});};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0x64')]=function(_0x4632c9){this['_callback']=null;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x64')],{'prefix':_0x4632c9});};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0xad')]=function(){this['_callback']=null;this[_0x212b('0x7f')](MapVision['CommandType']['ClearHighlight']);};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x3e')]=function(_0x18fca0,_0xc1f0fa){this['_callback']=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['UpdateObjectVisible'],{'gid':_0x18fca0,'visible':_0xc1f0fa});};MapVision['View3d'][_0x212b('0x85')]['UpdateObjectVisibleByPrefix']=function(_0x50385e,_0x436a20){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['UpdateObjectVisibleByPrefix'],{'gid':_0x50385e,'visible':_0x436a20});};MapVision['View3d']['prototype']['CreateObject']=function(_0xdb0257){this[_0x212b('0xaa')]=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['CreateObject'],_0xdb0257);};MapVision['View3d'][_0x212b('0x85')][_0x212b('0xd')]=function(_0x41bc77){this[_0x212b('0xaa')]=null;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0xd')],_0x41bc77);};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['StartRoute']=function(_0x470fb6){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x212b('0x5b')],_0x470fb6);};MapVision[_0x212b('0x5a')]['prototype']['PlayRoute']=function(_0x4ef00f){this['_callback']=_0x4ef00f;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['PlayRoute']);};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['PauseRoute']=function(){this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0xc4')]);};MapVision[_0x212b('0x5a')]['prototype']['StopRoute']=function(){this[_0x212b('0xaa')]=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0x1')]);};MapVision['View3d'][_0x212b('0x85')]['ResumeRoute']=function(){this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x22')]);};MapVision[_0x212b('0x5a')]['prototype']['GetBuildingNum']=function(_0x16856a){this['_callback']=_0x16856a;this[_0x212b('0x7f')](MapVision['CommandType']['GetBuildingNum']);};MapVision['View3d']['prototype'][_0x212b('0x51')]=function(_0xb8acaa,_0x33f9ca){this[_0x212b('0xaa')]=_0x33f9ca;this[_0x212b('0x7f')](MapVision['CommandType']['GetBuildingName'],{'bindex':_0xb8acaa});};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x76')]=function(_0x25d212){this['_callback']=_0x25d212;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x76')]);};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0x10c')]=function(_0x328f7f,_0x2abf09){this[_0x212b('0xaa')]=_0x2abf09;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x10c')],{'gid':_0x328f7f});};MapVision[_0x212b('0x5a')]['prototype']['SetBuildingVisible']=function(_0x2553ed,_0x4e7e5e,_0x4318d2){this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x68')],{'gid':_0x2553ed,'visible':_0x4e7e5e,'opacity':_0x4318d2});};MapVision['View3d'][_0x212b('0x85')]['SetBuildingWkVisible']=function(_0x51a712,_0x62236f,_0x5af144){this['_emiUICommand'](MapVision['CommandType'][_0x212b('0xcf')],{'gid':_0x51a712,'visible':_0x62236f,'opacity':_0x5af144});};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x6c')]=function(){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['ResetAllBuildings']);};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['SplitBuilding']=function(_0xea6ac3,_0x43e13a){this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x4a')],{'gid':_0xea6ac3,'height':_0x43e13a});};MapVision[_0x212b('0x5a')]['prototype']['SplitBuildingReset']=function(_0x2685f1){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['SplitBuildingReset'],{'gid':_0x2685f1});};MapVision[_0x212b('0x5a')]['prototype']['GetFloorNum']=function(_0x215f19,_0x14ff54){this['_callback']=_0x14ff54;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0xf3')],{'gid':_0x215f19});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0xa0')]=function(_0x25f82b,_0x1eeebb){this[_0x212b('0xaa')]=_0x1eeebb;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0xbf')],{'gid':_0x25f82b});};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0xbf')]=function(_0x16f59,_0x382e95){this['_callback']=_0x382e95;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0xbf')],{'gid':_0x16f59});};MapVision['View3d'][_0x212b('0x85')]['GetFloorVisible']=function(_0x4613d0,_0x3f286d,_0x4c796c){this['_callback']=_0x4c796c;this['_emiUICommand'](MapVision['CommandType']['GetFloorVisible'],{'gid':_0x4613d0,'floor':_0x3f286d});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x50')]=function(_0x10592c,_0x61d2a1,_0x21e042,_0xe8a24b){if(!_0x21e042)_0x21e042=![];if(!_0xe8a24b)_0xe8a24b=0x0;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x50')],{'gid':_0x10592c,'floor':_0x61d2a1,'visible':_0x21e042,'opacity':_0xe8a24b});};MapVision[_0x212b('0x5a')]['prototype']['GetUpFloorNum']=function(_0x391326,_0x21d245,_0x3e4f2a){this['_callback']=_0x3e4f2a;this[_0x212b('0x7f')](MapVision['CommandType']['GetUpFloorNum'],{'gid':_0x391326,'floor':_0x21d245});};MapVision['View3d']['prototype']['GetUpFloorNames']=function(_0x4e60ae,_0x203fa6,_0xf761c7){this[_0x212b('0xaa')]=_0xf761c7;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0xd4')],{'gid':_0x4e60ae,'floor':_0x203fa6});};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x87')]=function(_0xabb949,_0x494f12,_0xf1191){this[_0x212b('0xaa')]=_0xf1191;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x87')],{'gid':_0xabb949,'floor':_0x494f12});};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x4e')]=function(_0x463a0d,_0x437e40,_0xd38a6c){this[_0x212b('0xaa')]=_0xd38a6c;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x4e')],{'gid':_0x463a0d,'floor':_0x437e40});};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0x44')]=function(_0x9d3388,_0x3dce24,_0x5d6096){this[_0x212b('0xaa')]=_0x5d6096;this['_emiUICommand'](MapVision['CommandType']['GetFloorRoomNum'],{'gid':_0x9d3388,'floor':_0x3dce24});};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['GetFloorRoomName']=function(_0x76303c,_0x1e0c97,_0x43c499){this[_0x212b('0xaa')]=_0x43c499;this[_0x212b('0x7f')](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0x76303c,'floor':_0x1e0c97});};MapVision[_0x212b('0x5a')]['prototype']['GetFloorRoomNames']=function(_0x14e50d,_0x3604b6,_0x165c40){this['_callback']=_0x165c40;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0xe3')],{'gid':_0x14e50d,'floor':_0x3604b6});};MapVision['View3d']['prototype']['GetFloorRoomVisible']=function(_0x197414,_0x1ababc,_0x3fd43a,_0x3e41d0){this[_0x212b('0xaa')]=_0x3e41d0;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x8d')],{'gid':_0x197414,'floor':_0x1ababc,'room':_0x3fd43a});};MapVision['View3d']['prototype'][_0x212b('0xf9')]=function(_0x5bcdb7,_0x5e462a,_0x4a573a,_0x115d60,_0x195e95){if(!_0x115d60)_0x115d60=![];if(!_0x195e95)_0x195e95=0x0;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0xf9')],{'gid':_0x5bcdb7,'floor':_0x5e462a,'room':_0x4a573a,'visible':_0x115d60,'opacity':_0x195e95});};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0xe7')]=function(_0x2f5424,_0x11867d,_0x80d393){this['_callback']=_0x80d393;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['GetFloorDeviceNum'],{'gid':_0x2f5424,'floor':_0x11867d});};MapVision['View3d']['prototype'][_0x212b('0xc1')]=function(_0x134377,_0x277faa,_0x4f4b49){this[_0x212b('0xaa')]=_0x4f4b49;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x94')],{'gid':_0x134377,'floor':_0x277faa});};MapVision['View3d']['prototype']['GetFloorDeviceNames']=function(_0x4987a6,_0x234bc1,_0x13f50e){this[_0x212b('0xaa')]=_0x13f50e;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['GetFloorDeviceNames'],{'gid':_0x4987a6,'floor':_0x234bc1});};MapVision['View3d']['prototype'][_0x212b('0xfb')]=function(_0x3b5e57,_0x1852fd,_0x4b26b1,_0x44edcb){this['_callback']=_0x44edcb;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['GetFloorDeviceVisible'],{'gid':_0x3b5e57,'floor':_0x1852fd,'device':_0x4b26b1});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0xec')]=function(_0x33f25f,_0x311936,_0x578a9c,_0xef7a72,_0x3d78f9){if(!_0xef7a72)_0xef7a72=![];if(!_0x3d78f9)_0x3d78f9=0x0;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0xec')],{'gid':_0x33f25f,'floor':_0x311936,'device':_0x578a9c,'visible':_0xef7a72,'opacity':_0x3d78f9});};MapVision['View3d']['prototype'][_0x212b('0xa')]=function(_0x4758e1){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['SetGroundVisible'],{'visible':_0x4758e1});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x57')]=function(_0x2b1e7c,_0x2a322a){this['_callback']=_0x2a322a;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x57')],_0x2b1e7c);};MapVision[_0x212b('0x5a')]['prototype']['OverLayerStopEdit']=function(){this['_callback']=null;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0x117')]);};MapVision[_0x212b('0x5a')]['prototype']['OverLayerSelectObjectEdit']=function(_0x153c81){this[_0x212b('0xaa')]=_0x153c81;this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0x101')]);};MapVision['View3d']['prototype']['OverLayerFindObject']=function(_0x2294a8,_0x596689){this[_0x212b('0xaa')]=_0x596689;this['_emiUICommand'](MapVision['CommandType'][_0x212b('0x1a')],{'name':_0x2294a8});};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x34')]=function(_0x38beb0,_0x2b4527){this['_callback']=_0x2b4527;this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0x34')],_0x38beb0);};MapVision[_0x212b('0x5a')]['prototype']['OverLayerCreateObjects']=function(_0x457bfc,_0x3fe601){this[_0x212b('0xaa')]=_0x3fe601;this[_0x212b('0x7f')](MapVision['CommandType']['OverLayerCreateObjects'],{'shapes':_0x457bfc});};MapVision['View3d']['prototype']['OverLayerUpdateObject']=function(_0x581ea2){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['OverLayerUpdateObject'],_0x581ea2);};MapVision['View3d'][_0x212b('0x85')]['OverLayerRemoveObject']=function(_0x201287){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['OverLayerRemoveObject'],_0x201287);};MapVision['View3d']['prototype']['OverLayerRemoveObjectById']=function(_0x2050b6){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')][_0x212b('0x4c')],{'gid':_0x2050b6});};MapVision[_0x212b('0x5a')]['prototype']['OverLayerRemoveObjectsById']=function(_0x24e4b8){this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0xd3')],{'ids':_0x24e4b8});};MapVision['View3d'][_0x212b('0x85')]['OverLayerRemoveAll']=function(_0x45208a){if(_0x45208a){this[_0x212b('0x7f')](MapVision[_0x212b('0xfc')]['OverLayerRemoveAllCustom'],{'types':_0x45208a});}else{this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveAll']);}};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['LayerLoad']=function(_0x10f289,_0x409809){this[_0x212b('0xaa')]=_0x409809;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['LayerLoad'],_0x10f289);};MapVision['View3d']['prototype'][_0x212b('0x82')]=function(_0x36e467,_0x4c3b60){this[_0x212b('0xaa')]=_0x4c3b60;this[_0x212b('0x7f')](MapVision['CommandType'][_0x212b('0x82')],_0x36e467);};MapVision['View3d']['prototype'][_0x212b('0x86')]=function(_0x3c79bd,_0x8d9814){this['_callback']=_0x8d9814;this[_0x212b('0x7f')](MapVision['CommandType']['LayersLoad'],{'layers':_0x3c79bd});};MapVision['View3d']['prototype'][_0x212b('0xdf')]=function(_0x3b3f01,_0x33cb07){this['_callback']=_0x33cb07;this['_emiUICommand'](MapVision[_0x212b('0xfc')]['LayerSelectObject'],{'gid':_0x3b3f01});};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0xb4')]=function(_0x5cdba8){this['_emiUICommand'](MapVision[_0x212b('0xfc')][_0x212b('0xb4')],{'gid':_0x5cdba8});};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['LayerSetVisible']=function(_0x574bf4,_0x58440c){this['_emiUICommand'](MapVision[_0x212b('0xfc')]['LayerSetVisible'],{'gid':_0x574bf4,'visible':_0x58440c});};MapVision['View3d']['prototype'][_0x212b('0x31')]=function(_0x4979f9,_0x2626ab,_0x2ba7d5,_0x4c2fd7){this[_0x212b('0x7f')](MapVision['CommandType']['NorthControl'],{'visible':_0x4979f9,'x':_0x2626ab,'y':_0x2ba7d5,'scale':_0x4c2fd7});};MapVision[_0x212b('0x5a')]['prototype']['_registerMouseEvents']=function(_0x24e3ed){let _0xf856d1=this;_0x24e3ed[_0x212b('0xe4')]=_0x570560=>{if(!_0xf856d1[_0x212b('0x7d')]){return;}_0xf856d1['_onMouseMove'](_0x570560['offsetX'],_0x570560[_0x212b('0x104')],_0x570560['movementX'],_0x570560[_0x212b('0xae')]);_0x570560[_0x212b('0x7b')]();};_0x24e3ed['onmousedown']=_0x90559f=>{_0xf856d1[_0x212b('0xdd')]=!![];if(!_0xf856d1[_0x212b('0x7d')]){return;}_0xf856d1['_onMouseDown'](_0x90559f['button'],_0x90559f[_0x212b('0x108')],_0x90559f['offsetY']);_0x90559f['preventDefault']();};_0x24e3ed[_0x212b('0xfa')]=_0x19d5b7=>{_0xf856d1[_0x212b('0xdd')]=![];if(!_0xf856d1['enableMouse']){return;}_0xf856d1[_0x212b('0x2f')](_0x19d5b7[_0x212b('0xb0')],_0x19d5b7[_0x212b('0x108')],_0x19d5b7['offsetY']);_0x19d5b7[_0x212b('0x7b')]();};_0x24e3ed['oncontextmenu']=_0x10f3aa=>{if(!_0xf856d1['enableMouse']){return;}_0xf856d1['_onMouseUp'](_0x10f3aa[_0x212b('0xb0')],_0x10f3aa['offsetX'],_0x10f3aa['offsetY']);_0x10f3aa['preventDefault']();};if('onmousewheel'in _0x24e3ed){_0x24e3ed['onmousewheel']=_0x309148=>{if(!_0xf856d1['enableMouse']){return;}_0xf856d1['_onMouseWheel'](_0x309148['wheelDelta'],_0x309148['offsetX'],_0x309148['offsetY']);_0x309148[_0x212b('0x7b')]();};}else{_0x24e3ed[_0x212b('0xb1')]('DOMMouseScroll',_0x1c5fd0=>{if(!_0xf856d1['enableMouse']){return;}_0xf856d1[_0x212b('0x3a')](_0x1c5fd0['detail']*-0x78,_0x1c5fd0[_0x212b('0x108')],_0x1c5fd0['offsetY']);_0x1c5fd0['preventDefault']();},![]);}_0x24e3ed['pressMouseButtons']=_0x3b7505=>{if(!_0xf856d1[_0x212b('0x7d')]){return;}_0xf856d1[_0x212b('0x37')](_0x3b7505[_0x212b('0xf2')],_0x3b7505['offsetX'],_0x3b7505[_0x212b('0x104')]);};_0x24e3ed[_0x212b('0x1c')]=_0x3689f4=>{if(!_0xf856d1['enableMouse']){return;}_0xf856d1['_releaseMouseButtons'](_0x3689f4[_0x212b('0xf2')],_0x3689f4['offsetX'],_0x3689f4[_0x212b('0x104')]);};_0x24e3ed[_0x212b('0x90')]=_0xc76438=>{if(!_0xf856d1['enableMouse']){return;}var _0x1a0ef8=new DataView(new ArrayBuffer(0x1));_0x1a0ef8[_0x212b('0x59')](0x0,MapVision['MessageType'][_0x212b('0xce')]);_0xf856d1[_0x212b('0x116')](_0x1a0ef8['buffer']);_0x24e3ed['pressMouseButtons'](_0xc76438);};_0x24e3ed[_0x212b('0x29')]=_0x58c405=>{if(!_0xf856d1[_0x212b('0x7d')]){return;}var _0x4067cf=new DataView(new ArrayBuffer(0x1));_0x4067cf['setUint8'](0x0,MapVision['MessageType'][_0x212b('0x6')]);_0xf856d1['_sendInputData'](_0x4067cf['buffer']);_0x24e3ed['releaseMouseButtons'](_0x58c405);};};MapVision['View3d']['prototype']['_registerTouchEvents']=function(_0x382972){};MapVision['View3d'][_0x212b('0x85')][_0x212b('0xf')]=function(){let _0x53770b=this;const _0x424af4={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x8c1e54(_0x4b8073){if(_0x4b8073[_0x212b('0x47')]===_0x424af4[_0x212b('0x4f')]&&_0x4b8073['code']===_0x212b('0x73'))return _0x424af4[_0x212b('0xb5')];else if(_0x4b8073[_0x212b('0x47')]===_0x424af4['Control']&&_0x4b8073['code']==='ControlRight')return _0x424af4[_0x212b('0x16')];else if(_0x4b8073['keyCode']===_0x424af4['Alt']&&_0x4b8073[_0x212b('0x33')]===_0x212b('0x105'))return _0x424af4[_0x212b('0x11')];else return _0x4b8073[_0x212b('0x47')];};function _0x558b9f(_0x30d9df){return!(_0x30d9df['keyCode']==0x1b||_0x30d9df['keyCode']==0x74||_0x30d9df['keyCode']==0xde||_0x30d9df[_0x212b('0x47')]==0xba||_0x30d9df[_0x212b('0x47')]==0xbc||_0x30d9df['ctrlKey']&&_0x30d9df['keyCode']==0x52);};var _0x114d09=document[_0x212b('0x36')]('iframe');var _0x26c8ab=null;if(_0x114d09&&_0x114d09['length']>0x0){_0x26c8ab=_0x114d09[0x0];alert(_0x26c8ab[_0x212b('0x10e')]);}else{_0x26c8ab=document;}_0x26c8ab[_0x212b('0xa6')]=_0x8c5736=>{if(!_0x53770b[_0x212b('0xaf')]){return;}if(_0x558b9f(_0x8c5736)==![]){_0x8c5736['preventDefault']();return;}_0x53770b['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyDown'],_0x8c1e54(_0x8c5736),_0x8c5736['repeat']])['buffer']);if(_0x8c5736['keyCode']===_0x424af4[_0x212b('0x6d')]){_0x26c8ab[_0x212b('0xbb')]({'charCode':_0x424af4['BackSpace']});}};_0x26c8ab['onkeyup']=_0x177feb=>{if(!_0x53770b['enableKeyboard']){return;}if(_0x558b9f(_0x177feb)==![]){_0x177feb['preventDefault']();return;}_0x53770b['_sendInputData'](new Uint8Array([MapVision[_0x212b('0x1f')]['KeyUp'],_0x8c1e54(_0x177feb)])['buffer']);};_0x26c8ab[_0x212b('0xbb')]=_0x324ebb=>{if(!_0x53770b[_0x212b('0xaf')]){return;}if(_0x558b9f(_0x324ebb)==![]){_0x324ebb['preventDefault']();return;}let _0x359a4f=new DataView(new ArrayBuffer(0x3));_0x359a4f[_0x212b('0x59')](0x0,MapVision['MessageType'][_0x212b('0x0')]);_0x359a4f[_0x212b('0x3f')](0x1,_0x324ebb['charCode'],!![]);_0x53770b['_sendInputData'](_0x359a4f[_0x212b('0x6a')]);};};MapVision['View3d'][_0x212b('0x85')][_0x212b('0x62')]=function(_0x4cc490,_0x42ea33){let _0x3e94b1=this;if(_0x3e94b1[_0x212b('0x19')]){return;}_0x3e94b1[_0x212b('0x13')]=document[_0x212b('0xc8')](_0x4cc490);_0x3e94b1['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x42ea33[_0x212b('0x30')]});let _0x35a6c4=_0x3e94b1[_0x212b('0x13')];_0x35a6c4['appendChild'](_0x3e94b1['_webRtcPlayerObj']['video']);_0x3e94b1['_webRtcPlayerObj'][_0x212b('0xb8')]=function(_0x3cdaa9){if(_0x3e94b1[_0x212b('0x2d')]&&_0x3e94b1[_0x212b('0x2d')][_0x212b('0xc7')]===MapVision['WS_OPEN_STATE']){let _0x566d98=JSON['stringify'](_0x3cdaa9);_0x3e94b1[_0x212b('0x2d')]['send'](_0x566d98);}};_0x3e94b1['_webRtcPlayerObj'][_0x212b('0x26')]=function(_0x10e283){if(_0x3e94b1[_0x212b('0x2d')]&&_0x3e94b1[_0x212b('0x2d')][_0x212b('0xc7')]===MapVision[_0x212b('0xa2')]){console['log']('->\x20SS:\x20iceCandidate\x0a'+JSON[_0x212b('0x5f')](_0x10e283,undefined,0x4));_0x3e94b1['_webSocket'][_0x212b('0x3c')](JSON['stringify']({'type':'iceCandidate','candidate':_0x10e283}));}};_0x3e94b1['_webRtcPlayerObj'][_0x212b('0x113')]=function(){if(_0x3e94b1[_0x212b('0x2d')]&&_0x3e94b1[_0x212b('0x2d')]['readyState']===MapVision['WS_OPEN_STATE']){if(_0x3e94b1[_0x212b('0x19')]){var _0x395a1=new Uint8Array([MapVision['ToClientMessageType']['RequestQualityControl']])['buffer'];console[_0x212b('0x7')]('->\x20SS:\x20_requestQualityControl:\x0a'+_0x395a1);_0x3e94b1['_webRtcPlayerObj']['send'](_0x395a1);_0x3e94b1['_webRtcPlayerObj'][_0x212b('0x1d')]['muted']=!![];_0x3e94b1[_0x212b('0x19')]['video'][_0x212b('0x112')]();}}};_0x3e94b1[_0x212b('0x19')]['onDataChannelConnected']=function(){if(_0x3e94b1['_webSocket']&&_0x3e94b1['_webSocket']['readyState']===MapVision[_0x212b('0xa2')]){if(_0x3e94b1[_0x212b('0xc')]){_0x3e94b1[_0x212b('0xc')](_0x212b('0x3b'));}}};_0x3e94b1[_0x212b('0x19')]['onDataChannelMessage']=function(_0x7929b2){var _0x5e5fc5=new Uint8Array(_0x7929b2);var _0x40d9b8=_0x5e5fc5[0x0];if(_0x40d9b8===MapVision['ToClientMessageType']['QualityControlOwnership']){let _0x57dd29=new TextDecoder(_0x212b('0xe2'))['decode'](_0x7929b2[_0x212b('0x98')](0x1));console[_0x212b('0x7')]('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x57dd29);}else if(_0x40d9b8===MapVision[_0x212b('0xcc')]['Response']){let _0x199338=new TextDecoder('utf-16')['decode'](_0x7929b2[_0x212b('0x98')](0x1));let _0x332e20=JSON['parse'](_0x199338);if(_0x3e94b1['_callbackMouse']&&(_0x3e94b1[_0x212b('0x8c')]===MapVision['CommandType'][_0x212b('0x81')]||_0x3e94b1['_command']===MapVision[_0x212b('0xfc')][_0x212b('0x18')]||_0x332e20&&_0x332e20['onMouse'])){_0x3e94b1[_0x212b('0x41')](JSON['parse'](_0x199338));}else if(_0x3e94b1[_0x212b('0xaa')]){_0x3e94b1[_0x212b('0xaa')](_0x332e20);}}else if(_0x40d9b8===MapVision['ToClientMessageType']['Command']){let _0x17d620=new TextDecoder('utf-16')['decode'](_0x7929b2[_0x212b('0x98')](0x1));console[_0x212b('0x7')](_0x212b('0x70')+_0x17d620);}else if(_0x40d9b8===MapVision['ToClientMessageType'][_0x212b('0xa3')]){let _0x3de688=new TextDecoder('utf-16')['decode'](_0x7929b2['slice'](0x1));console[_0x212b('0x7')]('->\x20SS:\x20FreezeFrame:\x0a'+_0x3de688);}else if(_0x40d9b8===MapVision[_0x212b('0xcc')]['UnfreezeFrame']){let _0x29f2fe=new TextDecoder('utf-16')['decode'](_0x7929b2['slice'](0x1));console['log']('->\x20SS:\x20UnfreezeFrame:\x0a'+_0x29f2fe);}};_0x3e94b1['_registerMouseEvents'](_0x35a6c4);_0x3e94b1['_registerTouchEvents'](_0x35a6c4);_0x3e94b1['_registerKeyboardEvents'](_0x35a6c4);_0x3e94b1[_0x212b('0x19')]['createOffer']();};MapVision[_0x212b('0x5a')]['prototype']['_sendInputData']=function(_0x5e8e71){if(this['_webRtcPlayerObj']){this[_0x212b('0x19')]['send'](_0x5e8e71);}};MapVision['View3d'][_0x212b('0x85')]['_emitDescriptor']=function(_0x520a72,_0x2ea416){let _0x2d7778=JSON[_0x212b('0x5f')](_0x2ea416);let _0x5afc1e=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x2d7778['length']));let _0x5aec6d=0x0;_0x5afc1e[_0x212b('0x59')](_0x5aec6d,_0x520a72);_0x5aec6d++;_0x5afc1e[_0x212b('0x3f')](_0x5aec6d,_0x2d7778[_0x212b('0x46')],!![]);_0x5aec6d+=0x2;for(i=0x0;i<_0x2d7778[_0x212b('0x46')];i++){_0x5afc1e[_0x212b('0x3f')](_0x5aec6d,_0x2d7778['charCodeAt'](i),!![]);_0x5aec6d+=0x2;}this['_sendInputData'](_0x5afc1e[_0x212b('0x6a')]);};MapVision['View3d']['prototype']['_emiUICommand']=function(_0x2ba06e,_0x57375d){this['_command']=_0x2ba06e;const _0x3cb25a={'cmd':_0x2ba06e,'data':_0x57375d};this['_emitDescriptor'](MapVision['MessageType']['UIInteraction'],_0x3cb25a);};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0xea')]=function(_0x10cfcb,_0x52f71a,_0x1b09ad,_0x426f2a){let _0x2606dd=this;if(!_0x2606dd['_webSocket']){return;}let _0x3065d9=_0x2606dd[_0x212b('0x95')](_0x10cfcb,_0x52f71a);let _0x1a75ab=_0x2606dd[_0x212b('0xbc')](_0x1b09ad,_0x426f2a);var _0x6e666d=new DataView(new ArrayBuffer(0x9));_0x6e666d[_0x212b('0x59')](0x0,MapVision['MessageType'][_0x212b('0x6e')]);_0x6e666d['setUint16'](0x1,_0x3065d9['x'],!![]);_0x6e666d[_0x212b('0x3f')](0x3,_0x3065d9['y'],!![]);_0x6e666d[_0x212b('0xc0')](0x5,_0x1a75ab['x'],!![]);_0x6e666d['setInt16'](0x7,_0x1a75ab['y'],!![]);_0x2606dd['_sendInputData'](_0x6e666d['buffer']);};MapVision['View3d'][_0x212b('0x85')]['_onMouseDown']=function(_0x278e89,_0x4a5b9a,_0x4d0bd2){let _0x4f3ebf=this;if(!_0x4f3ebf['_webSocket']){return;}let _0x2fce06=_0x4f3ebf[_0x212b('0x95')](_0x4a5b9a,_0x4d0bd2);var _0x4e02d0=new DataView(new ArrayBuffer(0x6));_0x4e02d0[_0x212b('0x59')](0x0,MapVision['MessageType']['MouseDown']);_0x4e02d0['setUint8'](0x1,_0x278e89);_0x4e02d0[_0x212b('0x3f')](0x2,_0x2fce06['x'],!![]);_0x4e02d0['setUint16'](0x4,_0x2fce06['y'],!![]);_0x4f3ebf[_0x212b('0x116')](_0x4e02d0['buffer']);};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['_onMouseUp']=function(_0x14c486,_0x33e9ed,_0x493f70){let _0x48c552=this;if(!_0x48c552[_0x212b('0x2d')]){return;}let _0x19c3db=_0x48c552[_0x212b('0x95')](_0x33e9ed,_0x493f70);var _0x390a6b=new DataView(new ArrayBuffer(0x6));_0x390a6b['setUint8'](0x0,MapVision['MessageType']['MouseUp']);_0x390a6b['setUint8'](0x1,_0x14c486);_0x390a6b[_0x212b('0x3f')](0x2,_0x19c3db['x'],!![]);_0x390a6b[_0x212b('0x3f')](0x4,_0x19c3db['y'],!![]);_0x48c552['_sendInputData'](_0x390a6b[_0x212b('0x6a')]);};MapVision[_0x212b('0x5a')]['prototype'][_0x212b('0x3a')]=function(_0x262f96,_0xf1bfe1,_0x480840){let _0x33d529=this;if(!_0x33d529[_0x212b('0x2d')]){return;}let _0x17368a=_0x33d529[_0x212b('0x95')](_0xf1bfe1,_0x480840);var _0x52ed78=new DataView(new ArrayBuffer(0x7));_0x52ed78[_0x212b('0x59')](0x0,MapVision['MessageType'][_0x212b('0xc5')]);_0x52ed78[_0x212b('0xc0')](0x1,_0x262f96,!![]);_0x52ed78[_0x212b('0x3f')](0x3,_0x17368a['x'],!![]);_0x52ed78['setUint16'](0x5,_0x17368a['y'],!![]);_0x33d529['_sendInputData'](_0x52ed78['buffer']);};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['_releaseMouseButtons']=function(_0x21b207,_0xf9ddfd,_0x1f3d86){if(_0x21b207&MapVision['MouseButtonsMask'][_0x212b('0x58')]){this['_onMouseUp'](MapVision[_0x212b('0x8a')][_0x212b('0x9c')],_0xf9ddfd,_0x1f3d86);}if(_0x21b207&MapVision['MouseButtonsMask']['SecondaryButton']){this[_0x212b('0x2f')](MapVision['MouseButton'][_0x212b('0xe5')],_0xf9ddfd,_0x1f3d86);}if(_0x21b207&MapVision['MouseButtonsMask'][_0x212b('0xeb')]){this['_onMouseUp'](MapVision['MouseButton']['AuxiliaryButton'],_0xf9ddfd,_0x1f3d86);}if(_0x21b207&MapVision[_0x212b('0xca')]['FourthButton']){this[_0x212b('0x2f')](MapVision['MouseButton'][_0x212b('0x109')],_0xf9ddfd,_0x1f3d86);}if(_0x21b207&MapVision['MouseButtonsMask']['FifthButton']){this['_onMouseUp'](MapVision[_0x212b('0x8a')][_0x212b('0x39')],_0xf9ddfd,_0x1f3d86);}};MapVision[_0x212b('0x5a')]['prototype']['_pressMouseButtons']=function(_0x546318,_0x132ac7,_0x1544c1){if(_0x546318&MapVision[_0x212b('0xca')]['PrimaryButton']){this[_0x212b('0x45')](MapVision[_0x212b('0x8a')][_0x212b('0x9c')],_0x132ac7,_0x1544c1);}if(_0x546318&MapVision[_0x212b('0xca')][_0x212b('0xe5')]){this[_0x212b('0x45')](MapVision['MouseButton'][_0x212b('0xe5')],_0x132ac7,_0x1544c1);}if(_0x546318&MapVision['MouseButtonsMask']['AuxiliaryButton']){this[_0x212b('0x45')](MapVision['MouseButton']['AuxiliaryButton'],_0x132ac7,_0x1544c1);}if(_0x546318&MapVision[_0x212b('0xca')][_0x212b('0x109')]){this['_onMouseDown'](MapVision[_0x212b('0x8a')][_0x212b('0x109')],_0x132ac7,_0x1544c1);}if(_0x546318&MapVision[_0x212b('0xca')][_0x212b('0x39')]){this[_0x212b('0x45')](MapVision[_0x212b('0x8a')]['FifthButton'],_0x132ac7,_0x1544c1);}};MapVision[_0x212b('0x5a')][_0x212b('0x85')]['_normalizeAndQuantizeUnsigned']=function(_0x23b6e5,_0x1f95d1){let _0x50fe8e=this;if(!_0x50fe8e[_0x212b('0x2d')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x5826df=_0x50fe8e[_0x212b('0x13')];let _0x3656ec=_0x50fe8e['_webRtcPlayerObj'][_0x212b('0x1d')];let _0x360b24=_0x5826df[_0x212b('0x54')]/_0x5826df['clientWidth'];let _0x56ce8b=_0x3656ec[_0x212b('0x10d')]/_0x3656ec['videoWidth'];if(_0x360b24>_0x56ce8b){let _0x106dcb=_0x360b24/_0x56ce8b;let _0x40d64e=_0x23b6e5/_0x5826df[_0x212b('0xfd')];let _0x2acf98=_0x106dcb*(_0x1f95d1/_0x5826df['clientHeight']-0.5)+0.5;if(_0x40d64e<0x0||_0x40d64e>0x1||_0x2acf98<0x0||_0x2acf98>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x40d64e*0x10000,'y':_0x2acf98*0x10000};}}else{let _0x892bcf=_0x56ce8b/_0x360b24;let _0x83fa06=_0x892bcf*(_0x23b6e5/_0x5826df['clientWidth']-0.5)+0.5;let _0x2d3b91=_0x1f95d1/_0x5826df[_0x212b('0x54')];if(_0x83fa06<0x0||_0x83fa06>0x1||_0x2d3b91<0x0||_0x2d3b91>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x83fa06*0x10000,'y':_0x2d3b91*0x10000};}}};MapVision['View3d']['prototype'][_0x212b('0xbc')]=function(_0x186fe6,_0x30f215){let _0x5ee0b5=this;if(!_0x5ee0b5[_0x212b('0x2d')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x37f99c=_0x5ee0b5['_webRtcPlayerHtmlElement'];let _0xe19e29=_0x5ee0b5['_webRtcPlayerObj'][_0x212b('0x1d')];let _0x400ce6=_0x37f99c[_0x212b('0x54')]/_0x37f99c[_0x212b('0xfd')];let _0x5b5d6c=_0xe19e29[_0x212b('0x10d')]/_0xe19e29[_0x212b('0x61')];if(_0x400ce6>_0x5b5d6c){let _0x4a96e6=_0x400ce6/_0x5b5d6c;let _0x39bfea=_0x186fe6/(0.5*_0x37f99c[_0x212b('0xfd')]);let _0x63f30=_0x4a96e6*_0x30f215/(0.5*_0x37f99c[_0x212b('0x54')]);return{'x':_0x39bfea*0x7fff,'y':_0x63f30*0x7fff};}else{let _0x5538c2=_0x5b5d6c/_0x400ce6;let _0x3ad915=_0x5538c2*_0x186fe6/(0.5*_0x37f99c[_0x212b('0xfd')]);let _0x125692=_0x30f215/(0.5*_0x37f99c[_0x212b('0x54')]);return{'x':_0x3ad915*0x7fff,'y':_0x125692*0x7fff};}};MapVision['View3d'][_0x212b('0x85')]['_unquantizeAndDenormalizeUnsigned']=function(_0x66cd41,_0x4470bd){let _0x597e01=this;if(!_0x597e01['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x4d3e00=_0x597e01[_0x212b('0x13')];let _0x285db0=_0x597e01['_webRtcPlayerObj'][_0x212b('0x1d')];let _0x551445=_0x4d3e00[_0x212b('0x54')]/_0x4d3e00[_0x212b('0xfd')];let _0x542d62=_0x285db0['videoHeight']/_0x285db0['videoWidth'];if(_0x551445>_0x542d62){let _0x115796=_0x551445/_0x542d62;let _0x146a50=_0x66cd41/0x10000;let _0x365e57=(_0x4470bd/0x10000-0.5)/_0x115796+0.5;return{'x':_0x146a50*_0x4d3e00['clientWidth'],'y':_0x365e57*_0x4d3e00[_0x212b('0x54')]};}else{let _0x460f67=(_0x66cd41/0x10000-0.5)/ratio+0.5;let _0x3bdd58=_0x4470bd/0x10000;return{'x':_0x460f67*_0x4d3e00['clientWidth'],'y':_0x3bdd58*_0x4d3e00['clientHeight']};}};MapVision['View3d'][_0x212b('0x85')][_0x212b('0xe1')]=function(_0x295ce4){this[_0x212b('0x19')][_0x212b('0x8e')](_0x295ce4);this['_webRtcPlayerObj'][_0x212b('0x4')]=_0x442b3f=>{};this['_webRtcPlayerObj'][_0x212b('0x110')](0x1*0x3e8);};MapVision[_0x212b('0x5a')][_0x212b('0x85')][_0x212b('0xb7')]=function(_0x19e09b){if(this['_webRtcPlayerObj'])this[_0x212b('0x19')][_0x212b('0xf7')](_0x19e09b);};