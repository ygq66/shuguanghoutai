const _0x4866=['_webRtcPlayerHtmlElement','_createWebRtcPlayer','open','ReceiptTimeMs','linestring','UnRegisterEvent','answer','forEach','playsInline','repeat','SetMousePositionCallback','onmousewheel','track','style','close','_onMouseDownCallback','_webSocket','length',')\x20closed','setUint8','UpdateObject','onmouseenter','packetsLost','highBitrate','onkeyup','ctrlKey','Point2D','data\x20channel\x20(','button','stringify','\x20_webSocket\x20closed\x20','enableKeyboard','SplitBuilding','getReceivers','_onMouseDown','->\x20SS:\x20QualityControlOwnership:\x0a','ClearHighlight','_normalizeAndQuantizeUnsigned','onVideoInitialised','SecondaryButton','ResetAllBuildings','then','offsetY','Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.','offsetX','muted','POST','_onMouseUpCallback','GetHomePosition','projectId','geom','GetBuildingNames','clientWidth','SetNorthControl','MouseDown','loadedmetadata',')\x20connect','MapVision.View3d','Closing\x20existing\x20PeerConnection','responseText','http://','clientHeight','Clear','utf-16','GetUpFloorNum','framesReceived','StartRoute','GetScrrenPosition','speed','iframe','_callbackMouse','onMouse','LayerRemove','StreamVideoClose','addEventListener','BackSpace','Building','useMic','FrameDisplayDeltaTimeMs','IsClose','useinbandfec=1','onicegatheringstatechange','GetFloorDeviceNames','videoHeight','hostname','framesDecoded','onmousemove','amd','_releaseMouseButtons','View3d','PauseRoute','onmousedown','onerror','requestVideoFrameCallback','setUint16','SetFloorVisible','FindObjectByPrefix','FreezeFrame','->\x20SS:\x20FreezeFrame:\x0a','_unregisterEvents','bitrate','video','_normalizeAndQuantizeSigned','_emiUICommand','disablepictureinpicture','bytesReceived','mediaType','enableMouse','OnAllLatencyTimingsReady','_registerTouchEvents','videoWidth','SetObjectHighlight','frameHeight','BrowserReceiptTimeMs','OverLayerSelectObjectEdit','MapVision','_onMouseWheel','peerConnectionOptions','GetObjectsVisible','oniceconnectionstatechange','currentRoundTripTime','async','candidate','recvonly','GetSelectedObject','setRequestHeader','reason','_onMouseMove','DOMMouseScroll','Control','error','round','MouseWheel','send','_requestQualityControl','_sendInputData','ICE\x20candidate\x20successfully\x20added','_registerCallback','onsignalingstatechange','_mouseDownStatus','CreateRoute','UEPostCaptureTimeMs','port','getUserMedia','SetObjectsVisible','code','createOffer','adapter','OverLayerRemoveObject','url','includes','SetObjectsHighlightByPrefix','GetDownFloorNum','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','TestStartTimeMs','GetFloorNames','_onMouseMoveCallback','finally','onmouseleave','lowBitrate','OverLayerFindObject','toUpperCase','type','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000','aimapvision3d\x20server\x20is\x20not\x20started.','\x20-\x20','WebSocket','addTransceiver','SetFloorDeviceVisible','StreamVideoOpen','replace','lowFramerate','ontrack','IsPausedSequence','_onWebRtcIce','AuxiliaryButton','highFramerate','UIInteraction','Position','MainButton','framerate','now','has','GetFloorRoomNames','onDataChannelMessage','ResetHome','GetFloorName','_onMouseSelectedObj','streamingVideo','framesDecodedStart','timestamp','avgframerate','slice','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','candidate-pair','unified-plan','_onMouseUp','sdpConstraints','use\x20strict','UEPreEncodeTimeMs','signaling\x20state\x20change:','RegisterEvent','position','srcObject','expectedDisplayTime','onmouseup','_onWebRtcAnswer','XMLHttpRequest','label','keyCode','onkeydown','setRemoteDescription','aggregateStats','./adapter','_command','OpenStatus','pcClient','handleCandidateFromServer','frameWidthStart','streams','oncontextmenu','gid','TransmissionTimeMs','PlayRoute','FourthButton','hasOwnProperty','SetFloorRoomVisible','getStats','ResumeRoute','info','aggregateStatsIntervalId','UEPreCaptureTimeMs','No\x20data\x20channel','building','LineString','SetGroundVisible','_registerMouseEvents','polygon','binaryType','MouseMove','_requestInitialSettings','distance','_connectWebsocket','StopRoute','SetMouseCallback','GetFloorDeviceNum','pressMouseButtons','Close','Created\x20datachannel\x20(','MouseUp','MessageType','addIceCandidate','audio','latencyTestTimings','bytesReceivedStart','GetFloorRoomVisible','IsPlayingSequence','getElementsByTagName','timestampStart','Events','Stop','StopSequence','webSocket\x20connenect\x20error','PauseSequence','WS\x20closed:\x20','aggregatedStats','MouseButton','浣犵殑娴忚鍣ㄤ笉鏀寔XMLHttp','cfg','PostEncodeTimeMs','onopen','charCode','OverLayerRemoveAll','readyState','presentationTime','UETransmissionTimeMs','onmessage','OpenMap','config','prototype','CommandType','UpdateObjectVisible','SetObjectsHighlight','_pressMouseButtons','SetResolution','substring','Parameter\x20ERROR','FifthButton','websocket\x20connected','name','parse','webRtcPlayer','GetUpFloorNames','data','video_label','OverLayerStartEdit','GetCurrentPosition','LayersLoad','Shift','UpdateObjectStyle','_callback','PrimaryButton','MouseButtonsMask','pitch','floor','UnfreezeFrame','_httpRequest','Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.','buffer','UpdateObjectVisibleByPrefix','onAggregatedStats','OverLayerRemoveObjects','ICE\x20candidate:\x20','log','CreateObject','OverLayerCreateObject','PlaySequence','GET','GetBuildingName','FlyToObjectById','frameHeightStart','avgBitrate','_webRtcPlayerObj','SetPosition','RightControl','ShiftRight','LayerReLoad','SELECTE','sdpSemantics','ActiveXObject','onWebRtcOffer','kind','dcClient','receiveToCompositeMs','SetMapStatus','WS_OPEN_STATE','sendrecv','->\x20SS:\x20UnfreezeFrame:\x0a','Model3D','warn','MouseLeave','sdp','get','MozWebSocket','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','decode','Microsoft.XMLHTTP','ClearObjectStyle','framesDropped','buttons','Open','preventDefault'];const _0x2b7a=function(_0x4866f3,_0x2b7ac9){_0x4866f3=_0x4866f3-0x0;let _0x5574bd=_0x4866[_0x4866f3];return _0x5574bd;};(function(_0x168296,_0x54da6c){if(typeof define==='function'&&define[_0x2b7a('0x57')]){define([_0x2b7a('0xd5')],_0x54da6c);}else if(typeof exports==='object'){module['exports']=_0x54da6c(require('./adapter'));}else{_0x168296[_0x2b7a('0x123')]=_0x54da6c(_0x168296[_0x2b7a('0x93')]);}}(this,function(_0x132d9a){function _0x26ec59(_0x55e96c){_0x55e96c=_0x55e96c||{};var _0x44e766=this;this[_0x2b7a('0x10c')]=_0x55e96c[_0x2b7a('0x75')]||{};this[_0x2b7a('0x10c')][_0x2b7a('0x148')]=_0x2b7a('0xc3');this[_0x2b7a('0x10c')]['offerExtmapAllowMixed']=![];this[_0x2b7a('0xd8')]=null;this[_0x2b7a('0x14c')]=null;this['tnClient']=null;this[_0x2b7a('0xc5')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x4364c6=new URLSearchParams(window['location']['search']);this[_0x2b7a('0x4d')]=_0x4364c6[_0x2b7a('0xb6')]('useMic');if(!this[_0x2b7a('0x4d')]){console[_0x2b7a('0x139')](_0x2b7a('0x2b'));}let _0x1826e7=location[_0x2b7a('0x54')]==='localhost'||location['hostname']==='127.0.0.1';let _0x2b5fa4=location['protocol']==='https:';if(this['useMic']&&!_0x1826e7&&!_0x2b5fa4){this['useMic']=![];console[_0x2b7a('0x82')](_0x2b7a('0x158'));console[_0x2b7a('0x82')]('For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27');}this[_0x2b7a('0xfd')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this['TestStartTimeMs']=null;this['UEReceiptTimeMs']=null;this[_0x2b7a('0xe7')]=null;this[_0x2b7a('0x8d')]=null;this['UEPreEncodeTimeMs']=null;this['UEPostEncodeTimeMs']=null;this[_0x2b7a('0x113')]=null;this['BrowserReceiptTimeMs']=null;this[_0x2b7a('0x4e')]=null;},'SetUETimings':function(_0x1266f0){this['UEReceiptTimeMs']=_0x1266f0[_0x2b7a('0x3')];this['UEPreCaptureTimeMs']=_0x1266f0['PreCaptureTimeMs'];this[_0x2b7a('0x8d')]=_0x1266f0['PostCaptureTimeMs'];this[_0x2b7a('0xc7')]=_0x1266f0['PreEncodeTimeMs'];this['UEPostEncodeTimeMs']=_0x1266f0[_0x2b7a('0x10d')];this['UETransmissionTimeMs']=_0x1266f0[_0x2b7a('0xde')];this[_0x2b7a('0x71')]=Date['now']();this['OnAllLatencyTimingsReady'](this);},'SetFrameDisplayDeltaTime':function(_0x3c33a7){if(this[_0x2b7a('0x4e')]==null){this[_0x2b7a('0x4e')]=Math[_0x2b7a('0x83')](_0x3c33a7);this[_0x2b7a('0x6c')](this);}},'OnAllLatencyTimingsReady':function(_0x266e34){}};createWebRtcVideo=function(){var _0x9f8251=document['createElement']('video');_0x9f8251['id']=_0x2b7a('0xbc');_0x9f8251[_0x2b7a('0x8')]=!![];_0x9f8251[_0x2b7a('0x68')]=!![];_0x9f8251[_0x2b7a('0x2d')]=![];_0x9f8251[_0x2b7a('0x4a')](_0x2b7a('0x37'),function(_0xc5436e){if(_0x44e766[_0x2b7a('0x26')]){_0x44e766['onVideoInitialised']();}},!![]);if('requestVideoFrameCallback'in HTMLVideoElement[_0x2b7a('0x117')]){const _0x12cc40=(_0x3325fb,_0x1ce4cf)=>{if(_0x1ce4cf['receiveTime']&&_0x1ce4cf[_0x2b7a('0xcc')]){const _0x2a7d55=_0x1ce4cf[_0x2b7a('0x112')]-_0x1ce4cf['receiveTime'];_0x44e766['aggregatedStats'][_0x2b7a('0x14d')]=_0x2a7d55;}_0x9f8251[_0x2b7a('0x5d')](_0x12cc40);};_0x9f8251['requestVideoFrameCallback'](_0x12cc40);}return _0x9f8251;};this[_0x2b7a('0x65')]=createWebRtcVideo();onsignalingstatechange=function(_0x4cc703){console['info'](_0x2b7a('0xc8'),_0x4cc703);};oniceconnectionstatechange=function(_0xde118c){console[_0x2b7a('0xe5')]('ice\x20connection\x20state\x20change:',_0xde118c);};onicegatheringstatechange=function(_0x23f65d){console['info']('ice\x20gathering\x20state\x20change:',_0x23f65d);};handleOnTrack=function(_0x5a586f){if(_0x5a586f[_0x2b7a('0xc')]){}if(_0x5a586f['track']['kind']==_0x2b7a('0xfc')){handleOnAudioTrack(_0x5a586f[_0x2b7a('0xdb')][0x0]);return;}else _0x5a586f[_0x2b7a('0xc')]['kind']==_0x2b7a('0x65')&&_0x44e766['video']['srcObject']!==_0x5a586f['streams'][0x0];{_0x44e766[_0x2b7a('0x65')][_0x2b7a('0xcb')]=_0x5a586f[_0x2b7a('0xdb')][0x0];return;}};handleOnAudioTrack=function(_0x1f074f){if(_0x44e766['video'][_0x2b7a('0xcb')]==_0x1f074f){return;}else if(_0x44e766['video']['srcObject']&&_0x44e766['video']['srcObject']!==_0x1f074f){let _0xfe269f=document['createElement']('Audio');_0xfe269f['autoplay']=!![];_0xfe269f[_0x2b7a('0xcb')]=_0x1f074f;_0xfe269f['play']();console['log'](_0x2b7a('0x133'));}};setupDataChannel=function(_0x4b5c0b,_0x20b781,_0x300728){try{let _0xc50a56=_0x4b5c0b['createDataChannel'](_0x20b781,_0x300728);console['log'](_0x2b7a('0xf8')+_0x20b781+')');_0xc50a56[_0x2b7a('0xee')]='arraybuffer';_0xc50a56[_0x2b7a('0x10e')]=function(_0x147777){console['log'](_0x2b7a('0x1b')+_0x20b781+_0x2b7a('0x38'));if(_0x44e766['onDataChannelConnected']){_0x44e766['onDataChannelConnected']();}};_0xc50a56['onclose']=function(_0x3915a4){console[_0x2b7a('0x139')](_0x2b7a('0x1b')+_0x20b781+_0x2b7a('0x12'));};_0xc50a56[_0x2b7a('0x114')]=function(_0x7980d1){if(_0x44e766['onDataChannelMessage'])_0x44e766[_0x2b7a('0xb8')](_0x7980d1[_0x2b7a('0x125')]);};return _0xc50a56;}catch(_0x292a40){console['warn'](_0x2b7a('0xe8'),_0x292a40);return null;}};onicecandidate=function(_0x465179){console[_0x2b7a('0x139')]('ICE\x20candidate',_0x465179);if(_0x465179['candidate']&&_0x465179['candidate'][_0x2b7a('0x7a')]){_0x44e766['onWebRtcCandidate'](_0x465179['candidate']);}};handleCreateOffer=function(_0x5596a0){_0x5596a0[_0x2b7a('0x92')](_0x44e766[_0x2b7a('0xc5')])[_0x2b7a('0x29')](function(_0x1246b7){mungeSDPOffer(_0x1246b7);_0x5596a0['setLocalDescription'](_0x1246b7);if(_0x44e766['onWebRtcOffer']){_0x44e766['onWebRtcOffer'](_0x1246b7);}},function(){console[_0x2b7a('0x153')]('Couldn\x27t\x20create\x20offer');});};mungeSDPOffer=function(_0x21b835){_0x21b835[_0x2b7a('0x155')]=_0x21b835['sdp'][_0x2b7a('0xaa')](_0x2b7a('0x50'),_0x2b7a('0xa3'));};setupPeerConnection=function(_0x4181f4){if(_0x4181f4['SetBitrate'])console['log'](_0x2b7a('0x99'));_0x4181f4[_0x2b7a('0x8a')]=onsignalingstatechange;_0x4181f4[_0x2b7a('0x77')]=oniceconnectionstatechange;_0x4181f4[_0x2b7a('0x51')]=onicegatheringstatechange;_0x4181f4[_0x2b7a('0xac')]=handleOnTrack;_0x4181f4['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x44e766['aggregatedStats'])_0x44e766['aggregatedStats']={};return function(_0x1f33d3){let _0x7ec084={};_0x1f33d3[_0x2b7a('0x7')](_0x2e72eb=>{if(_0x2e72eb[_0x2b7a('0xa2')]=='inbound-rtp'&&!_0x2e72eb['isRemote']&&(_0x2e72eb[_0x2b7a('0x6a')]==_0x2b7a('0x65')||_0x2e72eb['id']['toLowerCase']()[_0x2b7a('0x96')]('video'))){_0x7ec084[_0x2b7a('0xbe')]=_0x2e72eb[_0x2b7a('0xbe')];_0x7ec084[_0x2b7a('0x69')]=_0x2e72eb['bytesReceived'];_0x7ec084[_0x2b7a('0x55')]=_0x2e72eb[_0x2b7a('0x55')];_0x7ec084['packetsLost']=_0x2e72eb[_0x2b7a('0x16')];_0x7ec084[_0x2b7a('0xfe')]=_0x44e766['aggregatedStats']&&_0x44e766['aggregatedStats']['bytesReceivedStart']?_0x44e766[_0x2b7a('0x109')]['bytesReceivedStart']:_0x2e72eb[_0x2b7a('0x69')];_0x7ec084[_0x2b7a('0xbd')]=_0x44e766['aggregatedStats']&&_0x44e766['aggregatedStats'][_0x2b7a('0xbd')]?_0x44e766['aggregatedStats'][_0x2b7a('0xbd')]:_0x2e72eb['framesDecoded'];_0x7ec084['timestampStart']=_0x44e766[_0x2b7a('0x109')]&&_0x44e766['aggregatedStats']['timestampStart']?_0x44e766['aggregatedStats']['timestampStart']:_0x2e72eb['timestamp'];if(_0x44e766['aggregatedStats']&&_0x44e766['aggregatedStats'][_0x2b7a('0xbe')]){if(_0x44e766['aggregatedStats']['bytesReceived']){_0x7ec084['bitrate']=0x8*(_0x7ec084[_0x2b7a('0x69')]-_0x44e766['aggregatedStats'][_0x2b7a('0x69')])/(_0x7ec084['timestamp']-_0x44e766[_0x2b7a('0x109')]['timestamp']);_0x7ec084['bitrate']=Math[_0x2b7a('0x130')](_0x7ec084[_0x2b7a('0x64')]);_0x7ec084['lowBitrate']=_0x44e766[_0x2b7a('0x109')]['lowBitrate']&&_0x44e766[_0x2b7a('0x109')][_0x2b7a('0x9f')]<_0x7ec084['bitrate']?_0x44e766['aggregatedStats']['lowBitrate']:_0x7ec084[_0x2b7a('0x64')];_0x7ec084[_0x2b7a('0x17')]=_0x44e766[_0x2b7a('0x109')]['highBitrate']&&_0x44e766[_0x2b7a('0x109')]['highBitrate']>_0x7ec084['bitrate']?_0x44e766['aggregatedStats']['highBitrate']:_0x7ec084['bitrate'];}if(_0x44e766[_0x2b7a('0x109')][_0x2b7a('0xfe')]){_0x7ec084['avgBitrate']=0x8*(_0x7ec084[_0x2b7a('0x69')]-_0x44e766['aggregatedStats'][_0x2b7a('0xfe')])/(_0x7ec084[_0x2b7a('0xbe')]-_0x44e766[_0x2b7a('0x109')][_0x2b7a('0x102')]);_0x7ec084[_0x2b7a('0x141')]=Math['floor'](_0x7ec084['avgBitrate']);}if(_0x44e766['aggregatedStats'][_0x2b7a('0x55')]){_0x7ec084['framerate']=(_0x7ec084[_0x2b7a('0x55')]-_0x44e766[_0x2b7a('0x109')]['framesDecoded'])/((_0x7ec084['timestamp']-_0x44e766['aggregatedStats'][_0x2b7a('0xbe')])/0x3e8);_0x7ec084['framerate']=Math['floor'](_0x7ec084[_0x2b7a('0xb4')]);_0x7ec084['lowFramerate']=_0x44e766['aggregatedStats'][_0x2b7a('0xab')]&&_0x44e766['aggregatedStats'][_0x2b7a('0xab')]<_0x7ec084['framerate']?_0x44e766[_0x2b7a('0x109')][_0x2b7a('0xab')]:_0x7ec084[_0x2b7a('0xb4')];_0x7ec084['highFramerate']=_0x44e766['aggregatedStats']['highFramerate']&&_0x44e766['aggregatedStats'][_0x2b7a('0xb0')]>_0x7ec084[_0x2b7a('0xb4')]?_0x44e766[_0x2b7a('0x109')][_0x2b7a('0xb0')]:_0x7ec084['framerate'];}if(_0x44e766['aggregatedStats']['framesDecodedStart']){_0x7ec084['avgframerate']=(_0x7ec084['framesDecoded']-_0x44e766['aggregatedStats']['framesDecodedStart'])/((_0x7ec084[_0x2b7a('0xbe')]-_0x44e766['aggregatedStats']['timestampStart'])/0x3e8);_0x7ec084['avgframerate']=Math[_0x2b7a('0x130')](_0x7ec084[_0x2b7a('0xbf')]);}}}if(_0x2e72eb['type']=='track'&&(_0x2e72eb['trackIdentifier']==_0x2b7a('0x126')||_0x2e72eb[_0x2b7a('0x14b')]==_0x2b7a('0x65'))){_0x7ec084[_0x2b7a('0x15c')]=_0x2e72eb[_0x2b7a('0x15c')];_0x7ec084['framesReceived']=_0x2e72eb[_0x2b7a('0x41')];_0x7ec084['framesDroppedPercentage']=_0x2e72eb['framesDropped']/_0x2e72eb[_0x2b7a('0x41')]*0x64;_0x7ec084[_0x2b7a('0x70')]=_0x2e72eb['frameHeight'];_0x7ec084['frameWidth']=_0x2e72eb['frameWidth'];_0x7ec084[_0x2b7a('0x140')]=_0x44e766['aggregatedStats']&&_0x44e766[_0x2b7a('0x109')][_0x2b7a('0x140')]?_0x44e766['aggregatedStats'][_0x2b7a('0x140')]:_0x2e72eb['frameHeight'];_0x7ec084[_0x2b7a('0xda')]=_0x44e766['aggregatedStats']&&_0x44e766[_0x2b7a('0x109')]['frameWidthStart']?_0x44e766['aggregatedStats'][_0x2b7a('0xda')]:_0x2e72eb['frameWidth'];}if(_0x2e72eb['type']==_0x2b7a('0xc2')&&_0x2e72eb[_0x2b7a('0xe1')]('currentRoundTripTime')&&_0x2e72eb[_0x2b7a('0x78')]!=0x0){_0x7ec084['currentRoundTripTime']=_0x2e72eb[_0x2b7a('0x78')];}});if(_0x44e766['aggregatedStats'][_0x2b7a('0x14d')]){_0x7ec084[_0x2b7a('0x14d')]=_0x44e766['aggregatedStats'][_0x2b7a('0x14d')];_0x44e766[_0x2b7a('0xfd')]['SetFrameDisplayDeltaTime'](_0x44e766['aggregatedStats'][_0x2b7a('0x14d')]);}_0x44e766['aggregatedStats']=_0x7ec084;if(_0x44e766[_0x2b7a('0x136')])_0x44e766['onAggregatedStats'](_0x7ec084);};};setupTracksToSendAsync=async function(_0xe5e185){_0xe5e185['addTransceiver']('video',{'direction':'recvonly'});if(!_0x44e766['useMic']){_0xe5e185[_0x2b7a('0xa7')]('audio',{'direction':_0x2b7a('0x7b')});}else{let _0x26faff=_0x44e766['useMic']?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x3f9627=await navigator['mediaDevices'][_0x2b7a('0x8f')]({'video':![],'audio':_0x26faff});if(_0x3f9627){for(const _0x4b63b1 of _0x3f9627['getTracks']()){if(_0x4b63b1[_0x2b7a('0x14b')]&&_0x4b63b1['kind']==_0x2b7a('0xfc')){_0xe5e185[_0x2b7a('0xa7')](_0x4b63b1,{'direction':_0x2b7a('0x150')});}}}else{_0xe5e185['addTransceiver'](_0x2b7a('0xfc'),{'direction':'recvonly'});}}};this['startLatencyTest']=function(_0x236500){if(!_0x44e766[_0x2b7a('0x65')]){return;}_0x44e766[_0x2b7a('0xfd')]['Reset']();_0x44e766['latencyTestTimings'][_0x2b7a('0x9a')]=Date[_0x2b7a('0xb5')]();_0x236500(_0x44e766['latencyTestTimings']['TestStartTimeMs']);};this['handleCandidateFromServer']=function(_0x27fac0){console['log'](_0x2b7a('0x138'),_0x27fac0);let _0x2adefc=new RTCIceCandidate(_0x27fac0);_0x44e766['pcClient'][_0x2b7a('0xfb')](_0x2adefc)[_0x2b7a('0x29')](_0x177dd4=>{console['log'](_0x2b7a('0x88'));});};this[_0x2b7a('0x92')]=function(){if(_0x44e766[_0x2b7a('0xd8')]){console['log'](_0x2b7a('0x3a'));_0x44e766['pcClient'][_0x2b7a('0xe')]();_0x44e766[_0x2b7a('0xd8')]=null;}_0x44e766['pcClient']=new RTCPeerConnection(_0x44e766[_0x2b7a('0x10c')]);setupTracksToSendAsync(_0x44e766[_0x2b7a('0xd8')])[_0x2b7a('0x9d')](function(){setupPeerConnection(_0x44e766['pcClient']);_0x44e766[_0x2b7a('0x14c')]=setupDataChannel(_0x44e766['pcClient'],'cirrus',_0x44e766['dataChannelOptions']);handleCreateOffer(_0x44e766['pcClient']);});};this['receiveAnswer']=function(_0x703ca6){var _0x24ba03=new RTCSessionDescription(_0x703ca6);_0x44e766[_0x2b7a('0xd8')][_0x2b7a('0xd3')](_0x24ba03);let _0x2bd47c=_0x44e766[_0x2b7a('0xd8')][_0x2b7a('0x21')]();for(let _0x1e8aa4 of _0x2bd47c){_0x1e8aa4['playoutDelayHint']=0x0;}};this['close']=function(){if(_0x44e766[_0x2b7a('0xd8')]){console[_0x2b7a('0x139')]('Closing\x20existing\x20peerClient');_0x44e766[_0x2b7a('0xd8')]['close']();_0x44e766[_0x2b7a('0xd8')]=null;}if(_0x44e766[_0x2b7a('0xe6')])clearInterval(_0x44e766['aggregateStatsIntervalId']);};this['send']=function(_0x14c8d5){if(_0x44e766[_0x2b7a('0x14c')]&&_0x44e766['dcClient'][_0x2b7a('0x111')]==_0x2b7a('0x2')){_0x44e766[_0x2b7a('0x14c')][_0x2b7a('0x85')](_0x14c8d5);}};this[_0x2b7a('0xe3')]=function(_0x3cd76e){if(_0x44e766['pcClient']&&_0x3cd76e){_0x44e766['pcClient']['getStats'](null)['then'](_0x5c2ff9=>{_0x3cd76e(_0x5c2ff9);});}};this[_0x2b7a('0xd4')]=function(_0x2e1c6f){let _0x136c81=generateAggregatedStatsFunction();let _0x3a51de=()=>{_0x44e766['getStats'](_0x136c81);};_0x44e766[_0x2b7a('0xe6')]=setInterval(_0x3a51de,_0x2e1c6f);};};return _0x26ec59;}));_0x2b7a('0xc6');var MapVision=window[_0x2b7a('0x73')]||{};MapVision['version']=()=>{return'1.0.1';};MapVision[_0x2b7a('0xd7')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision[_0x2b7a('0x103')]={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x2b7a('0xfa')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x2b7a('0x10a')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x2b7a('0x12e')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision[_0x2b7a('0x118')]={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision[_0x2b7a('0x1a')]=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this['pitch']=0x0;this['yaw']=0x0;this['roll']=0x0;};MapVision['Label']=function(){this[_0x2b7a('0xa2')]=_0x2b7a('0xd0');this['gid']=0x1;this['name']='';this[_0x2b7a('0xd')]='';this[_0x2b7a('0xca')]=new MapVision['Position']();};MapVision[_0x2b7a('0x152')]=function(){this['type']='model';this['gid']=0x1;this[_0x2b7a('0x121')]='';this[_0x2b7a('0xd')]='';this['position']=new MapVision[(_0x2b7a('0xb2'))]();};MapVision[_0x2b7a('0xea')]=function(){this[_0x2b7a('0xa2')]=_0x2b7a('0x4');this[_0x2b7a('0xdd')]=0x1;this[_0x2b7a('0x121')]='';this['style']='';this['geom']=[];};MapVision['Polygon']=function(){this['type']=_0x2b7a('0xed');this[_0x2b7a('0xdd')]=0x1;this[_0x2b7a('0x121')]='';this[_0x2b7a('0xd')]='';this[_0x2b7a('0x32')]=[];};MapVision[_0x2b7a('0x4c')]=function(){this['type']=_0x2b7a('0xe9');this['gid']=0x0;this['name']='';this['floors']=[{'type':_0x2b7a('0x130'),'gid':0x0,'name':''}];this['position']=new MapVision['Position']();};MapVision[_0x2b7a('0x14f')]=0x1;MapVision['View3d']=function(_0x25cb2f){this['id']=_0x25cb2f['id'];this['name']=_0x2b7a('0x39');this['url']=_0x25cb2f[_0x2b7a('0x95')];this[_0x2b7a('0x31')]=_0x25cb2f['projectId'];this['token']=_0x25cb2f['token'];this['enableKeyboard']=!![];this['enableMouse']=!![];this[_0x2b7a('0x89')]=null;this[_0x2b7a('0x0')]=null;this[_0x2b7a('0x142')]=null;this['_webSocket']=null;this[_0x2b7a('0x12c')]=null;this[_0x2b7a('0x46')]=null;this['_mouseDownStatus']=![];this['_command']=null;this['_onMouseSelectedObj']=null;this[_0x2b7a('0xf')]=null;this[_0x2b7a('0x2f')]=null;this['_onMouseMoveCallback']=null;};MapVision['View3d']['prototype'][_0x2b7a('0x15e')]=function(_0x573fa7){let _0x15e6d8=this;_0x15e6d8[_0x2b7a('0x89')]=_0x573fa7;_0x15e6d8['_callback']=null;if(_0x15e6d8['id']==''||_0x15e6d8[_0x2b7a('0x95')]==''||_0x15e6d8['projectId']==''){if(_0x15e6d8['_registerCallback']){const _0x4c88c9={'code':0xc9,'msg':_0x2b7a('0x11e')};_0x15e6d8['_registerCallback'](_0x4c88c9);}return;}window[_0x2b7a('0xa6')]=window[_0x2b7a('0xa6')]||window[_0x2b7a('0x157')];if(!window[_0x2b7a('0xa6')]){if(_0x15e6d8[_0x2b7a('0x89')]){const _0x1cccc9={'code':0x1f9,'msg':_0x2b7a('0xc1')};_0x15e6d8['_registerCallback'](_0x1cccc9);}return;}const _0x42b09a=_0x15e6d8['_webSocket'];if(_0x42b09a){_0x42b09a[_0x2b7a('0xe')]();_0x15e6d8[_0x2b7a('0x10')]=undefined;console['log'](_0x2b7a('0x1e'));_0x15e6d8[_0x2b7a('0x63')](_0x15e6d8['_webRtcPlayerHtmlElement']);}if(_0x15e6d8['url']['indexOf']('/aimapvision3d')<0x0){let _0x3c8615=_0x15e6d8['url'][_0x2b7a('0xaa')]('http:','');_0x3c8615=_0x3c8615['replace']('/','');_0x3c8615='ws://'+_0x3c8615;_0x3c8615=_0x3c8615['replace']('///','//');console[_0x2b7a('0x139')](_0x3c8615);_0x15e6d8[_0x2b7a('0xf2')](_0x3c8615);return;}const _0x51bafb={'httpUrl':_0x15e6d8['url']+'/project3d/getInfo?id='+_0x15e6d8[_0x2b7a('0x31')]+'&token='+_0x15e6d8['token'],'type':_0x2b7a('0x156')};setTimeout(()=>{_0x15e6d8['_httpRequest'](_0x51bafb,function(_0x1016eb){if(_0x1016eb[_0x2b7a('0x91')]&&_0x1016eb[_0x2b7a('0x91')]===0xc8){const _0x2a4185=_0x1016eb[_0x2b7a('0x125')];if(_0x2a4185[_0x2b7a('0x8e')]<0xa){console['log']('aimapvision3d\x20server\x20is\x20not\x20started.');if(_0x15e6d8[_0x2b7a('0x89')]){const _0x3452cb={'code':0x12c,'msg':_0x2b7a('0xa4')};_0x15e6d8[_0x2b7a('0x89')](_0x3452cb);}return;}let _0x2be95a=_0x15e6d8['url']['replace'](_0x2b7a('0x3c'),'');const _0x2da53b=_0x2be95a['indexOf'](':',0x0);if(_0x2da53b>0x0)_0x2be95a=_0x2be95a[_0x2b7a('0x11d')](0x0,_0x2da53b);_0x2be95a='ws://'+_0x2be95a+':'+_0x2a4185['port'];_0x15e6d8['_connectWebsocket'](_0x2be95a);}else{console['log'](_0x1016eb);if(_0x15e6d8[_0x2b7a('0x89')]){_0x15e6d8['_registerCallback'](_0x1016eb);}}},function(){if(_0x15e6d8['_registerCallback']){const _0x57b551={'code':0x1f4,'msg':'Bad\x20Request'};_0x15e6d8['_registerCallback'](_0x57b551);}});},0x64);};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0xf7')]=function(){let _0xf0699a=this;const _0x2deaf7=_0xf0699a[_0x2b7a('0x10')];if(_0x2deaf7){_0xf0699a[_0x2b7a('0x5')]();_0x2deaf7['close']();_0xf0699a[_0x2b7a('0x10')]=undefined;console['log']('\x20_webSocket\x20closed\x20');}};MapVision['View3d']['prototype'][_0x2b7a('0xc9')]=function(_0x319c73,_0x59074f){if(_0x319c73==='onmousedown'){this['_onMouseDownCallback']=_0x59074f;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['SetMouseCallback']);}else if(_0x319c73===_0x2b7a('0x56')){this[_0x2b7a('0x9c')]=_0x59074f;}else if(_0x319c73==='onmouseup'){this['_onMouseUpCallback']=_0x59074f;}else{this['_registerCallback']=_0x59074f;}};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['UnRegisterEvent']=function(){if(this[_0x2b7a('0x0')]){this['_unregisterEvents'](this['_webRtcPlayerHtmlElement']);}this['_onMouseDownCallback']=null;this['_onMouseMoveCallback']=null;this['_onMouseUpCallback']=null;this[_0x2b7a('0x89')]=null;};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x4f')]=function(){const _0x5a5a13=this[_0x2b7a('0x10')]===undefined;return _0x5a5a13;};MapVision['View3d'][_0x2b7a('0x117')]['SetParameters']=function(_0x437562){this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['SetParameters'],_0x437562);};MapVision['View3d']['prototype'][_0x2b7a('0x11c')]=function(_0x1275cc,_0x5c3b5c){this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision['CommandType']['SetResolution'],{'width':_0x1275cc,'height':_0x5c3b5c});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x14e')]=function(_0x2f7397,_0x32c261){if(_0x2f7397>MapVision['MapStatusType'][_0x2b7a('0x147')])this[_0x2b7a('0x12c')]=_0x32c261;else this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision['CommandType']['SetMapStatus'],{'mapstatus':_0x2f7397});};MapVision[_0x2b7a('0x59')]['prototype']['Clear']=function(){this['_callback']=null;this['_onMouseSelectedObj']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x3e')]);};MapVision['View3d']['prototype']['Stop']=function(){this['_callback']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x104')]);};MapVision['View3d'][_0x2b7a('0x117')]['ResetHome']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0xb9')]);};MapVision['View3d']['prototype']['Rotate']=function(_0x25fad7,_0x41d2ae,_0x131adc,_0x11ebf6,_0x37d624){this[_0x2b7a('0x12c')]=null;let _0x5c9d52={};if(_0x25fad7){_0x5c9d52[_0x2b7a('0x12f')]=_0x25fad7;}if(_0x41d2ae){_0x5c9d52['radio']=_0x41d2ae;}if(_0x131adc){_0x5c9d52[_0x2b7a('0xf1')]=_0x131adc;}if(_0x11ebf6){_0x5c9d52['gid']=_0x11ebf6;}if(_0x37d624){_0x5c9d52['highlight']=_0x37d624;}this['_emiUICommand'](MapVision['CommandType']['Rotate'],{'gid':_0x11ebf6,'pitch':_0x25fad7,'radio':_0x41d2ae,'distance':_0x131adc,'highlight':_0x37d624});};MapVision['View3d']['prototype'][_0x2b7a('0x128')]=function(_0x3cbd80){this['_callback']=_0x3cbd80;this['_emiUICommand'](MapVision['CommandType']['GetCurrentPosition']);};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x43')]=function(_0x2ad1b2,_0x376f86){this[_0x2b7a('0x12c')]=_0x376f86;const _0x42ed9e=[];_0x2ad1b2['forEach'](_0x199fc5=>{_0x42ed9e['push']({'gid':_0x199fc5[_0x2b7a('0xdd')]});});this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x43')],{'objects':_0x42ed9e});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0xf4')]=function(_0x3cdced){this['_callbackMouse']=_0x3cdced;this[_0x2b7a('0x67')](MapVision['CommandType']['SetMouseCallback']);};MapVision['View3d']['prototype']['SetMousePositionCallback']=function(_0x5a0cd8){this['_callbackMouse']=_0x5a0cd8;this['_emiUICommand'](MapVision['CommandType']['SetMousePositionCallback']);};MapVision['View3d']['prototype'][_0x2b7a('0x115')]=function(_0x2be48e){this['_emiUICommand'](MapVision['CommandType']['OpenMap'],{'mapname':_0x2be48e});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x30')]=function(_0x497cd3){this['_callback']=_0x497cd3;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x30')]);};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x143')]=function(_0x15c4ae,_0x279cb6){this['_callback']=null;_0x15c4ae['showlocation']=_0x279cb6;this['_emiUICommand'](MapVision['CommandType']['SetPosition'],_0x15c4ae);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['FlyToPosition']=function(_0x3519f9,_0x372497,_0x10cd3c){this[_0x2b7a('0x12c')]=null;_0x3519f9['showlocation']=_0x372497;_0x3519f9[_0x2b7a('0x44')]=_0x10cd3c;this['_emiUICommand'](MapVision['CommandType']['FlyToPosition'],_0x3519f9);};MapVision['View3d']['prototype']['FlyToObject']=function(_0x4a5409,_0x37857b,_0x5412fc){this['_callback']=null;_0x4a5409['showlocation']=_0x37857b;_0x4a5409[_0x2b7a('0x44')]=_0x5412fc;this['_emiUICommand'](MapVision['CommandType']['FlyToObject'],_0x4a5409);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['FlyToObjectById']=function(_0x4ee0ae,_0x3ab930,_0x5cc65b,_0x14b2c7,_0x6425ee){this['_callback']=null;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x13f')],{'gid':_0x4ee0ae,'showlocation':_0x3ab930,'distance':_0x14b2c7,'speed':_0x6425ee,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x5cc65b,'yaw':0x0,'roll':0x0}});};MapVision['View3d']['prototype']['FindObjectById']=function(_0x2671ea,_0x596438){this['_callback']=_0x596438;this['_emiUICommand'](MapVision['CommandType']['FindObjectById'],{'gid':_0x2671ea});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['FindObjectByName']=function(_0x5743e1,_0x34f0d3){this['_callback']=_0x34f0d3;this['_emiUICommand'](MapVision['CommandType']['FindObjectByName'],{'gid':_0x5743e1,'name':_0x5743e1});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['FindObjectByPrefix']=function(_0x352d89,_0x446413,_0x673ab1){this['_callback']=_0x673ab1;if(!_0x446413)_0x446413=0x14;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x60')],{'gid':_0x352d89,'limit':_0x446413});};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x7c')]=function(_0x272355){this[_0x2b7a('0x12c')]=_0x272355;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['GetSelectedObject']);};MapVision[_0x2b7a('0x59')]['prototype']['UpdateObject']=function(_0x51adf1){this[_0x2b7a('0x12c')]=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x14')],_0x51adf1);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x12b')]=function(_0xd2ba31,_0xd5fbf8){this['_callback']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x12b')],{'gid':_0xd2ba31,'style':_0xd5fbf8});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x15b')]=function(){this['_callback']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['ClearObjectStyle']);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['GetObjectsVisible']=function(_0x6e5982){this[_0x2b7a('0x12c')]=_0x6e5982;this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x76')]);};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x90')]=function(_0x4694bd){this['_callback']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['SetObjectsVisible'],{'objects':_0x4694bd});};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x6f')]=function(_0x757f00){this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x6f')],{'gid':_0x757f00});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x11a')]=function(_0x2ec3a9){this['_callback']=null;this[_0x2b7a('0x67')](MapVision['CommandType']['SetObjectsHighlight'],{'objects':_0x2ec3a9});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x97')]=function(_0x5062b4){this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision['CommandType']['SetObjectsHighlightByPrefix'],{'prefix':_0x5062b4});};MapVision['View3d']['prototype'][_0x2b7a('0x24')]=function(){this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x24')]);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x119')]=function(_0x29f60d,_0x5c9df4){this[_0x2b7a('0x12c')]=null;this[_0x2b7a('0x67')](MapVision['CommandType']['UpdateObjectVisible'],{'gid':_0x29f60d,'visible':_0x5c9df4});};MapVision['View3d']['prototype'][_0x2b7a('0x135')]=function(_0x1b6951,_0x5909d1){this[_0x2b7a('0x12c')]=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x135')],{'gid':_0x1b6951,'visible':_0x5909d1});};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x13a')]=function(_0x332fc4){this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x13a')],_0x332fc4);};MapVision['View3d'][_0x2b7a('0x117')]['CreateRoute']=function(_0x251845){this['_callback']=null;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x8c')],_0x251845);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x42')]=function(_0x91725f){this['_callback']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x42')],_0x91725f);};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0xdf')]=function(_0x1df5e0){this['_callback']=_0x1df5e0;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0xdf')]);};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x5a')]=function(){this[_0x2b7a('0x67')](MapVision['CommandType']['PauseRoute']);};MapVision[_0x2b7a('0x59')]['prototype']['StopRoute']=function(){this['_callback']=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0xf3')]);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['ResumeRoute']=function(){this[_0x2b7a('0x67')](MapVision['CommandType']['ResumeRoute']);};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x13c')]=function(_0x3a2dd0){this[_0x2b7a('0x12c')]=null;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x13c')],{'gid':_0x3a2dd0});};MapVision['View3d'][_0x2b7a('0x117')]['PauseSequence']=function(_0x4dd05c){this['_callback']=null;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x107')],{'gid':_0x4dd05c});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x100')]=function(_0x39884f,_0x139897){this['_callback']=_0x139897;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['IsPlayingSequence'],{'gid':_0x39884f});};MapVision['View3d']['prototype'][_0x2b7a('0xad')]=function(_0x38d88c,_0xb698d6){this['_callback']=_0xb698d6;this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['IsPausedSequence'],{'gid':_0x38d88c});};MapVision['View3d'][_0x2b7a('0x117')]['StopSequence']=function(_0x47ee87,_0x39eceb){this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x105')],{'gid':_0x47ee87});};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0xa9')]=function(_0x183e01){this[_0x2b7a('0x12c')]=null;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0xa9')],_0x183e01);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['StreamVideoClose']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x49')]);};MapVision[_0x2b7a('0x59')]['prototype']['GetBuildingNum']=function(_0x53c0a0){this['_callback']=_0x53c0a0;this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['GetBuildingNum']);};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x13e')]=function(_0x463be4,_0x22f5ff){this[_0x2b7a('0x12c')]=_0x22f5ff;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x13e')],{'bindex':_0x463be4});};MapVision['View3d']['prototype']['GetBuildingNames']=function(_0x60904f){this['_callback']=_0x60904f;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x33')]);};MapVision['View3d'][_0x2b7a('0x117')]['GetBuildingVisible']=function(_0x14f5fc,_0x447dcc){this[_0x2b7a('0x12c')]=_0x447dcc;this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['GetBuildingVisible'],{'gid':_0x14f5fc});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['SetBuildingVisible']=function(_0x43d334,_0x130e58,_0xce863){this[_0x2b7a('0x67')](MapVision['CommandType']['SetBuildingVisible'],{'gid':_0x43d334,'visible':_0x130e58,'opacity':_0xce863});};MapVision[_0x2b7a('0x59')]['prototype']['SetBuildingWkVisible']=function(_0x4ea3c0,_0xa4086d,_0x4a5b88){this[_0x2b7a('0x67')](MapVision['CommandType']['SetBuildingWkVisible'],{'gid':_0x4ea3c0,'visible':_0xa4086d,'opacity':_0x4a5b88});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x28')]=function(){this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x28')]);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['SplitBuilding']=function(_0x5d95f6,_0x5dac13){this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x20')],{'gid':_0x5d95f6,'height':_0x5dac13});};MapVision['View3d'][_0x2b7a('0x117')]['SplitBuildingReset']=function(_0x5b645b){this['_emiUICommand'](MapVision['CommandType']['SplitBuildingReset'],{'gid':_0x5b645b});};MapVision['View3d'][_0x2b7a('0x117')]['GetFloorNum']=function(_0x47068f,_0xb201eb){this[_0x2b7a('0x12c')]=_0xb201eb;this[_0x2b7a('0x67')](MapVision['CommandType']['GetFloorNum'],{'gid':_0x47068f});};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0xba')]=function(_0x88633,_0x352f8f){this[_0x2b7a('0x12c')]=_0x352f8f;this['_emiUICommand'](MapVision['CommandType']['GetFloorNames'],{'gid':_0x88633});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['GetFloorNames']=function(_0x5a5b0d,_0x5c2888){this[_0x2b7a('0x12c')]=_0x5c2888;this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x9b')],{'gid':_0x5a5b0d});};MapVision['View3d']['prototype']['GetFloorVisible']=function(_0x4a5865,_0x330734,_0x237faa){this['_callback']=_0x237faa;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['GetFloorVisible'],{'gid':_0x4a5865,'floor':_0x330734});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x5f')]=function(_0x5f347f,_0x2ad2a4,_0x5a8d9a,_0x382c07){if(!_0x5a8d9a)_0x5a8d9a=![];if(!_0x382c07)_0x382c07=0x0;this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['SetFloorVisible'],{'gid':_0x5f347f,'floor':_0x2ad2a4,'visible':_0x5a8d9a,'opacity':_0x382c07});};MapVision['View3d'][_0x2b7a('0x117')]['GetUpFloorNum']=function(_0x3b3966,_0x3a8f75,_0x59b9b6){this['_callback']=_0x59b9b6;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x40')],{'gid':_0x3b3966,'floor':_0x3a8f75});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['GetUpFloorNames']=function(_0x5cefcd,_0x4b7aba,_0x35c0dc){this[_0x2b7a('0x12c')]=_0x35c0dc;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x124')],{'gid':_0x5cefcd,'floor':_0x4b7aba});};MapVision[_0x2b7a('0x59')]['prototype']['GetDownFloorNum']=function(_0x1a1e94,_0x106c1e,_0x12ffe2){this['_callback']=_0x12ffe2;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x98')],{'gid':_0x1a1e94,'floor':_0x106c1e});};MapVision['View3d']['prototype']['GetDownFloorNames']=function(_0x2b9d54,_0x20b448,_0x50924a){this['_callback']=_0x50924a;this['_emiUICommand'](MapVision['CommandType']['GetDownFloorNames'],{'gid':_0x2b9d54,'floor':_0x20b448});};MapVision['View3d']['prototype']['GetFloorRoomNum']=function(_0x1c6076,_0x116780,_0x6de602){this[_0x2b7a('0x12c')]=_0x6de602;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['GetFloorRoomNum'],{'gid':_0x1c6076,'floor':_0x116780});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['GetFloorRoomName']=function(_0x3a081c,_0x42d720,_0x33e48f){this['_callback']=_0x33e48f;this[_0x2b7a('0x67')](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0x3a081c,'floor':_0x42d720});};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0xb7')]=function(_0xd24d1a,_0x7fa288,_0x1425d3){this[_0x2b7a('0x12c')]=_0x1425d3;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['GetFloorRoomNames'],{'gid':_0xd24d1a,'floor':_0x7fa288});};MapVision['View3d'][_0x2b7a('0x117')]['GetFloorRoomVisible']=function(_0x407d93,_0x8ce5fb,_0x116215,_0x5b548b){this['_callback']=_0x5b548b;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0xff')],{'gid':_0x407d93,'floor':_0x8ce5fb,'room':_0x116215});};MapVision['View3d']['prototype'][_0x2b7a('0xe2')]=function(_0x38e689,_0x328899,_0x51bf8e,_0x1e8952,_0x34c891){if(!_0x1e8952)_0x1e8952=![];if(!_0x34c891)_0x34c891=0x0;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0xe2')],{'gid':_0x38e689,'floor':_0x328899,'room':_0x51bf8e,'visible':_0x1e8952,'opacity':_0x34c891});};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0xf5')]=function(_0xeeb876,_0x9cc23e,_0x5f4e64){this['_callback']=_0x5f4e64;this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceNum'],{'gid':_0xeeb876,'floor':_0x9cc23e});};MapVision[_0x2b7a('0x59')]['prototype']['GetFloorDeviceName']=function(_0x3c9614,_0x2cb6ca,_0x2cb00b){this[_0x2b7a('0x12c')]=_0x2cb00b;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x52')],{'gid':_0x3c9614,'floor':_0x2cb6ca});};MapVision[_0x2b7a('0x59')]['prototype']['GetFloorDeviceNames']=function(_0x85ae5,_0x58805,_0x4e5aad){this[_0x2b7a('0x12c')]=_0x4e5aad;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x52')],{'gid':_0x85ae5,'floor':_0x58805});};MapVision[_0x2b7a('0x59')]['prototype']['GetFloorDeviceVisible']=function(_0x1a9358,_0x518890,_0x479c62,_0x118d3e){this['_callback']=_0x118d3e;this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')]['GetFloorDeviceVisible'],{'gid':_0x1a9358,'floor':_0x518890,'device':_0x479c62});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['SetFloorDeviceVisible']=function(_0x3e4130,_0x391216,_0x4de2ee,_0x5cb2d7,_0x11a77d){if(!_0x5cb2d7)_0x5cb2d7=![];if(!_0x11a77d)_0x11a77d=0x0;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0xa8')],{'gid':_0x3e4130,'floor':_0x391216,'device':_0x4de2ee,'visible':_0x5cb2d7,'opacity':_0x11a77d});};MapVision['View3d']['prototype']['SetGroundVisible']=function(_0x2e8b63){this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0xeb')],{'visible':_0x2e8b63});};MapVision['View3d'][_0x2b7a('0x117')]['OverLayerStartEdit']=function(_0x243812,_0x37bef6){this[_0x2b7a('0x12c')]=_0x37bef6;this['_emiUICommand'](MapVision['CommandType']['OverLayerStartEdit'],_0x243812);};MapVision['View3d'][_0x2b7a('0x117')]['OverLayerStopEdit']=function(){this[_0x2b7a('0x12c')]=null;this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['OverLayerStopEdit']);};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x72')]=function(_0x155796){this[_0x2b7a('0x12c')]=_0x155796;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x72')]);};MapVision['View3d']['prototype'][_0x2b7a('0xa0')]=function(_0x173831,_0x5163d6){this[_0x2b7a('0x12c')]=_0x5163d6;this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['OverLayerFindObject'],{'name':_0x173831});};MapVision['View3d'][_0x2b7a('0x117')]['OverLayerCreateObject']=function(_0x3c38fb,_0x577477){this['_callback']=_0x577477;this[_0x2b7a('0x67')](MapVision['CommandType'][_0x2b7a('0x13b')],_0x3c38fb);};MapVision['View3d'][_0x2b7a('0x117')]['OverLayerCreateObjects']=function(_0xf6c41b,_0x46ffa8){this[_0x2b7a('0x12c')]=_0x46ffa8;this[_0x2b7a('0x67')](MapVision['CommandType']['OverLayerCreateObjects'],{'shapes':_0xf6c41b});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['OverLayerUpdateObject']=function(_0x485491){this[_0x2b7a('0x67')](MapVision['CommandType']['OverLayerUpdateObject'],_0x485491);};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x94')]=function(_0x5095a6){this[_0x2b7a('0x67')](MapVision[_0x2b7a('0x118')][_0x2b7a('0x94')],_0x5095a6);};MapVision['View3d']['prototype']['OverLayerRemoveObjectById']=function(_0x58a8db){this[_0x2b7a('0x67')](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x58a8db});};MapVision['View3d'][_0x2b7a('0x117')]['OverLayerRemoveObjectsById']=function(_0x868006){this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x137')],{'ids':_0x868006});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['OverLayerRemoveAll']=function(_0x4570fd){if(_0x4570fd){this['_emiUICommand'](MapVision[_0x2b7a('0x118')]['OverLayerRemoveAllCustom'],{'types':_0x4570fd});}else{this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x110')]);}};MapVision['View3d']['prototype']['LayerLoad']=function(_0x1e74fb,_0x4342cb){this[_0x2b7a('0x12c')]=_0x4342cb;this['_emiUICommand'](MapVision['CommandType']['LayerLoad'],_0x1e74fb);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x146')]=function(_0x206411,_0x36706c){this[_0x2b7a('0x12c')]=_0x36706c;this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x146')],_0x206411);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['LayersLoad']=function(_0x10ce31,_0xd87048){this[_0x2b7a('0x12c')]=_0xd87048;this['_emiUICommand'](MapVision[_0x2b7a('0x118')][_0x2b7a('0x129')],{'layers':_0x10ce31});};MapVision['View3d'][_0x2b7a('0x117')]['LayerSelectObject']=function(_0x399db0,_0x336ea5){this[_0x2b7a('0x12c')]=_0x336ea5;this[_0x2b7a('0x67')](MapVision['CommandType']['LayerSelectObject'],{'gid':_0x399db0});};MapVision['View3d']['prototype']['LayerRemove']=function(_0x155e0a){this['_emiUICommand'](MapVision['CommandType'][_0x2b7a('0x48')],{'gid':_0x155e0a});};MapVision['View3d'][_0x2b7a('0x117')]['LayerSetVisible']=function(_0x20c73b,_0x9bb55a){this[_0x2b7a('0x67')](MapVision['CommandType']['LayerSetVisible'],{'gid':_0x20c73b,'visible':_0x9bb55a});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x35')]=function(_0x3a1faf,_0x535b19,_0x4aeb62,_0x322b67){this['_emiUICommand'](MapVision['CommandType']['NorthControl'],{'visible':_0x3a1faf,'x':_0x535b19,'y':_0x4aeb62,'scale':_0x322b67});};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0xf2')]=function(_0x17dc71){let _0xe0cf9a=this;_0xe0cf9a['_webSocket']=new WebSocket(_0x17dc71);_0xe0cf9a['_webSocket']['onmessage']=function(_0x36b9fb){var _0x3f1b16=JSON[_0x2b7a('0x122')](_0x36b9fb['data']);if(_0x3f1b16['type']===_0x2b7a('0x116')){_0xe0cf9a[_0x2b7a('0x1')](_0xe0cf9a['id'],_0x3f1b16);}else if(_0x3f1b16['type']==='playerCount'){}else if(_0x3f1b16[_0x2b7a('0xa2')]===_0x2b7a('0x6')){_0xe0cf9a[_0x2b7a('0xce')](_0x3f1b16);}else if(_0x3f1b16['type']==='iceCandidate'){_0xe0cf9a[_0x2b7a('0xae')](_0x3f1b16[_0x2b7a('0x7a')]);}else{console[_0x2b7a('0x139')]('invalid\x20SS\x20message\x20type:\x20'+_0x3f1b16[_0x2b7a('0xa2')]);}};_0xe0cf9a['_webSocket'][_0x2b7a('0x5c')]=function(_0x4101de){console['log']('this._webSocket\x20error:\x20'+JSON[_0x2b7a('0x1d')](_0x4101de));if(_0xe0cf9a[_0x2b7a('0x89')]){const _0x3f2089={'code':0x64,'msg':_0x2b7a('0x106')};_0xe0cf9a[_0x2b7a('0x89')](_0x3f2089);}};_0xe0cf9a['_webSocket']['onclose']=function(_0x1ed3df){console[_0x2b7a('0x139')](_0x2b7a('0x108')+JSON['stringify'](_0x1ed3df['code'])+_0x2b7a('0xa5')+_0x1ed3df[_0x2b7a('0x7e')]);_0xe0cf9a['_webSocket']=undefined;let _0x347d06=document['getElementById'](_0xe0cf9a['id']);if(_0xe0cf9a[_0x2b7a('0x142')]){_0x347d06['removeChild'](_0xe0cf9a[_0x2b7a('0x142')]['video']);_0xe0cf9a[_0x2b7a('0x142')]['close']();_0xe0cf9a[_0x2b7a('0x142')]=undefined;}if(_0xe0cf9a[_0x2b7a('0x89')]){const _0x2d292f={'code':0x190,'msg':'websocket\x20closed'};_0xe0cf9a['_registerCallback'](_0x2d292f);}};};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0xec')]=function(_0xd229bd){let _0x3a1a06=this;_0xd229bd[_0x2b7a('0x56')]=_0x2e4cc8=>{if(!_0x3a1a06['enableMouse']){return;}_0x3a1a06[_0x2b7a('0x7f')](_0x2e4cc8[_0x2b7a('0x2c')],_0x2e4cc8['offsetY'],_0x2e4cc8['movementX'],_0x2e4cc8['movementY']);if(_0x3a1a06['_mouseDownStatus']&&_0x3a1a06['_onMouseMoveCallback']){_0x3a1a06['_onMouseMoveCallback'](_0x2e4cc8,_0x3a1a06[_0x2b7a('0xbb')]);}_0x2e4cc8[_0x2b7a('0x15f')]();};_0xd229bd[_0x2b7a('0x5b')]=_0x449cef=>{_0x3a1a06[_0x2b7a('0x8b')]=!![];_0x3a1a06[_0x2b7a('0xbb')]=null;if(!_0x3a1a06[_0x2b7a('0x6b')]){return;}_0x3a1a06['_onMouseDown'](_0x449cef['button'],_0x449cef[_0x2b7a('0x2c')],_0x449cef['offsetY']);setTimeout(function(){if(_0x3a1a06[_0x2b7a('0xf')]){_0x3a1a06[_0x2b7a('0xf')](_0x449cef,_0x3a1a06[_0x2b7a('0xbb')]);}},0x64);_0x449cef[_0x2b7a('0x15f')]();};_0xd229bd['onmouseup']=_0x578e93=>{_0x3a1a06['_mouseDownStatus']=![];if(!_0x3a1a06[_0x2b7a('0x6b')]){return;}_0x3a1a06[_0x2b7a('0xc4')](_0x578e93[_0x2b7a('0x1c')],_0x578e93[_0x2b7a('0x2c')],_0x578e93['offsetY']);if(_0x3a1a06['_onMouseUpCallback']){_0x3a1a06['_onMouseUpCallback'](_0x578e93,_0x3a1a06[_0x2b7a('0xbb')]);}_0x578e93['preventDefault']();};_0xd229bd['oncontextmenu']=_0xd6c11a=>{if(!_0x3a1a06[_0x2b7a('0x6b')]){return;}_0x3a1a06[_0x2b7a('0xc4')](_0xd6c11a['button'],_0xd6c11a['offsetX'],_0xd6c11a[_0x2b7a('0x2a')]);_0xd6c11a['preventDefault']();};if('onmousewheel'in _0xd229bd){_0xd229bd[_0x2b7a('0xb')]=_0x6c2bb6=>{if(!_0x3a1a06[_0x2b7a('0x6b')]){return;}_0x3a1a06['_onMouseWheel'](_0x6c2bb6['wheelDelta'],_0x6c2bb6[_0x2b7a('0x2c')],_0x6c2bb6['offsetY']);_0x6c2bb6[_0x2b7a('0x15f')]();};}else{_0xd229bd['addEventListener'](_0x2b7a('0x80'),_0x33d16c=>{if(!_0x3a1a06['enableMouse']){return;}_0x3a1a06[_0x2b7a('0x74')](_0x33d16c['detail']*-0x78,_0x33d16c[_0x2b7a('0x2c')],_0x33d16c['offsetY']);_0x33d16c[_0x2b7a('0x15f')]();},![]);}_0xd229bd[_0x2b7a('0xf6')]=_0x5ce19d=>{if(!_0x3a1a06[_0x2b7a('0x6b')]){return;}_0x3a1a06[_0x2b7a('0x11b')](_0x5ce19d[_0x2b7a('0x15d')],_0x5ce19d['offsetX'],_0x5ce19d[_0x2b7a('0x2a')]);};_0xd229bd['releaseMouseButtons']=_0x3522ff=>{if(!_0x3a1a06['enableMouse']){return;}_0x3a1a06[_0x2b7a('0x58')](_0x3522ff[_0x2b7a('0x15d')],_0x3522ff[_0x2b7a('0x2c')],_0x3522ff['offsetY']);};_0xd229bd['onmouseenter']=_0x1458db=>{if(!_0x3a1a06['enableMouse']){return;}var _0x5cf04d=new DataView(new ArrayBuffer(0x1));_0x5cf04d['setUint8'](0x0,MapVision['MessageType']['MouseEnter']);_0x3a1a06[_0x2b7a('0x87')](_0x5cf04d[_0x2b7a('0x134')]);_0xd229bd['pressMouseButtons'](_0x1458db);};_0xd229bd['onmouseleave']=_0x39d6ca=>{if(!_0x3a1a06[_0x2b7a('0x6b')]){return;}var _0x52bd8b=new DataView(new ArrayBuffer(0x1));_0x52bd8b[_0x2b7a('0x13')](0x0,MapVision['MessageType'][_0x2b7a('0x154')]);_0x3a1a06[_0x2b7a('0x87')](_0x52bd8b['buffer']);_0xd229bd['releaseMouseButtons'](_0x39d6ca);};};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x6d')]=function(_0x1c5d63){};MapVision['View3d']['prototype']['_unregisterEvents']=function(_0x304f4f){if(!_0x304f4f){return;}_0x304f4f['onmousemove']=_0x519cd4=>{_0x519cd4['preventDefault']();};_0x304f4f[_0x2b7a('0x5b')]=_0x4ad324=>{_0x4ad324['preventDefault']();};_0x304f4f[_0x2b7a('0xcd')]=_0x2a9d4e=>{_0x2a9d4e['preventDefault']();};_0x304f4f[_0x2b7a('0xdc')]=_0x40638b=>{_0x40638b['preventDefault']();};if('onmousewheel'in _0x304f4f){_0x304f4f['onmousewheel']=_0x1d3520=>{_0x1d3520['preventDefault']();};}else{_0x304f4f['addEventListener'](_0x2b7a('0x80'),_0x26a3d8=>{_0x26a3d8['preventDefault']();},![]);}_0x304f4f[_0x2b7a('0xf6')]=_0xde4dbc=>{};_0x304f4f['releaseMouseButtons']=_0x2b2aca=>{};_0x304f4f[_0x2b7a('0x15')]=_0xee0e58=>{};_0x304f4f[_0x2b7a('0x9e')]=_0x155a04=>{};_0x304f4f[_0x2b7a('0xd2')]=_0x45745f=>{};_0x304f4f[_0x2b7a('0x18')]=_0x43480a=>{};_0x304f4f['onkeypress']=_0xe7c9cc=>{};};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['_registerKeyboardEvents']=function(){let _0x30d027=this;const _0x1fead7={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x3b0edf(_0x51f038){if(_0x51f038['keyCode']===_0x1fead7[_0x2b7a('0x12a')]&&_0x51f038['code']===_0x2b7a('0x145'))return _0x1fead7['RightShift'];else if(_0x51f038[_0x2b7a('0xd1')]===_0x1fead7[_0x2b7a('0x81')]&&_0x51f038['code']==='ControlRight')return _0x1fead7[_0x2b7a('0x144')];else if(_0x51f038['keyCode']===_0x1fead7['Alt']&&_0x51f038['code']==='AltRight')return _0x1fead7['RightAlt'];else return _0x51f038[_0x2b7a('0xd1')];};function _0x338dec(_0x5438a7){return!(_0x5438a7['keyCode']==0x1b||_0x5438a7['keyCode']==0x74||_0x5438a7['keyCode']==0xde||_0x5438a7['keyCode']==0xba||_0x5438a7['keyCode']==0xbc||_0x5438a7[_0x2b7a('0x19')]&&_0x5438a7[_0x2b7a('0xd1')]==0x52);};var _0x12d3df=document[_0x2b7a('0x101')](_0x2b7a('0x45'));var _0x5921d5=null;if(_0x12d3df&&_0x12d3df[_0x2b7a('0x11')]>0x0){_0x5921d5=_0x12d3df[0x0];}else{_0x5921d5=document;}_0x5921d5['onkeydown']=_0xfa6dbc=>{if(!_0x30d027[_0x2b7a('0x1f')]){return;}if(_0x338dec(_0xfa6dbc)==![]){_0xfa6dbc['preventDefault']();return;}_0x30d027['_sendInputData'](new Uint8Array([MapVision[_0x2b7a('0xfa')]['KeyDown'],_0x3b0edf(_0xfa6dbc),_0xfa6dbc[_0x2b7a('0x9')]])[_0x2b7a('0x134')]);if(_0xfa6dbc[_0x2b7a('0xd1')]===_0x1fead7[_0x2b7a('0x4b')]){_0x5921d5['onkeypress']({'charCode':_0x1fead7['BackSpace']});}};_0x5921d5[_0x2b7a('0x18')]=_0xb459c=>{if(!_0x30d027[_0x2b7a('0x1f')]){return;}if(_0x338dec(_0xb459c)==![]){_0xb459c[_0x2b7a('0x15f')]();return;}_0x30d027['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyUp'],_0x3b0edf(_0xb459c)])['buffer']);};_0x5921d5['onkeypress']=_0x45f753=>{if(!_0x30d027[_0x2b7a('0x1f')]){return;}if(_0x338dec(_0x45f753)==![]){_0x45f753['preventDefault']();return;}let _0x1ce450=new DataView(new ArrayBuffer(0x3));_0x1ce450[_0x2b7a('0x13')](0x0,MapVision[_0x2b7a('0xfa')]['KeyPress']);_0x1ce450['setUint16'](0x1,_0x45f753[_0x2b7a('0x10f')],!![]);_0x30d027['_sendInputData'](_0x1ce450['buffer']);};};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x1')]=function(_0x5b5264,_0x3f3592){let _0x4967b8=this;_0x4967b8[_0x2b7a('0x0')]=document['getElementById'](_0x5b5264);_0x4967b8['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x3f3592[_0x2b7a('0x75')]});_0x4967b8[_0x2b7a('0x0')]['style']['visibility']='hidden';let _0x30beb9=_0x4967b8[_0x2b7a('0x0')];_0x30beb9['appendChild'](_0x4967b8['_webRtcPlayerObj']['video']);_0x4967b8[_0x2b7a('0x142')][_0x2b7a('0x14a')]=function(_0x2be918){if(_0x4967b8['_webSocket']&&_0x4967b8['_webSocket']['readyState']===MapVision[_0x2b7a('0x14f')]){let _0x1f9fb1=JSON[_0x2b7a('0x1d')](_0x2be918);_0x4967b8['_webSocket'][_0x2b7a('0x85')](_0x1f9fb1);}};_0x4967b8[_0x2b7a('0x142')]['onWebRtcCandidate']=function(_0x10b3e4){if(_0x4967b8['_webSocket']&&_0x4967b8['_webSocket']['readyState']===MapVision[_0x2b7a('0x14f')]){console['log']('->\x20SS:\x20iceCandidate\x0a'+JSON['stringify'](_0x10b3e4,undefined,0x4));_0x4967b8['_webSocket']['send'](JSON[_0x2b7a('0x1d')]({'type':'iceCandidate','candidate':_0x10b3e4}));}};_0x4967b8['_webRtcPlayerObj']['onVideoInitialised']=function(){if(_0x4967b8[_0x2b7a('0x10')]&&_0x4967b8['_webSocket'][_0x2b7a('0x111')]===MapVision['WS_OPEN_STATE']){if(_0x4967b8['_webRtcPlayerObj']){_0x4967b8['_webRtcPlayerObj']['video']['muted']=!![];setTimeout(function(){_0x4967b8[_0x2b7a('0xf0')]();_0x4967b8[_0x2b7a('0x86')]();_0x4967b8[_0x2b7a('0x142')]['video']['play']();},0x32);}}};_0x4967b8['_webRtcPlayerObj']['onDataChannelConnected']=function(){if(_0x4967b8[_0x2b7a('0x10')]&&_0x4967b8['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){if(_0x4967b8[_0x2b7a('0x142')]['video']&&_0x4967b8['_webRtcPlayerObj']['video'][_0x2b7a('0xcb')]&&_0x4967b8[_0x2b7a('0x142')]['onVideoInitialised']){_0x4967b8['_webRtcPlayerObj']['onVideoInitialised']();}if(_0x4967b8['_registerCallback']){const _0x4f3a8e={'code':0xc8,'msg':_0x2b7a('0x120')};_0x4967b8['_registerCallback'](_0x4f3a8e);}_0x4967b8[_0x2b7a('0x0')]['style']['visibility']='visible';}};_0x4967b8['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x48abb2){var _0x1a2765=new Uint8Array(_0x48abb2);var _0x4027e9=_0x1a2765[0x0];if(_0x4027e9===MapVision['ToClientMessageType']['QualityControlOwnership']){let _0x10cd9c=new TextDecoder('utf-16')['decode'](_0x48abb2[_0x2b7a('0xc0')](0x1));console['log'](_0x2b7a('0x23')+_0x10cd9c);}else if(_0x4027e9===MapVision['ToClientMessageType']['Response']){let _0x4b8549=new TextDecoder('utf-16')['decode'](_0x48abb2[_0x2b7a('0xc0')](0x1));let _0x1b4f7f=JSON['parse'](_0x4b8549);if(_0x1b4f7f&&_0x1b4f7f[_0x2b7a('0x47')]){_0x4967b8['_onMouseSelectedObj']=_0x1b4f7f;}if(_0x4967b8['_callbackMouse']&&(_0x4967b8[_0x2b7a('0xd6')]===MapVision[_0x2b7a('0x118')]['SetMouseCallback']||_0x4967b8['_command']===MapVision['CommandType'][_0x2b7a('0xa')]||_0x1b4f7f&&_0x1b4f7f[_0x2b7a('0x47')])){_0x4967b8[_0x2b7a('0x46')](_0x1b4f7f);}else if(_0x4967b8['_callback']){_0x4967b8[_0x2b7a('0x12c')](_0x1b4f7f);if(_0x4967b8[_0x2b7a('0xd6')]===MapVision[_0x2b7a('0x118')][_0x2b7a('0x127')]||_0x4967b8['_command']===MapVision[_0x2b7a('0x118')]['PlayRoute']||_0x4967b8[_0x2b7a('0xd6')]===MapVision['CommandType'][_0x2b7a('0xe4')]){}else{_0x4967b8['_callback']=null;}}}else if(_0x4027e9===MapVision['ToClientMessageType']['Command']){let _0x2c99fd=new TextDecoder(_0x2b7a('0x3f'))['decode'](_0x48abb2[_0x2b7a('0xc0')](0x1));console[_0x2b7a('0x139')]('->\x20SS:\x20Command:\x0a'+_0x2c99fd);}else if(_0x4027e9===MapVision['ToClientMessageType'][_0x2b7a('0x61')]){let _0x1b6e06=new TextDecoder('utf-16')[_0x2b7a('0x159')](_0x48abb2[_0x2b7a('0xc0')](0x1));console['log'](_0x2b7a('0x62')+_0x1b6e06);}else if(_0x4027e9===MapVision['ToClientMessageType'][_0x2b7a('0x131')]){let _0x42f604=new TextDecoder('utf-16')['decode'](_0x48abb2['slice'](0x1));console['log'](_0x2b7a('0x151')+_0x42f604);}};_0x4967b8['_registerMouseEvents'](_0x30beb9);_0x4967b8[_0x2b7a('0x6d')](_0x30beb9);_0x4967b8['_registerKeyboardEvents'](_0x30beb9);_0x4967b8['_webRtcPlayerObj'][_0x2b7a('0x92')]();};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x87')]=function(_0x3f0c96){if(this[_0x2b7a('0x142')]){this['_webRtcPlayerObj']['send'](_0x3f0c96);}else{console['log']('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['_emitDescriptor']=function(_0x2e413c,_0x333800){let _0x2a2bbd=JSON['stringify'](_0x333800);let _0x58af8c=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x2a2bbd['length']));let _0x270a9d=0x0;_0x58af8c['setUint8'](_0x270a9d,_0x2e413c);_0x270a9d++;_0x58af8c['setUint16'](_0x270a9d,_0x2a2bbd[_0x2b7a('0x11')],!![]);_0x270a9d+=0x2;for(let _0x58c1f2=0x0;_0x58c1f2<_0x2a2bbd['length'];_0x58c1f2++){_0x58af8c['setUint16'](_0x270a9d,_0x2a2bbd['charCodeAt'](_0x58c1f2),!![]);_0x270a9d+=0x2;}this['_sendInputData'](_0x58af8c[_0x2b7a('0x134')]);};MapVision['View3d']['prototype']['_emiUICommand']=function(_0x1ac634,_0x5d0b99){this['_command']=_0x1ac634;const _0x2a5e50={'cmd':_0x1ac634,'data':_0x5d0b99};console['log'](JSON['stringify'](_0x2a5e50));this['_emitDescriptor'](MapVision['MessageType'][_0x2b7a('0xb1')],_0x2a5e50);};MapVision['View3d'][_0x2b7a('0x117')]['_requestInitialSettings']=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType']['RequestInitialSettings']])[_0x2b7a('0x134')]);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x86')]=function(){this[_0x2b7a('0x87')](new Uint8Array([MapVision['MessageType']['RequestQualityControl']])['buffer']);};MapVision['View3d']['prototype'][_0x2b7a('0x7f')]=function(_0x48df71,_0x1d19b9,_0x1aade3,_0x226507){let _0xb42636=this;if(!_0xb42636[_0x2b7a('0x10')]){return;}let _0x219603=_0xb42636[_0x2b7a('0x25')](_0x48df71,_0x1d19b9);let _0x33b105=_0xb42636[_0x2b7a('0x66')](_0x1aade3,_0x226507);var _0x4915b5=new DataView(new ArrayBuffer(0x9));_0x4915b5[_0x2b7a('0x13')](0x0,MapVision[_0x2b7a('0xfa')][_0x2b7a('0xef')]);_0x4915b5['setUint16'](0x1,_0x219603['x'],!![]);_0x4915b5[_0x2b7a('0x5e')](0x3,_0x219603['y'],!![]);_0x4915b5['setInt16'](0x5,_0x33b105['x'],!![]);_0x4915b5['setInt16'](0x7,_0x33b105['y'],!![]);_0xb42636[_0x2b7a('0x87')](_0x4915b5['buffer']);};MapVision['View3d']['prototype'][_0x2b7a('0x22')]=function(_0x3ddcd4,_0x4005fc,_0xd40bd3){let _0x3baf93=this;if(!_0x3baf93[_0x2b7a('0x10')]){return;}let _0x3d310d=_0x3baf93[_0x2b7a('0x25')](_0x4005fc,_0xd40bd3);var _0x45daa6=new DataView(new ArrayBuffer(0x6));_0x45daa6['setUint8'](0x0,MapVision[_0x2b7a('0xfa')][_0x2b7a('0x36')]);_0x45daa6['setUint8'](0x1,_0x3ddcd4);_0x45daa6['setUint16'](0x2,_0x3d310d['x'],!![]);_0x45daa6['setUint16'](0x4,_0x3d310d['y'],!![]);_0x3baf93['_sendInputData'](_0x45daa6['buffer']);};MapVision['View3d']['prototype']['_onMouseUp']=function(_0xb4f9e,_0x11166a,_0x47d16d){let _0x32dca6=this;if(!_0x32dca6[_0x2b7a('0x10')]){return;}let _0x4b3a6e=_0x32dca6['_normalizeAndQuantizeUnsigned'](_0x11166a,_0x47d16d);var _0x552424=new DataView(new ArrayBuffer(0x6));_0x552424[_0x2b7a('0x13')](0x0,MapVision['MessageType'][_0x2b7a('0xf9')]);_0x552424['setUint8'](0x1,_0xb4f9e);_0x552424[_0x2b7a('0x5e')](0x2,_0x4b3a6e['x'],!![]);_0x552424['setUint16'](0x4,_0x4b3a6e['y'],!![]);_0x32dca6['_sendInputData'](_0x552424[_0x2b7a('0x134')]);};MapVision['View3d']['prototype'][_0x2b7a('0x74')]=function(_0x59b665,_0x2a479c,_0x5d3d9d){let _0x53b6ce=this;if(!_0x53b6ce['_webSocket']){return;}let _0x182f3e=_0x53b6ce['_normalizeAndQuantizeUnsigned'](_0x2a479c,_0x5d3d9d);var _0x2d43b5=new DataView(new ArrayBuffer(0x7));_0x2d43b5['setUint8'](0x0,MapVision[_0x2b7a('0xfa')][_0x2b7a('0x84')]);_0x2d43b5['setInt16'](0x1,_0x59b665,!![]);_0x2d43b5[_0x2b7a('0x5e')](0x3,_0x182f3e['x'],!![]);_0x2d43b5['setUint16'](0x5,_0x182f3e['y'],!![]);_0x53b6ce[_0x2b7a('0x87')](_0x2d43b5[_0x2b7a('0x134')]);};MapVision['View3d']['prototype'][_0x2b7a('0x58')]=function(_0x2e6b4f,_0xe0316a,_0x3662a0){if(_0x2e6b4f&MapVision['MouseButtonsMask']['PrimaryButton']){this[_0x2b7a('0xc4')](MapVision['MouseButton'][_0x2b7a('0xb3')],_0xe0316a,_0x3662a0);}if(_0x2e6b4f&MapVision['MouseButtonsMask'][_0x2b7a('0x27')]){this[_0x2b7a('0xc4')](MapVision['MouseButton']['SecondaryButton'],_0xe0316a,_0x3662a0);}if(_0x2e6b4f&MapVision[_0x2b7a('0x12e')]['AuxiliaryButton']){this[_0x2b7a('0xc4')](MapVision['MouseButton']['AuxiliaryButton'],_0xe0316a,_0x3662a0);}if(_0x2e6b4f&MapVision['MouseButtonsMask'][_0x2b7a('0xe0')]){this['_onMouseUp'](MapVision[_0x2b7a('0x10a')]['FourthButton'],_0xe0316a,_0x3662a0);}if(_0x2e6b4f&MapVision['MouseButtonsMask'][_0x2b7a('0x11f')]){this['_onMouseUp'](MapVision['MouseButton']['FifthButton'],_0xe0316a,_0x3662a0);}};MapVision['View3d'][_0x2b7a('0x117')][_0x2b7a('0x11b')]=function(_0x315fb9,_0x961b85,_0x39b341){if(_0x315fb9&MapVision[_0x2b7a('0x12e')][_0x2b7a('0x12d')]){this[_0x2b7a('0x22')](MapVision[_0x2b7a('0x10a')]['MainButton'],_0x961b85,_0x39b341);}if(_0x315fb9&MapVision['MouseButtonsMask'][_0x2b7a('0x27')]){this[_0x2b7a('0x22')](MapVision['MouseButton']['SecondaryButton'],_0x961b85,_0x39b341);}if(_0x315fb9&MapVision[_0x2b7a('0x12e')]['AuxiliaryButton']){this[_0x2b7a('0x22')](MapVision[_0x2b7a('0x10a')][_0x2b7a('0xaf')],_0x961b85,_0x39b341);}if(_0x315fb9&MapVision['MouseButtonsMask']['FourthButton']){this['_onMouseDown'](MapVision[_0x2b7a('0x10a')][_0x2b7a('0xe0')],_0x961b85,_0x39b341);}if(_0x315fb9&MapVision[_0x2b7a('0x12e')]['FifthButton']){this[_0x2b7a('0x22')](MapVision[_0x2b7a('0x10a')][_0x2b7a('0x11f')],_0x961b85,_0x39b341);}};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0x25')]=function(_0xa5c86a,_0x58b1e4){let _0x10db48=this;if(!_0x10db48[_0x2b7a('0x10')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x27ce5b=_0x10db48[_0x2b7a('0x0')];let _0x735d0d=_0x10db48['_webRtcPlayerObj'][_0x2b7a('0x65')];let _0x3a0786=_0x27ce5b['clientHeight']/_0x27ce5b['clientWidth'];let _0x47352c=_0x735d0d[_0x2b7a('0x53')]/_0x735d0d[_0x2b7a('0x6e')];_0x47352c=_0x3a0786;if(_0x3a0786>_0x47352c){let _0x3eb452=_0x3a0786/_0x47352c;let _0x259c75=_0xa5c86a/_0x27ce5b['clientWidth'];let _0xca40bf=_0x3eb452*(_0x58b1e4/_0x27ce5b[_0x2b7a('0x3d')]-0.5)+0.5;if(_0x259c75<0x0||_0x259c75>0x1||_0xca40bf<0x0||_0xca40bf>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x259c75*0x10000,'y':_0xca40bf*0x10000};}}else{let _0x5f3a64=_0x47352c/_0x3a0786;let _0x463858=_0x5f3a64*(_0xa5c86a/_0x27ce5b['clientWidth']-0.5)+0.5;let _0x3d6f5f=_0x58b1e4/_0x27ce5b[_0x2b7a('0x3d')];if(_0x463858<0x0||_0x463858>0x1||_0x3d6f5f<0x0||_0x3d6f5f>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x463858*0x10000,'y':_0x3d6f5f*0x10000};}}};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['_normalizeAndQuantizeSigned']=function(_0x2d880c,_0x337a80){let _0x1df23f=this;if(!_0x1df23f[_0x2b7a('0x10')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x5bd75b=_0x1df23f['_webRtcPlayerHtmlElement'];let _0x10dcd5=_0x1df23f[_0x2b7a('0x142')]['video'];let _0xdfae9f=_0x5bd75b['clientHeight']/_0x5bd75b[_0x2b7a('0x34')];let _0x391a3a=_0x10dcd5['videoHeight']/_0x10dcd5['videoWidth'];_0x391a3a=_0xdfae9f;if(_0xdfae9f>_0x391a3a){let _0x2fa4b0=_0xdfae9f/_0x391a3a;let _0x278e26=_0x2d880c/(0.5*_0x5bd75b[_0x2b7a('0x34')]);let _0x3151a3=_0x2fa4b0*_0x337a80/(0.5*_0x5bd75b['clientHeight']);return{'x':_0x278e26*0x7fff,'y':_0x3151a3*0x7fff};}else{let _0xb2b55a=_0x391a3a/_0xdfae9f;let _0x25cbe0=_0xb2b55a*_0x2d880c/(0.5*_0x5bd75b[_0x2b7a('0x34')]);let _0x319e14=_0x337a80/(0.5*_0x5bd75b['clientHeight']);return{'x':_0x25cbe0*0x7fff,'y':_0x319e14*0x7fff};}};MapVision['View3d']['prototype']['_unquantizeAndDenormalizeUnsigned']=function(_0x49221e,_0x8ca89f){let _0x5bafdb=this;if(!_0x5bafdb['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x17ead8=_0x5bafdb[_0x2b7a('0x0')];let _0x1275c3=_0x5bafdb[_0x2b7a('0x142')][_0x2b7a('0x65')];let _0x59e473=_0x17ead8['clientHeight']/_0x17ead8['clientWidth'];let _0x544e2c=_0x1275c3['videoHeight']/_0x1275c3[_0x2b7a('0x6e')];if(_0x59e473>_0x544e2c){let _0x5f2954=_0x59e473/_0x544e2c;let _0x14cb05=_0x49221e/0x10000;let _0x539262=(_0x8ca89f/0x10000-0.5)/_0x5f2954+0.5;return{'x':_0x14cb05*_0x17ead8[_0x2b7a('0x34')],'y':_0x539262*_0x17ead8['clientHeight']};}else{let _0x20f82e=(_0x49221e/0x10000-0.5)/ratio+0.5;let _0x628d1f=_0x8ca89f/0x10000;return{'x':_0x20f82e*_0x17ead8['clientWidth'],'y':_0x628d1f*_0x17ead8[_0x2b7a('0x3d')]};}};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')][_0x2b7a('0xce')]=function(_0x278ebb){this['_webRtcPlayerObj']['receiveAnswer'](_0x278ebb);this['_webRtcPlayerObj'][_0x2b7a('0x136')]=_0x58bbba=>{};this[_0x2b7a('0x142')][_0x2b7a('0xd4')](0x1*0x3e8);};MapVision[_0x2b7a('0x59')][_0x2b7a('0x117')]['_onWebRtcIce']=function(_0x2246ca){if(this['_webRtcPlayerObj'])this['_webRtcPlayerObj'][_0x2b7a('0xd9')](_0x2246ca);};MapVision[_0x2b7a('0x59')]['prototype'][_0x2b7a('0x132')]=function(_0x27f870,_0x2626f0,_0x5bc1f8){var _0x189eec=null;if(window[_0x2b7a('0xcf')]){_0x189eec=new XMLHttpRequest();}else if(window[_0x2b7a('0x149')]){_0x189eec=new ActiveXObject(_0x2b7a('0x15a'));}if(_0x189eec==null){alert(_0x2b7a('0x10b'));return;}var _0x546928=(_0x27f870['type']||_0x2b7a('0x13d'))[_0x2b7a('0xa1')]();var _0x2a7484=_0x27f870['dataType']||'json';var _0x38aeed=_0x27f870['httpUrl']||'';var _0x4c7627=_0x27f870[_0x2b7a('0x79')]||!![];var _0x94064d=_0x27f870[_0x2b7a('0x125')]||[];var _0x5da178='';for(var _0x2454ed in _0x94064d){_0x5da178+=_0x2454ed+'='+_0x94064d[_0x2454ed]+'&';}_0x5da178=_0x5da178==''?'':_0x5da178[_0x2b7a('0x11d')](0x0,_0x5da178[_0x2b7a('0x11')]-0x1);console['log'](_0x5da178);_0x189eec['onreadystatechange']=function(){if(_0x189eec[_0x2b7a('0x111')]==0x4&&_0x189eec['status']==0xc8){var _0x5a71e3=JSON['parse'](_0x189eec[_0x2b7a('0x3b')]);_0x2626f0(_0x5a71e3);}else{_0x5bc1f8;}};if(_0x546928==_0x2b7a('0x13d')){_0x189eec[_0x2b7a('0x2')]('GET',_0x38aeed,_0x4c7627);_0x189eec['send'](null);}else if(_0x546928==_0x2b7a('0x2e')){_0x189eec['open'](_0x2b7a('0x2e'),_0x38aeed,_0x4c7627);_0x189eec[_0x2b7a('0x7d')]('Content-type','application/x-www-form-urlencoded');_0x189eec[_0x2b7a('0x85')](_0x5da178);}};