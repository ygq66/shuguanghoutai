const _0x682e=['enableKeyboard','now',')\x20connect','token','GetFloorVisible','OverLayerRemoveObjects','SetFloorDeviceVisible','_onMouseUp','SetMapStatus','useinbandfec=1','GetFloorRoomNum','_mouseDownStatus','key\x20up\x20','GetScrrenPosition','timestamp','OverLayerRemoveObject','requestVideoFrameCallback','ClearObjectStyle','OpenStatus','1.0.1','startLatencyTest','preventDefault','onVideoInitialised','_emiUICommand','mediaType','GetBuildingNum','SetMouseCallback','log','onreadystatechange','UEReceiptTimeMs','FlyToObject','close','SplitFloorReset','parse','Clear','srcObject','_sendInputData','Point2D','PreEncodeTimeMs','receiveAnswer','_callback','OverLayerStopEdit','GetFloorNames','_onMouseSelectedObj','track','projectId','onDataChannelMessage','loadedmetadata','UpdateObject','iframe','PlayRoute','oncontextmenu','FifthButton','aimapvision3d\x20server\x20is\x20not\x20started.','_onMouseMove','sendrecv','setRequestHeader','ResumeRouteModel','code','Point','prototype','LayerRemove','->\x20SS:\x20iceCandidate\x0a','error','lowBitrate','enableMouse','then','StreamVideoCloseAll','SetParameters','ReceiptTimeMs','linestring','StopSequence','object','_requestQualityControl','onkeydown','bitrate','frameWidth','Events','ICE\x20candidate\x20successfully\x20added','UpdateObjectVisibleByPrefix','UETransmissionTimeMs','onkeypress','PlaySequence','FindObjectById','OverLayerRemoveObjectById','arraybuffer','SetObjectHighlight','_unregisterEvents','FrameDisplayDeltaTimeMs','async','ontrack','_registerMouseEvents','PreCaptureTimeMs','SetObjectsHighlightByPrefix','PrimaryButton','/aimapvision3d','peerConnectionOptions','highFramerate','pcClient','audio','WebSocket','MessageType','unified-plan','OnAllLatencyTimingsReady','ResetHome','_onMouseDownCallback','MouseButton','\x20_webSocket\x20closed\x20','Close','data','warn','repeat','GetFloorRoomVisible','onmessage','RequestInitialSettings','sdpConstraints','onmousemove','_onWebRtcAnswer','OverLayerStartEdit','port','GetUpFloorNum','status','MouseLeave','SplitDynamicBuilding','->\x20SS:\x20UnfreezeFrame:\x0a','createOffer','substring','SetResolution','LineString','Control','distance','UpdateObjects','Rotate','hostname','OverLayerRemoveObjectsById','_command','dataChannelOptions','MainButton','Reset','appendChild','FindObjectByName','_onWebRtcIce','Content-type','showlocation','Label','onsignalingstatechange','movementX','UEPostEncodeTimeMs','IsPlayingSequence','LayerSetVisible','_onMouseMoveCallback','KeyUp','LayerSelectObject','iceCandidate','ResumeRoute','SplitBuildingReset','FlyToPosition','reason','ToClientMessageType','IsPausedSequence','videoHeight','presentationTime','No\x20data\x20channel','MozWebSocket','_webRtcPlayerObj','GetFloorDeviceNum','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000','GetHomePosition','_webRtcPlayerHtmlElement','bytesReceived','AuxiliaryButton','buffer','button','onMouse','json','useMic','packetsLost','setLocalDescription','position','data\x20channel\x20(','toUpperCase','///','GetFloorDeviceName','LayerLoad','StreamVideoOpen','View3d','cmd','http:','SetBuildingVisible','indexOf','_webSocket','Bad\x20Request','charCode','timestampStart','OpenMap','_onMouseDown','_unquantizeAndDenormalizeUnsigned','GetObjectsVisible','candidate','onmouseleave','Couldn\x27t\x20create\x20offer','GetFloorRoomName','_registerKeyboardEvents','SetObjectsVisible','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','objects','PostCaptureTimeMs','pressMouseButtons','url','dataType','latencyTestTimings','CreateRoute','SetFrameDisplayDeltaTime','Position','floor','GetBuildingName','offsetX','StartRoute','GetUpFloorNames','ResetAllBuildings','onWebRtcCandidate','OverLayerFindObject','frameHeight','SetGroundVisible','get','invalid\x20SS\x20message\x20type:\x20','keyCode','type','Open','GetDownFloorNum','info','play','push','SetObjectsHighlight','GetFloorRoomNames','UEPostCaptureTimeMs','framesDecoded','bytesReceivedStart','yaw','avgBitrate','LayerReLoad','replace','RegisterEvent','clientHeight','style','onAggregatedStats','OverLayerSelectObjectEdit','Shift','tnClient','createElement','aggregateStatsIntervalId','_releaseMouseButtons','StopRoute','use\x20strict','framesDroppedPercentage','BackSpace','RightAlt','_registerTouchEvents','PauseRouteModel','ws://','stringify','cfg','offsetY','addTransceiver','GetFloorNum','SetPosition','this._webSocket\x20error:\x20','ControlRight','streams','length','onWebRtcOffer','readyState','_onMouseUpCallback','receiveToCompositeMs','getStats','MouseUp','UpdateObjectStyle','clientWidth','Building','PlayRouteModel','onmousedown','QualityControlOwnership','kind','dcClient','highlight','sdp','SetBuildingWkVisible','_connectWebsocket','POST','onicecandidate','name','SetMousePositionCallback','WS\x20closed:\x20','SetScenceSunInfo','pitch','UEPreEncodeTimeMs','PostEncodeTimeMs','SetBitrate','building','disablepictureinpicture','OverLayerRemoveAllCustom','label','onopen','currentRoundTripTime','aggregatedStats','setUint8','ICE\x20candidate','mediaDevices','OverLayerCreateObject','framerate','framesDropped','detail','version','video','onmouseenter','CommandType','autoplay','FlyToObjectById','slice','gid','send','onmousewheel','ResetObjects','model','Command','speed','_emitDescriptor','frameWidthStart','CreateObject','BrowserReceiptTimeMs','setInt16','recvonly','FindObjectByPrefix','WS_OPEN_STATE','onmouseup','lowFramerate','config','_onMouseWheel','MouseDown','playsInline','playoutDelayHint','onDataChannelConnected','GetCurrentPosition','UnRegisterEvent','_httpRequest','frameHeightStart','你的浏览器不支持XMLHttp','videoWidth','_registerCallback','GetFloorDeviceNames','createDataChannel','getElementsByTagName','visible','MouseMove','onkeyup','framesDecodedStart','MouseButtonsMask','LayersLoad','decode','setUint16','->\x20SS:\x20QualityControlOwnership:\x0a','video_label','SecondaryButton','GetDownFloorNames','onicegatheringstatechange','GET'];const _0x5699=function(_0x682e1a,_0x56992b){_0x682e1a=_0x682e1a-0x0;let _0x3578c7=_0x682e[_0x682e1a];return _0x3578c7;};(function(_0x45fa10,_0x4d47db){if(typeof define==='function'&&define['amd']){define(['./adapter'],_0x4d47db);}else if(typeof exports===_0x5699('0x48')){module['exports']=_0x4d47db(require('./adapter'));}else{_0x45fa10['webRtcPlayer']=_0x4d47db(_0x45fa10['adapter']);}}(this,function(_0x176745){function _0x4dba61(_0x4bb4cb){_0x4bb4cb=_0x4bb4cb||{};var _0x111133=this;this['cfg']=_0x4bb4cb[_0x5699('0x60')]||{};this['cfg']['sdpSemantics']=_0x5699('0x66');this[_0x5699('0x105')]['offerExtmapAllowMixed']=![];this[_0x5699('0x62')]=null;this['dcClient']=null;this[_0x5699('0xf8')]=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x20e7a2=new URLSearchParams(window['location']['search']);this[_0x5699('0xaf')]=_0x20e7a2['has'](_0x5699('0xaf'));if(!this['useMic']){console[_0x5699('0x1b')]('Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.');}let _0x3fb78d=location['hostname']==='localhost'||location[_0x5699('0x85')]==='127.0.0.1';let _0x541928=location['protocol']==='https:';if(this['useMic']&&!_0x3fb78d&&!_0x541928){this['useMic']=![];console[_0x5699('0x3f')](_0x5699('0xcc'));console[_0x5699('0x3f')]('For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27');}this[_0x5699('0xd2')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this['TestStartTimeMs']=null;this[_0x5699('0x1d')]=null;this['UEPreCaptureTimeMs']=null;this['UEPostCaptureTimeMs']=null;this['UEPreEncodeTimeMs']=null;this['UEPostEncodeTimeMs']=null;this[_0x5699('0x50')]=null;this[_0x5699('0x149')]=null;this[_0x5699('0x58')]=null;},'SetUETimings':function(_0x55ab41){this[_0x5699('0x1d')]=_0x55ab41[_0x5699('0x45')];this['UEPreCaptureTimeMs']=_0x55ab41[_0x5699('0x5c')];this[_0x5699('0xeb')]=_0x55ab41[_0x5699('0xce')];this[_0x5699('0x127')]=_0x55ab41[_0x5699('0x26')];this[_0x5699('0x93')]=_0x55ab41[_0x5699('0x128')];this['UETransmissionTimeMs']=_0x55ab41['TransmissionTimeMs'];this['BrowserReceiptTimeMs']=Date[_0x5699('0x1')]();this[_0x5699('0x67')](this);},'SetFrameDisplayDeltaTime':function(_0x2094b0){if(this['FrameDisplayDeltaTimeMs']==null){this['FrameDisplayDeltaTimeMs']=Math['round'](_0x2094b0);this[_0x5699('0x67')](this);}},'OnAllLatencyTimingsReady':function(_0x24ffe7){}};createWebRtcVideo=function(){var _0x525fba=document[_0x5699('0xf9')](_0x5699('0x139'));_0x525fba['id']='streamingVideo';_0x525fba[_0x5699('0x153')]=!![];_0x525fba[_0x5699('0x12b')]=!![];_0x525fba['muted']=![];_0x525fba['addEventListener'](_0x5699('0x2f'),function(_0x4ef7cf){if(_0x111133[_0x5699('0x16')]){_0x111133['onVideoInitialised']();}},!![]);if('requestVideoFrameCallback'in HTMLVideoElement['prototype']){const _0x3a0a60=(_0xc80404,_0x4a9720)=>{if(_0x4a9720['receiveTime']&&_0x4a9720['expectedDisplayTime']){const _0x1579e9=_0x4a9720[_0x5699('0xa1')]-_0x4a9720['receiveTime'];_0x111133[_0x5699('0x130')]['receiveToCompositeMs']=_0x1579e9;}_0x525fba['requestVideoFrameCallback'](_0x3a0a60);};_0x525fba[_0x5699('0x10')](_0x3a0a60);}return _0x525fba;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x2a4d97){console[_0x5699('0xe6')]('signaling\x20state\x20change:',_0x2a4d97);};oniceconnectionstatechange=function(_0x395e96){console['info']('ice\x20connection\x20state\x20change:',_0x395e96);};onicegatheringstatechange=function(_0x320e5f){console[_0x5699('0xe6')]('ice\x20gathering\x20state\x20change:',_0x320e5f);};handleOnTrack=function(_0x4d818c){if(_0x4d818c['track']){}if(_0x4d818c[_0x5699('0x2c')][_0x5699('0x11a')]==_0x5699('0x63')){handleOnAudioTrack(_0x4d818c[_0x5699('0x10c')][0x0]);return;}else _0x4d818c['track'][_0x5699('0x11a')]=='video'&&_0x111133[_0x5699('0x139')][_0x5699('0x23')]!==_0x4d818c[_0x5699('0x10c')][0x0];{_0x111133['video']['srcObject']=_0x4d818c[_0x5699('0x10c')][0x0];return;}};handleOnAudioTrack=function(_0xb95b5f){if(_0x111133['video']['srcObject']==_0xb95b5f){return;}else if(_0x111133[_0x5699('0x139')]['srcObject']&&_0x111133[_0x5699('0x139')][_0x5699('0x23')]!==_0xb95b5f){let _0xa073dd=document['createElement']('Audio');_0xa073dd[_0x5699('0x13c')]=!![];_0xa073dd[_0x5699('0x23')]=_0xb95b5f;_0xa073dd['play']();console['log']('Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.');}};setupDataChannel=function(_0x518394,_0x387de1,_0x23f5d0){try{let _0x172781=_0x518394[_0x5699('0x15e')](_0x387de1,_0x23f5d0);console['log']('Created\x20datachannel\x20('+_0x387de1+')');_0x172781['binaryType']=_0x5699('0x55');_0x172781[_0x5699('0x12e')]=function(_0x399646){console[_0x5699('0x1b')](_0x5699('0xb3')+_0x387de1+_0x5699('0x2'));if(_0x111133['onDataChannelConnected']){_0x111133[_0x5699('0x155')]();}};_0x172781['onclose']=function(_0x341afe){console['log'](_0x5699('0xb3')+_0x387de1+')\x20closed');};_0x172781['onmessage']=function(_0x593f74){if(_0x111133[_0x5699('0x2e')])_0x111133['onDataChannelMessage'](_0x593f74[_0x5699('0x6d')]);};return _0x172781;}catch(_0x299c5a){console['warn'](_0x5699('0xa2'),_0x299c5a);return null;}};onicecandidate=function(_0x4bf472){console['log'](_0x5699('0x132'),_0x4bf472);if(_0x4bf472[_0x5699('0xc6')]&&_0x4bf472[_0x5699('0xc6')]['candidate']){_0x111133[_0x5699('0xdc')](_0x4bf472[_0x5699('0xc6')]);}};handleCreateOffer=function(_0x225b33){_0x225b33['createOffer'](_0x111133[_0x5699('0x73')])[_0x5699('0x42')](function(_0xdd0a67){mungeSDPOffer(_0xdd0a67);_0x225b33[_0x5699('0xb1')](_0xdd0a67);if(_0x111133['onWebRtcOffer']){_0x111133[_0x5699('0x10e')](_0xdd0a67);}},function(){console[_0x5699('0x6e')](_0x5699('0xc8'));});};mungeSDPOffer=function(_0x19c1d9){_0x19c1d9['sdp']=_0x19c1d9[_0x5699('0x11d')][_0x5699('0xf1')](_0x5699('0x9'),_0x5699('0xa6'));};setupPeerConnection=function(_0x2b77f7){if(_0x2b77f7[_0x5699('0x129')])console['log']('Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function');_0x2b77f7[_0x5699('0x91')]=onsignalingstatechange;_0x2b77f7['oniceconnectionstatechange']=oniceconnectionstatechange;_0x2b77f7[_0x5699('0x16c')]=onicegatheringstatechange;_0x2b77f7[_0x5699('0x5a')]=handleOnTrack;_0x2b77f7[_0x5699('0x121')]=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x111133['aggregatedStats'])_0x111133['aggregatedStats']={};return function(_0x4c29e0){let _0x5207e9={};_0x4c29e0['forEach'](_0xa765a8=>{if(_0xa765a8[_0x5699('0xe3')]=='inbound-rtp'&&!_0xa765a8['isRemote']&&(_0xa765a8[_0x5699('0x18')]=='video'||_0xa765a8['id']['toLowerCase']()['includes'](_0x5699('0x139')))){_0x5207e9[_0x5699('0xe')]=_0xa765a8[_0x5699('0xe')];_0x5207e9[_0x5699('0xa9')]=_0xa765a8['bytesReceived'];_0x5207e9['framesDecoded']=_0xa765a8[_0x5699('0xec')];_0x5207e9[_0x5699('0xb0')]=_0xa765a8['packetsLost'];_0x5207e9[_0x5699('0xed')]=_0x111133['aggregatedStats']&&_0x111133['aggregatedStats'][_0x5699('0xed')]?_0x111133['aggregatedStats'][_0x5699('0xed')]:_0xa765a8['bytesReceived'];_0x5207e9['framesDecodedStart']=_0x111133['aggregatedStats']&&_0x111133[_0x5699('0x130')][_0x5699('0x163')]?_0x111133[_0x5699('0x130')][_0x5699('0x163')]:_0xa765a8[_0x5699('0xec')];_0x5207e9['timestampStart']=_0x111133[_0x5699('0x130')]&&_0x111133['aggregatedStats']['timestampStart']?_0x111133['aggregatedStats'][_0x5699('0xc1')]:_0xa765a8[_0x5699('0xe')];if(_0x111133['aggregatedStats']&&_0x111133['aggregatedStats']['timestamp']){if(_0x111133[_0x5699('0x130')]['bytesReceived']){_0x5207e9['bitrate']=0x8*(_0x5207e9[_0x5699('0xa9')]-_0x111133['aggregatedStats']['bytesReceived'])/(_0x5207e9[_0x5699('0xe')]-_0x111133['aggregatedStats']['timestamp']);_0x5207e9[_0x5699('0x4b')]=Math[_0x5699('0xd6')](_0x5207e9[_0x5699('0x4b')]);_0x5207e9[_0x5699('0x40')]=_0x111133[_0x5699('0x130')]['lowBitrate']&&_0x111133['aggregatedStats'][_0x5699('0x40')]<_0x5207e9['bitrate']?_0x111133[_0x5699('0x130')]['lowBitrate']:_0x5207e9['bitrate'];_0x5207e9['highBitrate']=_0x111133['aggregatedStats']['highBitrate']&&_0x111133['aggregatedStats']['highBitrate']>_0x5207e9[_0x5699('0x4b')]?_0x111133[_0x5699('0x130')]['highBitrate']:_0x5207e9['bitrate'];}if(_0x111133[_0x5699('0x130')][_0x5699('0xed')]){_0x5207e9['avgBitrate']=0x8*(_0x5207e9[_0x5699('0xa9')]-_0x111133[_0x5699('0x130')][_0x5699('0xed')])/(_0x5207e9[_0x5699('0xe')]-_0x111133['aggregatedStats'][_0x5699('0xc1')]);_0x5207e9['avgBitrate']=Math['floor'](_0x5207e9[_0x5699('0xef')]);}if(_0x111133['aggregatedStats'][_0x5699('0xec')]){_0x5207e9[_0x5699('0x135')]=(_0x5207e9['framesDecoded']-_0x111133['aggregatedStats'][_0x5699('0xec')])/((_0x5207e9['timestamp']-_0x111133['aggregatedStats']['timestamp'])/0x3e8);_0x5207e9[_0x5699('0x135')]=Math[_0x5699('0xd6')](_0x5207e9[_0x5699('0x135')]);_0x5207e9['lowFramerate']=_0x111133['aggregatedStats']['lowFramerate']&&_0x111133[_0x5699('0x130')][_0x5699('0x14f')]<_0x5207e9[_0x5699('0x135')]?_0x111133[_0x5699('0x130')][_0x5699('0x14f')]:_0x5207e9[_0x5699('0x135')];_0x5207e9['highFramerate']=_0x111133[_0x5699('0x130')]['highFramerate']&&_0x111133[_0x5699('0x130')][_0x5699('0x61')]>_0x5207e9['framerate']?_0x111133[_0x5699('0x130')]['highFramerate']:_0x5207e9['framerate'];}if(_0x111133[_0x5699('0x130')][_0x5699('0x163')]){_0x5207e9['avgframerate']=(_0x5207e9['framesDecoded']-_0x111133[_0x5699('0x130')]['framesDecodedStart'])/((_0x5207e9[_0x5699('0xe')]-_0x111133[_0x5699('0x130')][_0x5699('0xc1')])/0x3e8);_0x5207e9['avgframerate']=Math['floor'](_0x5207e9['avgframerate']);}}}if(_0xa765a8['type']=='track'&&(_0xa765a8['trackIdentifier']==_0x5699('0x169')||_0xa765a8['kind']==_0x5699('0x139'))){_0x5207e9['framesDropped']=_0xa765a8[_0x5699('0x136')];_0x5207e9['framesReceived']=_0xa765a8['framesReceived'];_0x5207e9[_0x5699('0xfe')]=_0xa765a8[_0x5699('0x136')]/_0xa765a8['framesReceived']*0x64;_0x5207e9['frameHeight']=_0xa765a8[_0x5699('0xde')];_0x5207e9[_0x5699('0x4c')]=_0xa765a8['frameWidth'];_0x5207e9[_0x5699('0x159')]=_0x111133['aggregatedStats']&&_0x111133[_0x5699('0x130')][_0x5699('0x159')]?_0x111133[_0x5699('0x130')][_0x5699('0x159')]:_0xa765a8['frameHeight'];_0x5207e9['frameWidthStart']=_0x111133[_0x5699('0x130')]&&_0x111133['aggregatedStats'][_0x5699('0x147')]?_0x111133[_0x5699('0x130')][_0x5699('0x147')]:_0xa765a8[_0x5699('0x4c')];}if(_0xa765a8[_0x5699('0xe3')]=='candidate-pair'&&_0xa765a8['hasOwnProperty'](_0x5699('0x12f'))&&_0xa765a8[_0x5699('0x12f')]!=0x0){_0x5207e9[_0x5699('0x12f')]=_0xa765a8[_0x5699('0x12f')];}});if(_0x111133['aggregatedStats']['receiveToCompositeMs']){_0x5207e9[_0x5699('0x111')]=_0x111133['aggregatedStats']['receiveToCompositeMs'];_0x111133['latencyTestTimings'][_0x5699('0xd4')](_0x111133[_0x5699('0x130')][_0x5699('0x111')]);}_0x111133[_0x5699('0x130')]=_0x5207e9;if(_0x111133['onAggregatedStats'])_0x111133[_0x5699('0xf5')](_0x5207e9);};};setupTracksToSendAsync=async function(_0x4aa0c4){_0x4aa0c4[_0x5699('0x107')](_0x5699('0x139'),{'direction':'recvonly'});if(!_0x111133[_0x5699('0xaf')]){_0x4aa0c4['addTransceiver'](_0x5699('0x63'),{'direction':'recvonly'});}else{let _0x42875e=_0x111133['useMic']?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x1668d0=await navigator[_0x5699('0x133')]['getUserMedia']({'video':![],'audio':_0x42875e});if(_0x1668d0){for(const _0x39c2f6 of _0x1668d0['getTracks']()){if(_0x39c2f6[_0x5699('0x11a')]&&_0x39c2f6['kind']==_0x5699('0x63')){_0x4aa0c4['addTransceiver'](_0x39c2f6,{'direction':_0x5699('0x37')});}}}else{_0x4aa0c4[_0x5699('0x107')](_0x5699('0x63'),{'direction':_0x5699('0x14b')});}}};this[_0x5699('0x14')]=function(_0x1534fa){if(!_0x111133[_0x5699('0x139')]){return;}_0x111133[_0x5699('0xd2')][_0x5699('0x8a')]();_0x111133['latencyTestTimings']['TestStartTimeMs']=Date['now']();_0x1534fa(_0x111133[_0x5699('0xd2')]['TestStartTimeMs']);};this['handleCandidateFromServer']=function(_0x372af8){console['log']('ICE\x20candidate:\x20',_0x372af8);let _0x59ab31=new RTCIceCandidate(_0x372af8);_0x111133[_0x5699('0x62')]['addIceCandidate'](_0x59ab31)['then'](_0x5a3bbb=>{console['log'](_0x5699('0x4e'));});};this['createOffer']=function(){if(_0x111133[_0x5699('0x62')]){console[_0x5699('0x1b')]('Closing\x20existing\x20PeerConnection');_0x111133['pcClient']['close']();_0x111133['pcClient']=null;}_0x111133['pcClient']=new RTCPeerConnection(_0x111133[_0x5699('0x105')]);setupTracksToSendAsync(_0x111133['pcClient'])['finally'](function(){setupPeerConnection(_0x111133['pcClient']);_0x111133[_0x5699('0x11b')]=setupDataChannel(_0x111133[_0x5699('0x62')],'cirrus',_0x111133[_0x5699('0x88')]);handleCreateOffer(_0x111133[_0x5699('0x62')]);});};this[_0x5699('0x27')]=function(_0x21adc1){var _0x258749=new RTCSessionDescription(_0x21adc1);_0x111133[_0x5699('0x62')]['setRemoteDescription'](_0x258749);let _0x54a147=_0x111133[_0x5699('0x62')]['getReceivers']();for(let _0x594c86 of _0x54a147){_0x594c86[_0x5699('0x154')]=0x0;}};this['close']=function(){if(_0x111133[_0x5699('0x62')]){console[_0x5699('0x1b')]('Closing\x20existing\x20peerClient');_0x111133['pcClient']['close']();_0x111133['pcClient']=null;}if(_0x111133['aggregateStatsIntervalId'])clearInterval(_0x111133['aggregateStatsIntervalId']);};this[_0x5699('0x140')]=function(_0x43f428){if(_0x111133['dcClient']&&_0x111133[_0x5699('0x11b')]['readyState']=='open'){_0x111133[_0x5699('0x11b')][_0x5699('0x140')](_0x43f428);}};this[_0x5699('0x112')]=function(_0x3cbb74){if(_0x111133[_0x5699('0x62')]&&_0x3cbb74){_0x111133['pcClient'][_0x5699('0x112')](null)[_0x5699('0x42')](_0x5b4027=>{_0x3cbb74(_0x5b4027);});}};this['aggregateStats']=function(_0x5022bd){let _0x5a3140=generateAggregatedStatsFunction();let _0x343e71=()=>{_0x111133['getStats'](_0x5a3140);};_0x111133[_0x5699('0xfa')]=setInterval(_0x343e71,_0x5022bd);};};return _0x4dba61;}));_0x5699('0xfd');var MapVision=window['MapVision']||{};MapVision[_0x5699('0x138')]=()=>{return _0x5699('0x13');};MapVision[_0x5699('0x12')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision[_0x5699('0x4d')]={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x5699('0x65')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x5699('0x6a')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x5699('0x164')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision[_0x5699('0x13b')]={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'GetBuildVersion':0x186a9,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'SetNorth':0x18713,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'GetScenceSunInfo':0x1872d,'SetScenceSunInfo':0x1872e,'PlayRouteModel':0x18762,'RePlayRouteModel':0x18763,'PauseRouteModel':0x18764,'StopRouteModel':0x18765,'ResumeRouteModel':0x18766,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'StreamVideoCloseAll':0x1877f,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'UpdateObjects':0x187a7,'ResetObjects':0x187a8,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision[_0x5699('0x25')]=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x5699('0x3b')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision[_0x5699('0xd5')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this['pitch']=0x0;this[_0x5699('0xee')]=0x0;this['roll']=0x0;};MapVision[_0x5699('0x90')]=function(){this[_0x5699('0xe3')]=_0x5699('0x12d');this['gid']=0x1;this['name']='';this[_0x5699('0xf4')]='';this[_0x5699('0xb2')]=new MapVision['Position']();};MapVision['Model3D']=function(){this[_0x5699('0xe3')]=_0x5699('0x143');this['gid']=0x1;this['name']='';this[_0x5699('0xf4')]='';this[_0x5699('0xb2')]=new MapVision['Position']();};MapVision[_0x5699('0x80')]=function(){this['type']=_0x5699('0x46');this['gid']=0x1;this[_0x5699('0x122')]='';this['style']='';this['geom']=[];};MapVision['Polygon']=function(){this[_0x5699('0xe3')]='polygon';this[_0x5699('0x13f')]=0x1;this[_0x5699('0x122')]='';this['style']='';this['geom']=[];};MapVision[_0x5699('0x116')]=function(){this[_0x5699('0xe3')]=_0x5699('0x12a');this['gid']=0x0;this[_0x5699('0x122')]='';this['floors']=[{'type':'floor','gid':0x0,'name':''}];this[_0x5699('0xb2')]=new MapVision['Position']();};MapVision['WS_OPEN_STATE']=0x1;MapVision[_0x5699('0xb9')]=function(_0x4fff75){this['id']=_0x4fff75['id'];this['name']='MapVision.View3d';this['url']=_0x4fff75[_0x5699('0xd0')];this['projectId']=_0x4fff75[_0x5699('0x2d')];this['token']=_0x4fff75[_0x5699('0x3')];this['enableKeyboard']=!![];this['enableMouse']=!![];this[_0x5699('0x15c')]=null;this[_0x5699('0xa8')]=null;this[_0x5699('0xa4')]=null;this['_webSocket']=null;this[_0x5699('0x28')]={'id':'cmd'};this['_mouseDownStatus']=![];this[_0x5699('0x87')]=null;this['_onMouseSelectedObj']=null;this[_0x5699('0x69')]=null;this[_0x5699('0x110')]=null;this['_onMouseMoveCallback']=null;};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xe4')]=function(_0x396cda){let _0x4e647e=this;_0x4e647e['_registerCallback']=_0x396cda;if(_0x4e647e['id']==''||_0x4e647e['url']==''||_0x4e647e[_0x5699('0x2d')]==''){if(_0x4e647e[_0x5699('0x15c')]){const _0x4aac1c={'code':0xc9,'msg':'Parameter\x20ERROR'};_0x4e647e[_0x5699('0x15c')](_0x4aac1c);}return;}window['WebSocket']=window[_0x5699('0x64')]||window[_0x5699('0xa3')];if(!window['WebSocket']){if(_0x4e647e[_0x5699('0x15c')]){const _0x53b13d={'code':0x1f9,'msg':'Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.'};_0x4e647e['_registerCallback'](_0x53b13d);}return;}const _0x4d7f01=_0x4e647e[_0x5699('0xbe')];if(_0x4d7f01){_0x4d7f01['close']();_0x4e647e[_0x5699('0xbe')]=undefined;console[_0x5699('0x1b')]('\x20_webSocket\x20closed\x20');_0x4e647e['_unregisterEvents'](_0x4e647e['_webRtcPlayerHtmlElement']);}if(_0x4e647e[_0x5699('0xd0')]['indexOf'](_0x5699('0x5f'))<0x0){let _0x559e4c=_0x4e647e[_0x5699('0xd0')]['replace'](_0x5699('0xbb'),'');_0x559e4c=_0x559e4c['replace']('/','');_0x559e4c=_0x5699('0x103')+_0x559e4c;_0x559e4c=_0x559e4c[_0x5699('0xf1')](_0x5699('0xb5'),'//');console[_0x5699('0x1b')](_0x559e4c);_0x4e647e['_connectWebsocket'](_0x559e4c);return;}const _0x3bd59a={'httpUrl':_0x4e647e[_0x5699('0xd0')]+'/project3d/getInfo?id='+_0x4e647e['projectId']+'&token='+_0x4e647e['token'],'type':_0x5699('0xe0')};setTimeout(()=>{_0x4e647e[_0x5699('0x158')](_0x3bd59a,function(_0x51fd62){if(_0x51fd62[_0x5699('0x3a')]&&_0x51fd62[_0x5699('0x3a')]===0xc8){const _0x34870d=_0x51fd62['data'];if(_0x34870d['port']<0xa){console['log']('aimapvision3d\x20server\x20is\x20not\x20started.');if(_0x4e647e[_0x5699('0x15c')]){const _0x2be292={'code':0x12c,'msg':_0x5699('0x35')};_0x4e647e['_registerCallback'](_0x2be292);}return;}let _0xb7c3cd=_0x4e647e['url']['replace']('http://','');const _0x51f103=_0xb7c3cd[_0x5699('0xbd')](':',0x0);if(_0x51f103>0x0)_0xb7c3cd=_0xb7c3cd[_0x5699('0x7e')](0x0,_0x51f103);_0xb7c3cd='ws://'+_0xb7c3cd+':'+_0x34870d[_0x5699('0x77')];_0x4e647e[_0x5699('0x11f')](_0xb7c3cd);}else{console[_0x5699('0x1b')](_0x51fd62);if(_0x4e647e['_registerCallback']){_0x4e647e[_0x5699('0x15c')](_0x51fd62);}}},function(){if(_0x4e647e['_registerCallback']){const _0x1c0712={'code':0x1f4,'msg':_0x5699('0xbf')};_0x4e647e['_registerCallback'](_0x1c0712);}});},0x64);};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x6c')]=function(){let _0xe621fb=this;const _0x5c0bba=_0xe621fb['_webSocket'];if(_0x5c0bba){_0xe621fb[_0x5699('0x157')]();_0x5c0bba['close']();_0xe621fb[_0x5699('0xbe')]=undefined;console[_0x5699('0x1b')](_0x5699('0x6b'));}};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0xf2')]=function(_0x5cce69,_0x507463){if(_0x5cce69==='onmousedown'){this['_onMouseDownCallback']=_0x507463;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['SetMouseCallback']);}else if(_0x5cce69===_0x5699('0x74')){this[_0x5699('0x96')]=_0x507463;}else if(_0x5cce69===_0x5699('0x14e')){this['_onMouseUpCallback']=_0x507463;}else{this[_0x5699('0x15c')]=_0x507463;}};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x157')]=function(){if(!this['_webSocket']&&this[_0x5699('0xa8')]){this['_unregisterEvents'](this['_webRtcPlayerHtmlElement']);}this['_onMouseDownCallback']=null;this[_0x5699('0x96')]=null;this[_0x5699('0x110')]=null;this[_0x5699('0x15c')]=null;};MapVision[_0x5699('0xb9')]['prototype']['IsClose']=function(){const _0x5f3460=this[_0x5699('0xbe')]===undefined;return _0x5f3460;};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x44')]=function(_0x24ae13){this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x44')],_0x24ae13);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x7f')]=function(_0x8f09a8,_0x790804){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x7f')],{'width':_0x8f09a8,'height':_0x790804});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['GetBuildVersion']=function(_0x27f7b2){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['GetBuildVersion']]=_0x27f7b2;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['GetBuildVersion']);};MapVision[_0x5699('0xb9')]['prototype']['SetMapStatus']=function(_0x179bf5,_0x1e1e03){this[_0x5699('0x28')][MapVision['CommandType']['SetMapStatus']]=_0x1e1e03;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x8')],{'mapstatus':_0x179bf5});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['Clear']=function(){this['_onMouseSelectedObj']=null;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x22')]);};MapVision['View3d']['prototype']['Stop']=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x5699('0x65')]['KeyUp'],0x57])[_0x5699('0xab')]);this['_sendInputData'](new Uint8Array([MapVision[_0x5699('0x65')][_0x5699('0x97')],0x53])[_0x5699('0xab')]);this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x5699('0x97')],0x44])[_0x5699('0xab')]);this[_0x5699('0x24')](new Uint8Array([MapVision[_0x5699('0x65')][_0x5699('0x97')],0x41])[_0x5699('0xab')]);this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x5699('0x97')],0x25])[_0x5699('0xab')]);this['_sendInputData'](new Uint8Array([MapVision[_0x5699('0x65')][_0x5699('0x97')],0x26])['buffer']);this[_0x5699('0x24')](new Uint8Array([MapVision[_0x5699('0x65')]['KeyUp'],0x27])['buffer']);this[_0x5699('0x24')](new Uint8Array([MapVision[_0x5699('0x65')][_0x5699('0x97')],0x28])[_0x5699('0xab')]);this['_emiUICommand'](MapVision[_0x5699('0x13b')]['Stop']);};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x68')]=function(){this['_emiUICommand'](MapVision['CommandType']['ResetHome']);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x84')]=function(_0x46795c,_0x59cd8d,_0x1a71ed,_0x4084f1,_0x18fb5b){let _0x5425ce={};if(_0x46795c){_0x5425ce[_0x5699('0x126')]=_0x46795c;}if(_0x59cd8d){_0x5425ce['radio']=_0x59cd8d;}if(_0x1a71ed){_0x5425ce[_0x5699('0x82')]=_0x1a71ed;}if(_0x4084f1){_0x5425ce[_0x5699('0x13f')]=_0x4084f1;}if(_0x18fb5b){_0x5425ce[_0x5699('0x11c')]=_0x18fb5b;}this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x84')],{'gid':_0x4084f1,'pitch':_0x46795c,'radio':_0x59cd8d,'distance':_0x1a71ed,'highlight':_0x18fb5b});};MapVision[_0x5699('0xb9')]['prototype']['GetCurrentPosition']=function(_0x555684){this['_callback'][MapVision['CommandType']['GetCurrentPosition']]=_0x555684;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x156')]);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xd')]=function(_0x55c44f,_0x5bd95a){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0xd')]]=_0x5bd95a;const _0x85ac2e=[];_0x55c44f['forEach'](_0x46e31f=>{_0x85ac2e[_0x5699('0xe8')]({'gid':_0x46e31f[_0x5699('0x13f')]});});this['_emiUICommand'](MapVision['CommandType']['GetScrrenPosition'],{'objects':_0x85ac2e});};MapVision[_0x5699('0xb9')]['prototype']['GetScenceSunInfo']=function(_0x1e1670){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['GetScenceSunInfo']]=_0x1e1670;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['GetScenceSunInfo']);};MapVision['View3d']['prototype'][_0x5699('0x125')]=function(_0xe63c48,_0x32461c){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['SetScenceSunInfo'],_0xe63c48);};MapVision['View3d'][_0x5699('0x3c')]['SetMouseCallback']=function(_0x17fa7d){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['SetMouseCallback']]=_0x17fa7d;this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x1a')]);};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x123')]=function(_0x213bb1){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0x123')]]=_0x213bb1;this[_0x5699('0x17')](MapVision['CommandType']['SetMousePositionCallback']);};MapVision['View3d'][_0x5699('0x3c')]['SetNorth']=function(_0xe1c496){this[_0x5699('0x17')](MapVision['CommandType']['SetNorth'],{'angle':_0xe1c496});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['OpenMap']=function(_0x306ab9){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0xc2')],{'mapname':_0x306ab9});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0xa7')]=function(_0x53a819){this[_0x5699('0x28')][MapVision['CommandType']['GetHomePosition']]=_0x53a819;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0xa7')]);};MapVision['View3d']['prototype'][_0x5699('0x109')]=function(_0xa14fad,_0x2bb17c){_0xa14fad[_0x5699('0x8f')]=_0x2bb17c;this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x109')],_0xa14fad);};MapVision[_0x5699('0xb9')]['prototype']['FlyToPosition']=function(_0x2f0661,_0x3e528b,_0x401001){_0x2f0661['showlocation']=_0x3e528b;_0x2f0661['speed']=_0x401001;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x9c')],_0x2f0661);};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x1e')]=function(_0x1a9f46,_0x24e84c,_0x19ed4d){_0x1a9f46[_0x5699('0x8f')]=_0x24e84c;_0x1a9f46[_0x5699('0x145')]=_0x19ed4d;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['FlyToObject'],_0x1a9f46);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['FlyToObjectById']=function(_0x26f9a5,_0x355342,_0x49334e,_0x5e08df,_0x4dbf52){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x13d')],{'gid':_0x26f9a5,'showlocation':_0x355342,'distance':_0x5e08df,'speed':_0x4dbf52,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x49334e,'yaw':0x0,'roll':0x0}});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x53')]=function(_0x1f2cd6,_0x3971fb){this[_0x5699('0x28')][MapVision['CommandType'][_0x5699('0x53')]]=_0x3971fb;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x53')],{'gid':_0x1f2cd6});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['FindObjectByName']=function(_0x1e7690,_0x3d936f){this['_callback'][MapVision[_0x5699('0x13b')]['FindObjectByName']]=_0x3d936f;this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x8c')],{'gid':_0x1e7690,'name':_0x1e7690});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x14c')]=function(_0xa867ab,_0x4eb13b,_0xeacdef){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['FindObjectByPrefix']]=_0xeacdef;if(!_0x4eb13b)_0x4eb13b=0x14;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x14c')],{'gid':_0xa867ab,'limit':_0x4eb13b});};MapVision['View3d']['prototype']['GetSelectedObject']=function(_0x15a090){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['GetSelectedObject']]=_0x15a090;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['GetSelectedObject']);};MapVision['View3d']['prototype'][_0x5699('0x30')]=function(_0x6041e){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x30')],_0x6041e);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['UpdateObjectStyle']=function(_0x300b58,_0x491bcd,_0x492110){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x114')],{'gid':_0x300b58,'style':_0x491bcd,'color':_0x492110});};MapVision[_0x5699('0xb9')]['prototype']['ClearObjectStyle']=function(_0x499baf){if(_0x499baf){this[_0x5699('0x17')](MapVision['CommandType']['UpdateObjectStyle'],{'gid':_0x499baf,'style':'default','color':'#ff0000'});}else{this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x11')]);}};MapVision['View3d']['prototype']['GetObjectsVisible']=function(_0x37acf3){this['_callback'][MapVision['CommandType'][_0x5699('0xc5')]]=_0x37acf3;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['GetObjectsVisible']);};MapVision['View3d']['prototype']['SetObjectsVisible']=function(_0x52e2bf){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0xcb')],{'objects':_0x52e2bf});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x83')]=function(_0x217943){this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x83')],{'objects':_0x217943});};MapVision['View3d']['prototype'][_0x5699('0x142')]=function(){this[_0x5699('0x17')](MapVision['CommandType']['ResetObjects']);};MapVision['View3d']['prototype']['SetObjectHighlight']=function(_0x22294c){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x56')],{'gid':_0x22294c});};MapVision['View3d']['prototype']['SetObjectsHighlight']=function(_0x508b53){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0xe9')],{'objects':_0x508b53});};MapVision['View3d']['prototype'][_0x5699('0x5d')]=function(_0x486f7e){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x5d')],{'prefix':_0x486f7e});};MapVision['View3d'][_0x5699('0x3c')]['ClearHighlight']=function(){this['_emiUICommand'](MapVision[_0x5699('0x13b')]['ClearHighlight']);};MapVision[_0x5699('0xb9')]['prototype']['UpdateObjectVisible']=function(_0x54bf67,_0x1408e4){this['_emiUICommand'](MapVision['CommandType']['UpdateObjectVisible'],{'gid':_0x54bf67,'visible':_0x1408e4});};MapVision['View3d'][_0x5699('0x3c')]['UpdateObjectVisibleByPrefix']=function(_0x285232,_0x3ee2fc){this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x4f')],{'gid':_0x285232,'visible':_0x3ee2fc});};MapVision[_0x5699('0xb9')]['prototype']['CreateObject']=function(_0x1413fa){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x148')],_0x1413fa);};MapVision[_0x5699('0xb9')]['prototype']['CreateRoute']=function(_0x21793b,_0x2f9901){this['_callback'][MapVision[_0x5699('0x13b')]['CreateRoute']]=_0x2f9901;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0xd3')],_0x21793b);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['StartRoute']=function(_0x486fa7,_0x5b3c65){this['_callback'][MapVision['CommandType']['StartRoute']]=_0x5b3c65;this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0xd9')],_0x486fa7);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x32')]=function(_0x3777c3){this['_callback'][MapVision[_0x5699('0x13b')]['PlayRoute']]=_0x3777c3;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x32')]);};MapVision['View3d'][_0x5699('0x3c')]['PauseRoute']=function(){this['_emiUICommand'](MapVision[_0x5699('0x13b')]['PauseRoute']);};MapVision['View3d'][_0x5699('0x3c')]['StopRoute']=function(){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0xfc')]);};MapVision['View3d']['prototype'][_0x5699('0x9a')]=function(_0xa6bfae){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0x9a')]]=_0xa6bfae;this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x9a')]);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['PlayRouteModel']=function(_0x44fd07){this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x117')],{'gid':_0x44fd07});};MapVision['View3d']['prototype']['RePlayRouteModel']=function(_0x5535fd){this['_emiUICommand'](MapVision['CommandType']['RePlayRouteModel'],{'gid':_0x5535fd});};MapVision['View3d']['prototype'][_0x5699('0x102')]=function(_0x54a10e){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['PauseRouteModel'],{'gid':_0x54a10e});};MapVision[_0x5699('0xb9')]['prototype']['StopRouteModel']=function(_0x161286){this[_0x5699('0x17')](MapVision['CommandType']['StopRouteModel'],{'gid':_0x161286});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['ResumeRouteModel']=function(_0x24c305){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x39')],{'gid':_0x24c305});};MapVision[_0x5699('0xb9')]['prototype']['PlaySequence']=function(_0xd874f3){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x52')],{'gid':_0xd874f3});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['PauseSequence']=function(_0x24ee97){this[_0x5699('0x17')](MapVision['CommandType']['PauseSequence'],{'gid':_0x24ee97});};MapVision[_0x5699('0xb9')]['prototype']['IsPlayingSequence']=function(_0x200f13,_0x4059b7){this['_callback'][MapVision['CommandType']['IsPlayingSequence']]=_0x4059b7;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x94')],{'gid':_0x200f13});};MapVision[_0x5699('0xb9')]['prototype']['IsPausedSequence']=function(_0x110095,_0x25ecc5){this['_callback'][MapVision['CommandType'][_0x5699('0x9f')]]=_0x25ecc5;this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x9f')],{'gid':_0x110095});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x47')]=function(_0x33e094,_0x541f43){this[_0x5699('0x17')](MapVision['CommandType']['StopSequence'],{'gid':_0x33e094});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0xb8')]=function(_0x2b4c3e){this[_0x5699('0x17')](MapVision['CommandType']['StreamVideoOpen'],_0x2b4c3e);};MapVision['View3d'][_0x5699('0x3c')]['StreamVideoClose']=function(_0x82c826){if(!_0x82c826)_0x82c826=0x0;this[_0x5699('0x17')](MapVision['CommandType']['StreamVideoClose'],{'index':_0x82c826});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x43')]=function(){this[_0x5699('0x17')](MapVision['CommandType']['StreamVideoCloseAll']);};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x19')]=function(_0xfdb658){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['GetBuildingNum']]=_0xfdb658;this['_emiUICommand'](MapVision['CommandType']['GetBuildingNum']);};MapVision['View3d']['prototype']['GetBuildingName']=function(_0x1d1bfb,_0x5b0c80){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['GetBuildingName']]=_0x5b0c80;this['_emiUICommand'](MapVision['CommandType'][_0x5699('0xd7')],{'bindex':_0x1d1bfb});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['GetBuildingNames']=function(_0x5210bc){this['_callback'][MapVision[_0x5699('0x13b')]['GetBuildingNames']]=_0x5210bc;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['GetBuildingNames']);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['GetBuildingVisible']=function(_0x4589e7,_0xc97d0){this['_callback'][MapVision[_0x5699('0x13b')]['GetBuildingVisible']]=_0xc97d0;this['_emiUICommand'](MapVision['CommandType']['GetBuildingVisible'],{'gid':_0x4589e7});};MapVision[_0x5699('0xb9')]['prototype']['SetBuildingVisible']=function(_0x4960d1,_0x287a7f,_0x5590bc){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0xbc')],{'gid':_0x4960d1,'visible':_0x287a7f,'opacity':_0x5590bc});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x11e')]=function(_0x43c54c,_0x15e074,_0x354ae2){this['_emiUICommand'](MapVision['CommandType']['SetBuildingWkVisible'],{'gid':_0x43c54c,'visible':_0x15e074,'opacity':_0x354ae2});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0xdb')]=function(){this[_0x5699('0x17')](MapVision['CommandType']['ResetAllBuildings']);};MapVision['View3d'][_0x5699('0x3c')]['SplitBuilding']=function(_0x3ca855,_0x1dbb57){this['_emiUICommand'](MapVision['CommandType']['SplitBuilding'],{'gid':_0x3ca855,'offset':_0x1dbb57});};MapVision['View3d']['prototype'][_0x5699('0x9b')]=function(_0x311d2d){this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x9b')],{'gid':_0x311d2d});};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x7b')]=function(_0x5c156b,_0x504887){this[_0x5699('0x17')](MapVision['CommandType']['SplitDynamicBuilding'],{'gid':_0x5c156b,'offset':_0x504887});};MapVision[_0x5699('0xb9')]['prototype']['SplitDynamicFloor']=function(_0x2597d2,_0xa4681,_0x5ab2d1){this['_emiUICommand'](MapVision[_0x5699('0x13b')]['SplitDynamicFloor'],{'gid':_0x2597d2,'floor':_0xa4681,'offset':_0x5ab2d1});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x20')]=function(_0x49bfd3,_0x4a1f5c){this[_0x5699('0x17')](MapVision['CommandType']['SplitFloorReset'],{'gid':_0x49bfd3,'floor':_0x4a1f5c});};MapVision['View3d']['prototype'][_0x5699('0x108')]=function(_0x3bf89e,_0x17b255){this[_0x5699('0x28')][MapVision['CommandType']['GetFloorNum']]=_0x17b255;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0x108')],{'gid':_0x3bf89e});};MapVision['View3d']['prototype']['GetFloorName']=function(_0x583313,_0x54725e){this['_callback'][MapVision[_0x5699('0x13b')]['GetFloorNames']]=_0x54725e;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x2a')],{'gid':_0x583313});};MapVision['View3d']['prototype'][_0x5699('0x2a')]=function(_0x579bb6,_0x6e9982){this['_callback'][MapVision[_0x5699('0x13b')]['GetFloorNames']]=_0x6e9982;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['GetFloorNames'],{'gid':_0x579bb6});};MapVision['View3d']['prototype'][_0x5699('0x4')]=function(_0x31236e,_0x197b05,_0xf1782b){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0x4')]]=_0xf1782b;this[_0x5699('0x17')](MapVision['CommandType']['GetFloorVisible'],{'gid':_0x31236e,'floor':_0x197b05});};MapVision[_0x5699('0xb9')]['prototype']['SetFloorVisible']=function(_0x527535,_0x58d6c8,_0x3877f1,_0x28f4e7){if(!_0x3877f1)_0x3877f1=![];if(!_0x28f4e7)_0x28f4e7=0x0;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['SetFloorVisible'],{'gid':_0x527535,'floor':_0x58d6c8,'visible':_0x3877f1,'opacity':_0x28f4e7});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['GetUpFloorNum']=function(_0x6d3efd,_0x1311bf,_0x53d98f){this[_0x5699('0x28')][MapVision['CommandType'][_0x5699('0x78')]]=_0x53d98f;this[_0x5699('0x17')](MapVision['CommandType']['GetUpFloorNum'],{'gid':_0x6d3efd,'floor':_0x1311bf});};MapVision['View3d']['prototype'][_0x5699('0xda')]=function(_0x3010f5,_0x3b5f9f,_0x3c158e){this['_callback'][MapVision[_0x5699('0x13b')][_0x5699('0xda')]]=_0x3c158e;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0xda')],{'gid':_0x3010f5,'floor':_0x3b5f9f});};MapVision['View3d']['prototype'][_0x5699('0xe5')]=function(_0x5a2acc,_0x15e8c1,_0x5dc65e){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0xe5')]]=_0x5dc65e;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['GetDownFloorNum'],{'gid':_0x5a2acc,'floor':_0x15e8c1});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x16b')]=function(_0x1c2b1e,_0x2bc186,_0x30ca3a){this[_0x5699('0x28')][MapVision['CommandType'][_0x5699('0x16b')]]=_0x30ca3a;this['_emiUICommand'](MapVision['CommandType']['GetDownFloorNames'],{'gid':_0x1c2b1e,'floor':_0x2bc186});};MapVision[_0x5699('0xb9')]['prototype']['GetFloorRoomNum']=function(_0x5bcce5,_0x25360b,_0x221f6d){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['GetFloorRoomNum']]=_0x221f6d;this['_emiUICommand'](MapVision['CommandType'][_0x5699('0xa')],{'gid':_0x5bcce5,'floor':_0x25360b});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xc9')]=function(_0x9bcff6,_0x32e19e,_0x529280){this['_callback'][MapVision['CommandType']['GetFloorRoomNames']]=_0x529280;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0xea')],{'gid':_0x9bcff6,'floor':_0x32e19e});};MapVision[_0x5699('0xb9')]['prototype']['GetFloorRoomNames']=function(_0x970622,_0x3cfcf7,_0x12b20f){this[_0x5699('0x28')][MapVision['CommandType']['GetFloorRoomNames']]=_0x12b20f;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['GetFloorRoomNames'],{'gid':_0x970622,'floor':_0x3cfcf7});};MapVision['View3d'][_0x5699('0x3c')]['GetFloorRoomVisible']=function(_0x5d1cfe,_0x3d7506,_0x80c32a,_0x514671){this['_callback'][MapVision[_0x5699('0x13b')][_0x5699('0x70')]]=_0x514671;this['_emiUICommand'](MapVision['CommandType']['GetFloorRoomVisible'],{'gid':_0x5d1cfe,'floor':_0x3d7506,'room':_0x80c32a});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['SetFloorRoomVisible']=function(_0x6d5533,_0x527558,_0x3192af,_0x484bb2,_0xce223a){if(!_0x484bb2)_0x484bb2=![];if(!_0xce223a)_0xce223a=0x0;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['SetFloorRoomVisible'],{'gid':_0x6d5533,'floor':_0x527558,'room':_0x3192af,'visible':_0x484bb2,'opacity':_0xce223a});};MapVision['View3d'][_0x5699('0x3c')]['GetFloorDeviceNum']=function(_0x3cc76a,_0x6dec62,_0x19fb39){this['_callback'][MapVision[_0x5699('0x13b')][_0x5699('0xa5')]]=_0x19fb39;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['GetFloorDeviceNum'],{'gid':_0x3cc76a,'floor':_0x6dec62});};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0xb6')]=function(_0xbf1070,_0x2f08f4,_0x23819a){this['_callback'][MapVision['CommandType']['GetFloorDeviceNames']]=_0x23819a;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['GetFloorDeviceNames'],{'gid':_0xbf1070,'floor':_0x2f08f4});};MapVision[_0x5699('0xb9')]['prototype']['GetFloorDeviceNames']=function(_0x5ced53,_0x59912d,_0x521f42){this['_callback'][MapVision['CommandType'][_0x5699('0x15d')]]=_0x521f42;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['GetFloorDeviceNames'],{'gid':_0x5ced53,'floor':_0x59912d});};MapVision[_0x5699('0xb9')]['prototype']['GetFloorDeviceVisible']=function(_0xa2760f,_0x4d7205,_0x4dcddf,_0xbe2f9b){this[_0x5699('0x28')][MapVision['CommandType']['GetFloorDeviceVisible']]=_0xbe2f9b;this['_emiUICommand'](MapVision[_0x5699('0x13b')]['GetFloorDeviceVisible'],{'gid':_0xa2760f,'floor':_0x4d7205,'device':_0x4dcddf});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x6')]=function(_0x465676,_0x52b5b9,_0x34c1bc,_0x197304,_0x4e627c){if(!_0x197304)_0x197304=![];if(!_0x4e627c)_0x4e627c=0x0;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0x6')],{'gid':_0x465676,'floor':_0x52b5b9,'device':_0x34c1bc,'visible':_0x197304,'opacity':_0x4e627c});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['SetGroundVisible']=function(_0x5321b1){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0xdf')],{'visible':_0x5321b1});};MapVision['View3d']['prototype'][_0x5699('0x76')]=function(_0x46ba8a,_0x386a86){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['OverLayerStartEdit']]=_0x386a86;this['_emiUICommand'](MapVision['CommandType']['OverLayerStartEdit'],_0x46ba8a);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['OverLayerStopEdit']=function(){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x29')]);};MapVision[_0x5699('0xb9')]['prototype']['OverLayerSelectObjectEdit']=function(_0x4f76e){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0xf6')]]=_0x4f76e;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xdd')]=function(_0x1ce703,_0x5ee875){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['OverLayerFindObject']]=_0x5ee875;this[_0x5699('0x17')](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x1ce703});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x134')]=function(_0x85b226,_0x5c6c58){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')]['OverLayerCreateObject']]=_0x5c6c58;this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x134')],_0x85b226);};MapVision['View3d'][_0x5699('0x3c')]['OverLayerCreateObjects']=function(_0x596856,_0x3604bb){this[_0x5699('0x28')][MapVision['CommandType']['OverLayerCreateObjects']]=_0x3604bb;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['OverLayerCreateObjects'],{'shapes':_0x596856});};MapVision['View3d'][_0x5699('0x3c')]['OverLayerUpdateObject']=function(_0x21915e){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['OverLayerUpdateObject'],_0x21915e);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['OverLayerRemoveObject']=function(_0x2561d9){this[_0x5699('0x17')](MapVision[_0x5699('0x13b')][_0x5699('0xf')],_0x2561d9);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x54')]=function(_0x40faa0){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0xf')],{'gid':_0x40faa0});};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x86')]=function(_0x28e624){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x5')],{'ids':_0x28e624});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['OverLayerRemoveAll']=function(_0x5de86c){if(_0x5de86c){this[_0x5699('0x17')](MapVision['CommandType'][_0x5699('0x12c')],{'types':_0x5de86c});}else{this[_0x5699('0x17')](MapVision['CommandType']['OverLayerRemoveAll']);}};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xb7')]=function(_0x2b490f,_0x5768c8){this[_0x5699('0x28')][MapVision['CommandType'][_0x5699('0xb7')]]=_0x5768c8;this['_emiUICommand'](MapVision[_0x5699('0x13b')][_0x5699('0xb7')],_0x2b490f);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xf0')]=function(_0x25c2fd,_0x34285f){this[_0x5699('0x28')][MapVision[_0x5699('0x13b')][_0x5699('0xf0')]]=_0x34285f;this[_0x5699('0x17')](MapVision[_0x5699('0x13b')]['LayerReLoad'],_0x25c2fd);};MapVision['View3d'][_0x5699('0x3c')]['LayersLoad']=function(_0x47e76b,_0x3dbbc6){this[_0x5699('0x28')][MapVision['CommandType']['LayersLoad']]=_0x3dbbc6;this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x165')],{'layers':_0x47e76b});};MapVision[_0x5699('0xb9')]['prototype']['LayerSelectObject']=function(_0x5c01be,_0x44bfb6){this[_0x5699('0x28')][MapVision['CommandType'][_0x5699('0x98')]]=_0x44bfb6;this['_emiUICommand'](MapVision['CommandType'][_0x5699('0x98')],{'gid':_0x5c01be});};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x3d')]=function(_0x5c5675){this['_emiUICommand'](MapVision['CommandType']['LayerRemove'],{'gid':_0x5c5675});};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x95')]=function(_0x18e586,_0xadc3f8){this['_emiUICommand'](MapVision[_0x5699('0x13b')]['LayerSetVisible'],{'gid':_0x18e586,'visible':_0xadc3f8});};MapVision['View3d']['prototype']['SetNorthControl']=function(_0x5e1576,_0x3194ff,_0x1af1d9,_0x2044b1){this['_emiUICommand'](MapVision['CommandType']['NorthControl'],{'visible':_0x5e1576,'x':_0x3194ff,'y':_0x1af1d9,'scale':_0x2044b1});};MapVision['View3d'][_0x5699('0x3c')]['_connectWebsocket']=function(_0x2c8b9e){let _0x37c195=this;_0x37c195[_0x5699('0xbe')]=new WebSocket(_0x2c8b9e);_0x37c195[_0x5699('0xbe')][_0x5699('0x71')]=function(_0x488ba5){var _0xb57283=JSON['parse'](_0x488ba5[_0x5699('0x6d')]);if(_0xb57283[_0x5699('0xe3')]===_0x5699('0x150')){_0x37c195['_createWebRtcPlayer'](_0x37c195['id'],_0xb57283);}else if(_0xb57283['type']==='playerCount'){}else if(_0xb57283[_0x5699('0xe3')]==='answer'){_0x37c195[_0x5699('0x75')](_0xb57283);}else if(_0xb57283['type']===_0x5699('0x99')){_0x37c195[_0x5699('0x8d')](_0xb57283[_0x5699('0xc6')]);}else{console[_0x5699('0x1b')](_0x5699('0xe1')+_0xb57283[_0x5699('0xe3')]);}};_0x37c195[_0x5699('0xbe')]['onerror']=function(_0x12f6ef){console['log'](_0x5699('0x10a')+JSON[_0x5699('0x104')](_0x12f6ef));if(_0x37c195[_0x5699('0x15c')]){const _0x2fabd1={'code':0x64,'msg':'webSocket\x20connenect\x20error'};_0x37c195['_registerCallback'](_0x2fabd1);}};_0x37c195['_webSocket']['onclose']=function(_0x11a70a){console['log'](_0x5699('0x124')+JSON[_0x5699('0x104')](_0x11a70a['code'])+'\x20-\x20'+_0x11a70a[_0x5699('0x9d')]);_0x37c195['_webSocket']=undefined;let _0x1b5063=document['getElementById'](_0x37c195['id']);if(_0x37c195[_0x5699('0xa4')]){_0x1b5063['removeChild'](_0x37c195[_0x5699('0xa4')][_0x5699('0x139')]);_0x37c195['_webRtcPlayerObj'][_0x5699('0x1f')]();_0x37c195['_webRtcPlayerObj']=undefined;}if(_0x37c195['_registerCallback']){const _0x562295={'code':0x190,'msg':'websocket\x20closed'};_0x37c195['_registerCallback'](_0x562295);}};};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x5b')]=function(_0x7a152e){let _0x4139c7=this;_0x7a152e['onmousemove']=_0x1b8214=>{if(!_0x4139c7[_0x5699('0x41')]){return;}_0x4139c7[_0x5699('0x36')](_0x1b8214['offsetX'],_0x1b8214[_0x5699('0x106')],_0x1b8214[_0x5699('0x92')],_0x1b8214['movementY']);if(_0x4139c7[_0x5699('0xb')]&&_0x4139c7['_onMouseMoveCallback']){_0x4139c7[_0x5699('0x96')](_0x1b8214,_0x4139c7['_onMouseSelectedObj']);}_0x1b8214['preventDefault']();};_0x7a152e[_0x5699('0x118')]=_0xe7b102=>{_0x4139c7[_0x5699('0xb')]=!![];_0x4139c7[_0x5699('0x2b')]=null;if(!_0x4139c7['enableMouse']){return;}_0x4139c7[_0x5699('0xc3')](_0xe7b102[_0x5699('0xac')],_0xe7b102[_0x5699('0xd8')],_0xe7b102['offsetY']);setTimeout(function(){if(_0x4139c7['_onMouseDownCallback']){_0x4139c7[_0x5699('0x69')](_0xe7b102,_0x4139c7[_0x5699('0x2b')]);}},0x64);_0xe7b102[_0x5699('0x15')]();};_0x7a152e['onmouseup']=_0xdf293=>{_0x4139c7['_mouseDownStatus']=![];if(!_0x4139c7['enableMouse']){return;}_0x4139c7['_onMouseUp'](_0xdf293['button'],_0xdf293['offsetX'],_0xdf293[_0x5699('0x106')]);if(_0x4139c7['_onMouseUpCallback']){_0x4139c7[_0x5699('0x110')](_0xdf293,_0x4139c7['_onMouseSelectedObj']);}_0xdf293['preventDefault']();};_0x7a152e[_0x5699('0x33')]=_0x61f3b2=>{if(!_0x4139c7['enableMouse']){return;}_0x4139c7[_0x5699('0x7')](_0x61f3b2[_0x5699('0xac')],_0x61f3b2['offsetX'],_0x61f3b2[_0x5699('0x106')]);_0x61f3b2[_0x5699('0x15')]();};if('onmousewheel'in _0x7a152e){_0x7a152e[_0x5699('0x141')]=_0xbc05bd=>{if(!_0x4139c7['enableMouse']){return;}_0x4139c7['_onMouseWheel'](_0xbc05bd['wheelDelta'],_0xbc05bd[_0x5699('0xd8')],_0xbc05bd['offsetY']);_0xbc05bd[_0x5699('0x15')]();};}else{_0x7a152e['addEventListener']('DOMMouseScroll',_0x6051c5=>{if(!_0x4139c7['enableMouse']){return;}_0x4139c7['_onMouseWheel'](_0x6051c5[_0x5699('0x137')]*-0x78,_0x6051c5[_0x5699('0xd8')],_0x6051c5['offsetY']);_0x6051c5['preventDefault']();},![]);}_0x7a152e[_0x5699('0xcf')]=_0x497770=>{if(!_0x4139c7[_0x5699('0x41')]){return;}_0x4139c7['_pressMouseButtons'](_0x497770['buttons'],_0x497770['offsetX'],_0x497770[_0x5699('0x106')]);};_0x7a152e['releaseMouseButtons']=_0x44263b=>{if(!_0x4139c7[_0x5699('0x41')]){return;}_0x4139c7['_releaseMouseButtons'](_0x44263b['buttons'],_0x44263b['offsetX'],_0x44263b['offsetY']);};_0x7a152e['onmouseenter']=_0x477307=>{if(!_0x4139c7['enableMouse']){return;}var _0xb6eaa0=new DataView(new ArrayBuffer(0x1));_0xb6eaa0['setUint8'](0x0,MapVision['MessageType']['MouseEnter']);_0x4139c7[_0x5699('0x24')](_0xb6eaa0[_0x5699('0xab')]);_0x7a152e[_0x5699('0xcf')](_0x477307);};_0x7a152e[_0x5699('0xc7')]=_0x21880e=>{if(!_0x4139c7['enableMouse']){return;}var _0x5b9c8b=new DataView(new ArrayBuffer(0x1));_0x5b9c8b['setUint8'](0x0,MapVision['MessageType'][_0x5699('0x7a')]);_0x4139c7['_sendInputData'](_0x5b9c8b[_0x5699('0xab')]);_0x7a152e['releaseMouseButtons'](_0x21880e);};};MapVision[_0x5699('0xb9')]['prototype']['_registerTouchEvents']=function(_0x1b2cda){};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x57')]=function(_0x2763c0){if(!_0x2763c0){return;}_0x2763c0[_0x5699('0x74')]=_0x2f4bf9=>{_0x2f4bf9[_0x5699('0x15')]();};_0x2763c0[_0x5699('0x118')]=_0x285c60=>{_0x285c60[_0x5699('0x15')]();};_0x2763c0[_0x5699('0x14e')]=_0x44394d=>{_0x44394d[_0x5699('0x15')]();};_0x2763c0['oncontextmenu']=_0x3c336d=>{_0x3c336d['preventDefault']();};if('onmousewheel'in _0x2763c0){_0x2763c0['onmousewheel']=_0x11d217=>{_0x11d217[_0x5699('0x15')]();};}else{_0x2763c0['addEventListener']('DOMMouseScroll',_0x27c596=>{_0x27c596['preventDefault']();},![]);}_0x2763c0[_0x5699('0xcf')]=_0x25440a=>{};_0x2763c0['releaseMouseButtons']=_0xe0c52d=>{};_0x2763c0[_0x5699('0x13a')]=_0x388b40=>{};_0x2763c0['onmouseleave']=_0x22b3ef=>{};_0x2763c0[_0x5699('0x4a')]=_0x5abbd3=>{};_0x2763c0[_0x5699('0x162')]=_0x1d4de1=>{};_0x2763c0['onkeypress']=_0x553e12=>{};};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0xca')]=function(){let _0x272e26=this;const _0x43259f={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x32e1d4(_0x1aa4d4){if(_0x1aa4d4[_0x5699('0xe2')]===_0x43259f[_0x5699('0xf7')]&&_0x1aa4d4[_0x5699('0x3a')]==='ShiftRight')return _0x43259f['RightShift'];else if(_0x1aa4d4['keyCode']===_0x43259f[_0x5699('0x81')]&&_0x1aa4d4[_0x5699('0x3a')]===_0x5699('0x10b'))return _0x43259f['RightControl'];else if(_0x1aa4d4['keyCode']===_0x43259f['Alt']&&_0x1aa4d4['code']==='AltRight')return _0x43259f[_0x5699('0x100')];else return _0x1aa4d4['keyCode'];};function _0x5c15f7(_0x139c10){return!(_0x139c10[_0x5699('0xe2')]==0x1b||_0x139c10['keyCode']==0x70||_0x139c10[_0x5699('0xe2')]==0x73||_0x139c10['keyCode']==0x74||_0x139c10[_0x5699('0xe2')]==0xde||_0x139c10[_0x5699('0xe2')]==0xba||_0x139c10[_0x5699('0xe2')]==0xbc||_0x139c10['ctrlKey']&&_0x139c10['keyCode']==0x52);};var _0x5bf74a=document[_0x5699('0x15f')](_0x5699('0x31'));var _0x101775=null;if(_0x5bf74a&&_0x5bf74a[_0x5699('0x10d')]>0x0){_0x101775=_0x5bf74a[0x0];}else{_0x101775=document;}_0x101775[_0x5699('0x4a')]=_0x59d57e=>{if(!_0x272e26['enableKeyboard']){return;}if(_0x5c15f7(_0x59d57e)==![]){_0x59d57e['preventDefault']();return;}_0x272e26[_0x5699('0x24')](new Uint8Array([MapVision[_0x5699('0x65')]['KeyDown'],_0x32e1d4(_0x59d57e),_0x59d57e[_0x5699('0x6f')]])['buffer']);if(_0x59d57e[_0x5699('0xe2')]===_0x43259f[_0x5699('0xff')]){_0x101775[_0x5699('0x51')]({'charCode':_0x43259f[_0x5699('0xff')]});}};_0x101775[_0x5699('0x162')]=_0x7ab02c=>{console[_0x5699('0x1b')](_0x5699('0xc')+_0x7ab02c['keyCode']);if(!_0x272e26[_0x5699('0x0')]){return;}if(_0x5c15f7(_0x7ab02c)==![]){_0x7ab02c['preventDefault']();return;}_0x272e26['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyUp'],_0x32e1d4(_0x7ab02c)])[_0x5699('0xab')]);};_0x101775[_0x5699('0x51')]=_0x58486d=>{if(!_0x272e26[_0x5699('0x0')]){return;}if(_0x5c15f7(_0x58486d)==![]){_0x58486d[_0x5699('0x15')]();return;}let _0xe80649=new DataView(new ArrayBuffer(0x3));_0xe80649[_0x5699('0x131')](0x0,MapVision[_0x5699('0x65')]['KeyPress']);_0xe80649['setUint16'](0x1,_0x58486d[_0x5699('0xc0')],!![]);_0x272e26[_0x5699('0x24')](_0xe80649['buffer']);};};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['_createWebRtcPlayer']=function(_0x3fd14f,_0x55b031){let _0x1fb54a=this;_0x1fb54a['_webRtcPlayerHtmlElement']=document['getElementById'](_0x3fd14f);_0x1fb54a['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x55b031['peerConnectionOptions']});_0x1fb54a['_webRtcPlayerHtmlElement']['style']['visibility']='hidden';let _0x10e020=_0x1fb54a[_0x5699('0xa8')];_0x10e020[_0x5699('0x8b')](_0x1fb54a[_0x5699('0xa4')][_0x5699('0x139')]);_0x1fb54a['_webRtcPlayerObj'][_0x5699('0x10e')]=function(_0x1b46ad){if(_0x1fb54a['_webSocket']&&_0x1fb54a['_webSocket'][_0x5699('0x10f')]===MapVision[_0x5699('0x14d')]){let _0x2e164f=JSON[_0x5699('0x104')](_0x1b46ad);_0x1fb54a[_0x5699('0xbe')][_0x5699('0x140')](_0x2e164f);}};_0x1fb54a[_0x5699('0xa4')][_0x5699('0xdc')]=function(_0x249f23){if(_0x1fb54a[_0x5699('0xbe')]&&_0x1fb54a[_0x5699('0xbe')][_0x5699('0x10f')]===MapVision['WS_OPEN_STATE']){console[_0x5699('0x1b')](_0x5699('0x3e')+JSON[_0x5699('0x104')](_0x249f23,undefined,0x4));_0x1fb54a['_webSocket'][_0x5699('0x140')](JSON['stringify']({'type':_0x5699('0x99'),'candidate':_0x249f23}));}};_0x1fb54a[_0x5699('0xa4')]['onVideoInitialised']=function(){if(_0x1fb54a['_webSocket']&&_0x1fb54a['_webSocket']['readyState']===MapVision[_0x5699('0x14d')]){if(_0x1fb54a[_0x5699('0xa4')]){_0x1fb54a['_webRtcPlayerObj'][_0x5699('0x139')]['muted']=!![];setTimeout(function(){_0x1fb54a['_requestInitialSettings']();_0x1fb54a[_0x5699('0x49')]();_0x1fb54a['_webRtcPlayerObj']['video'][_0x5699('0xe7')]();},0x32);}}};_0x1fb54a[_0x5699('0xa4')][_0x5699('0x155')]=function(){if(_0x1fb54a[_0x5699('0xbe')]&&_0x1fb54a[_0x5699('0xbe')][_0x5699('0x10f')]===MapVision['WS_OPEN_STATE']){if(_0x1fb54a['_webRtcPlayerObj'][_0x5699('0x139')]&&_0x1fb54a['_webRtcPlayerObj']['video'][_0x5699('0x23')]&&_0x1fb54a[_0x5699('0xa4')][_0x5699('0x16')]){_0x1fb54a[_0x5699('0xa4')][_0x5699('0x16')]();}if(_0x1fb54a['_registerCallback']){const _0x46eac6={'code':0xc8,'msg':'websocket\x20connected'};_0x1fb54a['_registerCallback'](_0x46eac6);}_0x1fb54a[_0x5699('0xa8')][_0x5699('0xf4')]['visibility']=_0x5699('0x160');}};_0x1fb54a['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x3c0f23){var _0x4b6248=new Uint8Array(_0x3c0f23);var _0x27f210=_0x4b6248[0x0];if(_0x27f210===MapVision['ToClientMessageType'][_0x5699('0x119')]){let _0x282d9c=new TextDecoder('utf-16')[_0x5699('0x166')](_0x3c0f23['slice'](0x1));console['log'](_0x5699('0x168')+_0x282d9c);}else if(_0x27f210===MapVision[_0x5699('0x9e')]['Response']){let _0x2c357c=new TextDecoder('utf-16')['decode'](_0x3c0f23['slice'](0x1));let _0x366fce=JSON['parse'](_0x2c357c);const _0x210c60=_0x366fce[_0x5699('0xba')];if(_0x210c60&&_0x1fb54a['_callback'][_0x210c60]){delete _0x366fce[_0x5699('0xba')];if(_0x366fce['objects']){_0x1fb54a['_callback'][_0x210c60](_0x366fce[_0x5699('0xcd')]);}else{_0x1fb54a['_callback'][_0x210c60](_0x366fce);}}if(_0x366fce&&_0x366fce[_0x5699('0xad')]){_0x1fb54a[_0x5699('0x2b')]=_0x366fce;}}else if(_0x27f210===MapVision['ToClientMessageType'][_0x5699('0x144')]){let _0x1e26e5=new TextDecoder('utf-16')['decode'](_0x3c0f23['slice'](0x1));console['log']('->\x20SS:\x20Command:\x0a'+_0x1e26e5);}else if(_0x27f210===MapVision[_0x5699('0x9e')]['FreezeFrame']){let _0x705279=new TextDecoder('utf-16')[_0x5699('0x166')](_0x3c0f23[_0x5699('0x13e')](0x1));console[_0x5699('0x1b')]('->\x20SS:\x20FreezeFrame:\x0a'+_0x705279);}else if(_0x27f210===MapVision[_0x5699('0x9e')]['UnfreezeFrame']){let _0x2705ef=new TextDecoder('utf-16')[_0x5699('0x166')](_0x3c0f23['slice'](0x1));console['log'](_0x5699('0x7c')+_0x2705ef);}};_0x1fb54a['_registerMouseEvents'](_0x10e020);_0x1fb54a[_0x5699('0x101')](_0x10e020);_0x1fb54a['_registerKeyboardEvents'](_0x10e020);_0x1fb54a[_0x5699('0xa4')][_0x5699('0x7d')]();};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['_sendInputData']=function(_0x1319ec){if(this['_webRtcPlayerObj']){this['_webRtcPlayerObj'][_0x5699('0x140')](_0x1319ec);}else{console[_0x5699('0x1b')]('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0x146')]=function(_0x594be8,_0x3402e3){let _0x20aa35=JSON[_0x5699('0x104')](_0x3402e3);let _0x4e815b=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x20aa35['length']));let _0x3af466=0x0;_0x4e815b['setUint8'](_0x3af466,_0x594be8);_0x3af466++;_0x4e815b[_0x5699('0x167')](_0x3af466,_0x20aa35[_0x5699('0x10d')],!![]);_0x3af466+=0x2;for(let _0x3600c1=0x0;_0x3600c1<_0x20aa35[_0x5699('0x10d')];_0x3600c1++){_0x4e815b[_0x5699('0x167')](_0x3af466,_0x20aa35['charCodeAt'](_0x3600c1),!![]);_0x3af466+=0x2;}this[_0x5699('0x24')](_0x4e815b[_0x5699('0xab')]);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['_emiUICommand']=function(_0x32e5ef,_0x4d0702){this['_command']=_0x32e5ef;const _0x461015={'cmd':_0x32e5ef,'data':_0x4d0702};this['_emitDescriptor'](MapVision['MessageType']['UIInteraction'],_0x461015);};MapVision['View3d']['prototype']['_requestInitialSettings']=function(){this[_0x5699('0x24')](new Uint8Array([MapVision[_0x5699('0x65')][_0x5699('0x72')]])[_0x5699('0xab')]);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')][_0x5699('0x49')]=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType']['RequestQualityControl']])[_0x5699('0xab')]);};MapVision[_0x5699('0xb9')][_0x5699('0x3c')]['_onMouseMove']=function(_0x4ac18a,_0x264928,_0x2951d3,_0x5c1e42){let _0x28673d=this;if(!_0x28673d['_webSocket']){return;}let _0x43cd74=_0x28673d['_normalizeAndQuantizeUnsigned'](_0x4ac18a,_0x264928);let _0x23ba63=_0x28673d['_normalizeAndQuantizeSigned'](_0x2951d3,_0x5c1e42);var _0x4385fa=new DataView(new ArrayBuffer(0x9));_0x4385fa[_0x5699('0x131')](0x0,MapVision[_0x5699('0x65')][_0x5699('0x161')]);_0x4385fa['setUint16'](0x1,_0x43cd74['x'],!![]);_0x4385fa[_0x5699('0x167')](0x3,_0x43cd74['y'],!![]);_0x4385fa[_0x5699('0x14a')](0x5,_0x23ba63['x'],!![]);_0x4385fa[_0x5699('0x14a')](0x7,_0x23ba63['y'],!![]);_0x28673d[_0x5699('0x24')](_0x4385fa['buffer']);};MapVision['View3d']['prototype'][_0x5699('0xc3')]=function(_0x43a6f1,_0x482d41,_0x2b0272){let _0x14a4fb=this;if(!_0x14a4fb['_webSocket']){return;}let _0xa347d6=_0x14a4fb['_normalizeAndQuantizeUnsigned'](_0x482d41,_0x2b0272);var _0x19085a=new DataView(new ArrayBuffer(0x6));_0x19085a[_0x5699('0x131')](0x0,MapVision['MessageType'][_0x5699('0x152')]);_0x19085a[_0x5699('0x131')](0x1,_0x43a6f1);_0x19085a['setUint16'](0x2,_0xa347d6['x'],!![]);_0x19085a['setUint16'](0x4,_0xa347d6['y'],!![]);_0x14a4fb[_0x5699('0x24')](_0x19085a['buffer']);};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x7')]=function(_0x348821,_0x317d5a,_0x8a3967){let _0x2bc759=this;if(!_0x2bc759[_0x5699('0xbe')]){return;}let _0x2aa6d2=_0x2bc759['_normalizeAndQuantizeUnsigned'](_0x317d5a,_0x8a3967);var _0x3918b0=new DataView(new ArrayBuffer(0x6));_0x3918b0['setUint8'](0x0,MapVision[_0x5699('0x65')][_0x5699('0x113')]);_0x3918b0[_0x5699('0x131')](0x1,_0x348821);_0x3918b0['setUint16'](0x2,_0x2aa6d2['x'],!![]);_0x3918b0[_0x5699('0x167')](0x4,_0x2aa6d2['y'],!![]);_0x2bc759[_0x5699('0x24')](_0x3918b0[_0x5699('0xab')]);};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x151')]=function(_0x23564a,_0x14ac75,_0x31ca8){let _0x3dafc4=this;if(!_0x3dafc4[_0x5699('0xbe')]){return;}let _0x32b43d=_0x3dafc4['_normalizeAndQuantizeUnsigned'](_0x14ac75,_0x31ca8);var _0x4efa15=new DataView(new ArrayBuffer(0x7));_0x4efa15['setUint8'](0x0,MapVision['MessageType']['MouseWheel']);_0x4efa15['setInt16'](0x1,_0x23564a,!![]);_0x4efa15['setUint16'](0x3,_0x32b43d['x'],!![]);_0x4efa15[_0x5699('0x167')](0x5,_0x32b43d['y'],!![]);_0x3dafc4['_sendInputData'](_0x4efa15['buffer']);};MapVision['View3d'][_0x5699('0x3c')][_0x5699('0xfb')]=function(_0x5ddd62,_0x180025,_0x5c17d4){if(_0x5ddd62&MapVision['MouseButtonsMask']['PrimaryButton']){this[_0x5699('0x7')](MapVision[_0x5699('0x6a')][_0x5699('0x89')],_0x180025,_0x5c17d4);}if(_0x5ddd62&MapVision[_0x5699('0x164')]['SecondaryButton']){this[_0x5699('0x7')](MapVision['MouseButton']['SecondaryButton'],_0x180025,_0x5c17d4);}if(_0x5ddd62&MapVision[_0x5699('0x164')][_0x5699('0xaa')]){this[_0x5699('0x7')](MapVision[_0x5699('0x6a')]['AuxiliaryButton'],_0x180025,_0x5c17d4);}if(_0x5ddd62&MapVision['MouseButtonsMask']['FourthButton']){this[_0x5699('0x7')](MapVision[_0x5699('0x6a')]['FourthButton'],_0x180025,_0x5c17d4);}if(_0x5ddd62&MapVision['MouseButtonsMask']['FifthButton']){this['_onMouseUp'](MapVision['MouseButton']['FifthButton'],_0x180025,_0x5c17d4);}};MapVision['View3d']['prototype']['_pressMouseButtons']=function(_0x3f09ce,_0x3f2055,_0x42a84c){if(_0x3f09ce&MapVision[_0x5699('0x164')][_0x5699('0x5e')]){this['_onMouseDown'](MapVision[_0x5699('0x6a')][_0x5699('0x89')],_0x3f2055,_0x42a84c);}if(_0x3f09ce&MapVision[_0x5699('0x164')]['SecondaryButton']){this[_0x5699('0xc3')](MapVision[_0x5699('0x6a')][_0x5699('0x16a')],_0x3f2055,_0x42a84c);}if(_0x3f09ce&MapVision['MouseButtonsMask'][_0x5699('0xaa')]){this[_0x5699('0xc3')](MapVision['MouseButton'][_0x5699('0xaa')],_0x3f2055,_0x42a84c);}if(_0x3f09ce&MapVision[_0x5699('0x164')]['FourthButton']){this['_onMouseDown'](MapVision[_0x5699('0x6a')]['FourthButton'],_0x3f2055,_0x42a84c);}if(_0x3f09ce&MapVision[_0x5699('0x164')]['FifthButton']){this[_0x5699('0xc3')](MapVision['MouseButton'][_0x5699('0x34')],_0x3f2055,_0x42a84c);}};MapVision['View3d']['prototype']['_normalizeAndQuantizeUnsigned']=function(_0x3b98d3,_0xc90b60){let _0x50af97=this;if(!_0x50af97['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0xeda74b=_0x50af97[_0x5699('0xa8')];let _0x271b7a=_0x50af97[_0x5699('0xa4')][_0x5699('0x139')];let _0x318561=_0xeda74b[_0x5699('0xf3')]/_0xeda74b['clientWidth'];let _0x4951e3=_0x271b7a[_0x5699('0xa0')]/_0x271b7a['videoWidth'];_0x4951e3=_0x318561;if(_0x318561>_0x4951e3){let _0x540e10=_0x318561/_0x4951e3;let _0x104191=_0x3b98d3/_0xeda74b[_0x5699('0x115')];let _0x47910d=_0x540e10*(_0xc90b60/_0xeda74b['clientHeight']-0.5)+0.5;if(_0x104191<0x0||_0x104191>0x1||_0x47910d<0x0||_0x47910d>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x104191*0x10000,'y':_0x47910d*0x10000};}}else{let _0x144a1b=_0x4951e3/_0x318561;let _0x53f054=_0x144a1b*(_0x3b98d3/_0xeda74b['clientWidth']-0.5)+0.5;let _0x14c911=_0xc90b60/_0xeda74b[_0x5699('0xf3')];if(_0x53f054<0x0||_0x53f054>0x1||_0x14c911<0x0||_0x14c911>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x53f054*0x10000,'y':_0x14c911*0x10000};}}};MapVision[_0x5699('0xb9')]['prototype']['_normalizeAndQuantizeSigned']=function(_0x4b4415,_0x4b1cfc){let _0x2127ed=this;if(!_0x2127ed[_0x5699('0xbe')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x396670=_0x2127ed['_webRtcPlayerHtmlElement'];let _0x203b8d=_0x2127ed['_webRtcPlayerObj'][_0x5699('0x139')];let _0x52df51=_0x396670['clientHeight']/_0x396670[_0x5699('0x115')];let _0x5c0713=_0x203b8d[_0x5699('0xa0')]/_0x203b8d['videoWidth'];_0x5c0713=_0x52df51;if(_0x52df51>_0x5c0713){let _0x481f7a=_0x52df51/_0x5c0713;let _0x17f319=_0x4b4415/(0.5*_0x396670['clientWidth']);let _0x17587c=_0x481f7a*_0x4b1cfc/(0.5*_0x396670['clientHeight']);return{'x':_0x17f319*0x7fff,'y':_0x17587c*0x7fff};}else{let _0x533ca1=_0x5c0713/_0x52df51;let _0xe2d449=_0x533ca1*_0x4b4415/(0.5*_0x396670['clientWidth']);let _0x19c485=_0x4b1cfc/(0.5*_0x396670['clientHeight']);return{'x':_0xe2d449*0x7fff,'y':_0x19c485*0x7fff};}};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0xc4')]=function(_0x312fd0,_0x226e5e){let _0x21103d=this;if(!_0x21103d[_0x5699('0xbe')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x12690f=_0x21103d[_0x5699('0xa8')];let _0x9b8e2a=_0x21103d['_webRtcPlayerObj'][_0x5699('0x139')];let _0x5d1c6a=_0x12690f[_0x5699('0xf3')]/_0x12690f['clientWidth'];let _0x1a7c69=_0x9b8e2a[_0x5699('0xa0')]/_0x9b8e2a[_0x5699('0x15b')];if(_0x5d1c6a>_0x1a7c69){let _0x41446d=_0x5d1c6a/_0x1a7c69;let _0x77d907=_0x312fd0/0x10000;let _0x4994d5=(_0x226e5e/0x10000-0.5)/_0x41446d+0.5;return{'x':_0x77d907*_0x12690f['clientWidth'],'y':_0x4994d5*_0x12690f[_0x5699('0xf3')]};}else{let _0x4bc6c0=(_0x312fd0/0x10000-0.5)/ratio+0.5;let _0x4bce95=_0x226e5e/0x10000;return{'x':_0x4bc6c0*_0x12690f[_0x5699('0x115')],'y':_0x4bce95*_0x12690f[_0x5699('0xf3')]};}};MapVision['View3d']['prototype'][_0x5699('0x75')]=function(_0x37489b){this['_webRtcPlayerObj'][_0x5699('0x27')](_0x37489b);this['_webRtcPlayerObj']['onAggregatedStats']=_0x553efd=>{};this['_webRtcPlayerObj']['aggregateStats'](0x1*0x3e8);};MapVision['View3d']['prototype']['_onWebRtcIce']=function(_0x1c903b){if(this[_0x5699('0xa4')])this[_0x5699('0xa4')]['handleCandidateFromServer'](_0x1c903b);};MapVision[_0x5699('0xb9')]['prototype'][_0x5699('0x158')]=function(_0x5be6ce,_0x3bffe4,_0x230adf){var _0x12f828=null;if(window['XMLHttpRequest']){_0x12f828=new XMLHttpRequest();}else if(window['ActiveXObject']){_0x12f828=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x12f828==null){alert(_0x5699('0x15a'));return;}var _0x2e1c3d=(_0x5be6ce['type']||_0x5699('0x16d'))[_0x5699('0xb4')]();var _0x7c4ec3=_0x5be6ce[_0x5699('0xd1')]||_0x5699('0xae');var _0x2fe82b=_0x5be6ce['httpUrl']||'';var _0x552acd=_0x5be6ce[_0x5699('0x59')]||!![];var _0x2bfa79=_0x5be6ce[_0x5699('0x6d')]||[];var _0x2e7d74='';for(var _0x1bb1eb in _0x2bfa79){_0x2e7d74+=_0x1bb1eb+'='+_0x2bfa79[_0x1bb1eb]+'&';}_0x2e7d74=_0x2e7d74==''?'':_0x2e7d74[_0x5699('0x7e')](0x0,_0x2e7d74[_0x5699('0x10d')]-0x1);console[_0x5699('0x1b')](_0x2e7d74);_0x12f828[_0x5699('0x1c')]=function(){if(_0x12f828['readyState']==0x4&&_0x12f828[_0x5699('0x79')]==0xc8){var _0x402242=JSON[_0x5699('0x21')](_0x12f828['responseText']);_0x3bffe4(_0x402242);}else{_0x230adf;}};if(_0x2e1c3d=='GET'){_0x12f828['open']('GET',_0x2fe82b,_0x552acd);_0x12f828[_0x5699('0x140')](null);}else if(_0x2e1c3d==_0x5699('0x120')){_0x12f828['open']('POST',_0x2fe82b,_0x552acd);_0x12f828[_0x5699('0x38')](_0x5699('0x8e'),'application/x-www-form-urlencoded');_0x12f828['send'](_0x2e7d74);}};