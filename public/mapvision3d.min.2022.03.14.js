const _0x15db=['gid','clientWidth','protocol','onkeyup','data','GetFloorRoomVisible','OverLayerRemoveAll','ResetHome','aggregateStats','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','label','frameWidth','FrameDisplayDeltaTimeMs','GetFloorNames','oniceconnectionstatechange','OverLayerCreateObject','srcObject','video_label','_callback','polygon','GetFloorDeviceNum','use\x20strict','ToolMeasureHeight','onDataChannelConnected','UnLoadMap','NorthControl','\x20_webSocket\x20closed\x20','_onMouseUp','Clear','pitch','useMic','ShiftRight','Parameter\x20ERROR','sdp','setInt16','getStats','///','setRemoteDescription','PauseSequence','FlyToObject','127.0.0.1','addTransceiver','onDataChannelMessage','finally','videoHeight','GetFloorDeviceVisible','SetBuildingVisible','PlayRouteModel','hostname','LayerRemove','SetNorth','ICE\x20candidate:\x20','UEPreEncodeTimeMs','ws://','bitrate','&mapkey=','currentRoundTripTime','avgBitrate','SetGroundVisible','LayerReLoad','cfg','createOffer','PrimaryButton','offsetX','POST','getUserMedia','open','default','GetScenceClouds','MouseWheel','Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.','_unregisterEvents','LayerLoad','GetResourceTexture2D','close','WebSocket','highBitrate','UnfreezeFrame','stringify','recvonly','GetResourceMaterialInstance','websocket\x20connected','wss://','FourthButton','onWebRtcOffer','kind','lowBitrate','onmousewheel','UpdateObjectVisibleByPrefix','SetMapStatus','QualityControlOwnership','webRtcPlayer','Response','async','_registerKeyboardEvents','Closing\x20existing\x20PeerConnection','_emiUICommand','FindObjectById','SetMousePositionCallback','FlyToPosition','data\x20channel\x20(','onkeypress','info','sendrecv','_normalizeAndQuantizeUnsigned','streamingVideo','_pressMouseButtons','PostCaptureTimeMs','getReceivers','SetResolution','getElementById','frameHeight','https:','onVideoInitialised','TestStartTimeMs','UEPostEncodeTimeMs','SetObjectHighlight','length','bytesReceivedStart','streams','onMouse','reason','onsignalingstatechange','port','FifthButton','playerCount','MouseDown','building','MapStatusType','latencyTestTimings','button','SetScenceSnow','UpdateObjectVisible','location','avgframerate','SetNorthControl','dcClient','_onMouseSelectedObj','status','StreamVideoClose','StopMeasure','Open','floor','video','setLocalDescription','candidate','onmouseleave','lowFramerate','AuxiliaryButton','object','PreEncodeTimeMs','BackSpace','position','Point','UETransmissionTimeMs','_webSocket','UpdateObjectStyle','signaling\x20state\x20change:','charCode','receiveAnswer','projectId','localhost','StreamVideoCloseAll','FreezeFrame','OverLayerCreateObjects','replace','ActiveXObject','then','PlayRoute','ClearHighlight','webSocket\x20connenect\x20error','GetScenceRain','version','enableMouse','No\x20data\x20channel','mapkey','trackIdentifier','MouseButtonsMask','detail','playsInline','onmessage','sdpSemantics','charCodeAt','SetHighlightRegion','_registerMouseEvents','_webRtcPlayerHtmlElement','addEventListener','ToClientMessageType','OverLayerFindObject','CreateRoute','_normalizeAndQuantizeSigned','send','onkeydown','ToolMeasureExit','clientHeight','->\x20SS:\x20iceCandidate\x0a','aimapvision3d\x20server\x20is\x20not\x20started.','CommandType','setUint8','ResumeRoute','visibility','Polygon','GetResources','onmousedown','radio','decode','MouseButton','_requestInitialSettings','->\x20SS:\x20FreezeFrame:\x0a','SetParameters','GetDownFloorNum','includes','onWebRtcCandidate','IsLoadMap','answer','ClearObjectStyle','unified-plan','PostEncodeTimeMs','GetBuildingNames','->\x20SS:\x20UnfreezeFrame:\x0a','pcClient','utf-16','_onMouseUpCallback','framesDecoded','receiveToCompositeMs','OpenStatus','GetSelectedObject','model','pressMouseButtons','OverLayerRemoveObject','ResetObjects','GetFloorRoomNum','timestamp','MozWebSocket','Building','cmd','LineString','GetBuildVersion','readyState','Control','floors','type','search','aggregateStatsIntervalId','mediaType','highlight','FlyToObjectById','SecondaryButton','View3d','dataChannelOptions','Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.','substring','receiveTime','handleCandidateFromServer','onclose','videoWidth','error','distance','FlyToObjectByType','UEPostCaptureTimeMs','MapVision','removeChild','ctrlKey','/project3d/getInfo?id=','movementX','buffer','framesReceived','enableKeyboard','ClearHighlightRegion','hidden','KeyUp','Alt','mediaDevices','frameWidthStart','onmousemove','StopRoute','Closing\x20existing\x20peerClient','_onMouseWheel','CreateObject','SetBitrate','_emitDescriptor','setUint16','_releaseMouseButtons','framerate','_webRtcPlayerObj','OverLayerStartEdit','MainButton','framesDropped','_registerCallback','OverLayerStopEdit','objects','SplitFloorReset','_onMouseMove','SetScenceSunInfo','createElement','GetBuildingVisible','OverLayerRemoveAllCustom','SetPosition','For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27','cirrus','round','SplitBuildingReset','http:','expectedDisplayTime','IsPausedSequence','disablepictureinpicture','GetUpFloorNames','warn','GetBuildingName','oncontextmenu','SetObjectsVisible','MessageType','onmouseenter','aggregatedStats','offsetY','Rotate','PauseRoute','url','SetMouseCallback','GetFloorVisible','GetBuildingNum','RegisterEvent','_connectWebsocket','UEReceiptTimeMs','binaryType','candidate-pair','_sendInputData','appendChild','SplitBuilding','_httpRequest','ICE\x20candidate','keyCode','Created\x20datachannel\x20(','StopSequence','UnRegisterEvent','name','SetObjectsHighlight','bytesReceived','UEPreCaptureTimeMs','GetFloorNum','GetHomePosition','_onMouseDown','framesDecodedStart','parse','GetFloorRoomNames','ReceiptTimeMs','sdpConstraints','packetsLost','SetBuildingWkVisible','GetFloorDeviceNames','ControlRight','./adapter','invalid\x20SS\x20message\x20type:\x20','preventDefault','SplitDynamicFloor','highFramerate','MouseMove','GetObjectsVisible','onAggregatedStats','timestampStart','audio','Events','showlocation','SetScenceRain','indexOf','AltRight','GET','ice\x20connection\x20state\x20change:','play','UpdateObject','LayersLoad','StreamVideoOpen','frameHeightStart','hasOwnProperty','_onMouseDownCallback','GetScenceSnow','PauseRouteModel','iframe','style','log','SetObjectsHighlightByPrefix','requestVideoFrameCallback','MouseUp','ResetAllBuildings','WS\x20closed:\x20','ontrack','has','https://','code','WS_OPEN_STATE','prototype','iceCandidate','SetScenceClouds','_mouseDownStatus','GetScrrenPosition','_onMouseMoveCallback'];const _0x4539=function(_0x15dbab,_0x4539b4){_0x15dbab=_0x15dbab-0x0;let _0x4563b5=_0x15db[_0x15dbab];return _0x4563b5;};(function(_0x2512fd,_0x12a530){if(typeof define==='function'&&define['amd']){define(['./adapter'],_0x12a530);}else if(typeof exports===_0x4539('0x95')){module['exports']=_0x12a530(require(_0x4539('0x15f')));}else{_0x2512fd[_0x4539('0x5b')]=_0x12a530(_0x2512fd['adapter']);}}(this,function(_0x42d23e){function _0x374d75(_0x587364){_0x587364=_0x587364||{};var _0x4617ad=this;this['cfg']=_0x587364['peerConnectionOptions']||{};this['cfg'][_0x4539('0xb5')]=_0x4539('0xd8');this['cfg']['offerExtmapAllowMixed']=![];this[_0x4539('0xdc')]=null;this[_0x4539('0x88')]=null;this['tnClient']=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this['dataChannelOptions']={'ordered':!![]};const _0x328389=new URLSearchParams(window[_0x4539('0x85')][_0x4539('0xf2')]);this[_0x4539('0x1e')]=_0x328389[_0x4539('0x182')](_0x4539('0x1e'));if(!this[_0x4539('0x1e')]){console[_0x4539('0x17b')](_0x4539('0x46'));}let _0x205995=location['hostname']===_0x4539('0xa1')||location[_0x4539('0x30')]===_0x4539('0x28');let _0x5662fd=location[_0x4539('0x2')]===_0x4539('0x70');if(this[_0x4539('0x1e')]&&!_0x205995&&!_0x5662fd){this['useMic']=![];console[_0x4539('0x100')](_0x4539('0xfa'));console['error'](_0x4539('0x12a'));}this[_0x4539('0x81')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this['TestStartTimeMs']=null;this[_0x4539('0x143')]=null;this['UEPreCaptureTimeMs']=null;this[_0x4539('0x103')]=null;this[_0x4539('0x34')]=null;this['UEPostEncodeTimeMs']=null;this['UETransmissionTimeMs']=null;this['BrowserReceiptTimeMs']=null;this[_0x4539('0xc')]=null;},'SetUETimings':function(_0x122241){this['UEReceiptTimeMs']=_0x122241[_0x4539('0x159')];this[_0x4539('0x152')]=_0x122241['PreCaptureTimeMs'];this[_0x4539('0x103')]=_0x122241[_0x4539('0x6b')];this['UEPreEncodeTimeMs']=_0x122241[_0x4539('0x96')];this[_0x4539('0x73')]=_0x122241[_0x4539('0xd9')];this[_0x4539('0x9a')]=_0x122241['TransmissionTimeMs'];this['BrowserReceiptTimeMs']=Date['now']();this['OnAllLatencyTimingsReady'](this);},'SetFrameDisplayDeltaTime':function(_0x1b7950){if(this[_0x4539('0xc')]==null){this['FrameDisplayDeltaTimeMs']=Math[_0x4539('0x12c')](_0x1b7950);this['OnAllLatencyTimingsReady'](this);}},'OnAllLatencyTimingsReady':function(_0x4fd530){}};createWebRtcVideo=function(){var _0x1e1055=document[_0x4539('0x126')]('video');_0x1e1055['id']=_0x4539('0x69');_0x1e1055[_0x4539('0xb3')]=!![];_0x1e1055[_0x4539('0x131')]=!![];_0x1e1055['muted']=![];_0x1e1055['addEventListener']('loadedmetadata',function(_0x46c909){if(_0x4617ad['onVideoInitialised']){_0x4617ad[_0x4539('0x71')]();}},!![]);if(_0x4539('0x17d')in HTMLVideoElement['prototype']){const _0x49f1d7=(_0x104de5,_0x2f6d17)=>{if(_0x2f6d17[_0x4539('0xfc')]&&_0x2f6d17[_0x4539('0x12f')]){const _0x52ba5a=_0x2f6d17['presentationTime']-_0x2f6d17['receiveTime'];_0x4617ad[_0x4539('0x139')]['receiveToCompositeMs']=_0x52ba5a;}_0x1e1055[_0x4539('0x17d')](_0x49f1d7);};_0x1e1055['requestVideoFrameCallback'](_0x49f1d7);}return _0x1e1055;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x46b4e0){console[_0x4539('0x66')](_0x4539('0x9d'),_0x46b4e0);};oniceconnectionstatechange=function(_0x2ef534){console[_0x4539('0x66')](_0x4539('0x16f'),_0x2ef534);};onicegatheringstatechange=function(_0x4460d4){console['info']('ice\x20gathering\x20state\x20change:',_0x4460d4);};handleOnTrack=function(_0x1b75e5){if(_0x1b75e5['track']){}if(_0x1b75e5['track']['kind']=='audio'){handleOnAudioTrack(_0x1b75e5['streams'][0x0]);return;}else _0x1b75e5['track']['kind']=='video'&&_0x4617ad['video'][_0x4539('0x10')]!==_0x1b75e5[_0x4539('0x77')][0x0];{_0x4617ad['video']['srcObject']=_0x1b75e5[_0x4539('0x77')][0x0];return;}};handleOnAudioTrack=function(_0x1a69d9){if(_0x4617ad[_0x4539('0x8f')]['srcObject']==_0x1a69d9){return;}else if(_0x4617ad[_0x4539('0x8f')]['srcObject']&&_0x4617ad[_0x4539('0x8f')][_0x4539('0x10')]!==_0x1a69d9){let _0x318759=document[_0x4539('0x126')]('Audio');_0x318759['autoplay']=!![];_0x318759[_0x4539('0x10')]=_0x1a69d9;_0x318759[_0x4539('0x170')]();console[_0x4539('0x17b')]('Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.');}};setupDataChannel=function(_0x1dabfe,_0x356f74,_0x590bef){try{let _0x128e3a=_0x1dabfe['createDataChannel'](_0x356f74,_0x590bef);console['log'](_0x4539('0x14c')+_0x356f74+')');_0x128e3a[_0x4539('0x144')]='arraybuffer';_0x128e3a['onopen']=function(_0x5b612f){console['log']('data\x20channel\x20('+_0x356f74+')\x20connect');if(_0x4617ad[_0x4539('0x17')]){_0x4617ad[_0x4539('0x17')]();}};_0x128e3a['onclose']=function(_0xbdefd){console[_0x4539('0x17b')](_0x4539('0x64')+_0x356f74+')\x20closed');};_0x128e3a[_0x4539('0xb4')]=function(_0x2a6c43){if(_0x4617ad[_0x4539('0x2a')])_0x4617ad['onDataChannelMessage'](_0x2a6c43['data']);};return _0x128e3a;}catch(_0x361415){console['warn'](_0x4539('0xae'),_0x361415);return null;}};onicecandidate=function(_0x24bb4e){console[_0x4539('0x17b')](_0x4539('0x14a'),_0x24bb4e);if(_0x24bb4e[_0x4539('0x91')]&&_0x24bb4e[_0x4539('0x91')]['candidate']){_0x4617ad['onWebRtcCandidate'](_0x24bb4e[_0x4539('0x91')]);}};handleCreateOffer=function(_0x3d963a){_0x3d963a[_0x4539('0x3d')](_0x4617ad[_0x4539('0x15a')])[_0x4539('0xa7')](function(_0x2c4d1c){mungeSDPOffer(_0x2c4d1c);_0x3d963a[_0x4539('0x90')](_0x2c4d1c);if(_0x4617ad[_0x4539('0x54')]){_0x4617ad['onWebRtcOffer'](_0x2c4d1c);}},function(){console[_0x4539('0x133')]('Couldn\x27t\x20create\x20offer');});};mungeSDPOffer=function(_0x590c7b){_0x590c7b[_0x4539('0x21')]=_0x590c7b[_0x4539('0x21')][_0x4539('0xa5')]('useinbandfec=1','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000');};setupPeerConnection=function(_0x11d865){if(_0x11d865[_0x4539('0x117')])console['log'](_0x4539('0x9'));_0x11d865[_0x4539('0x7a')]=onsignalingstatechange;_0x11d865[_0x4539('0xe')]=oniceconnectionstatechange;_0x11d865['onicegatheringstatechange']=onicegatheringstatechange;_0x11d865[_0x4539('0x181')]=handleOnTrack;_0x11d865['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x4617ad['aggregatedStats'])_0x4617ad[_0x4539('0x139')]={};return function(_0x2d858e){let _0x42e076={};_0x2d858e['forEach'](_0x4172f4=>{if(_0x4172f4[_0x4539('0xf1')]=='inbound-rtp'&&!_0x4172f4['isRemote']&&(_0x4172f4[_0x4539('0xf4')]==_0x4539('0x8f')||_0x4172f4['id']['toLowerCase']()[_0x4539('0xd3')]('video'))){_0x42e076['timestamp']=_0x4172f4[_0x4539('0xe8')];_0x42e076[_0x4539('0x151')]=_0x4172f4['bytesReceived'];_0x42e076['framesDecoded']=_0x4172f4[_0x4539('0xdf')];_0x42e076[_0x4539('0x15b')]=_0x4172f4['packetsLost'];_0x42e076['bytesReceivedStart']=_0x4617ad[_0x4539('0x139')]&&_0x4617ad['aggregatedStats']['bytesReceivedStart']?_0x4617ad[_0x4539('0x139')]['bytesReceivedStart']:_0x4172f4['bytesReceived'];_0x42e076[_0x4539('0x156')]=_0x4617ad[_0x4539('0x139')]&&_0x4617ad[_0x4539('0x139')]['framesDecodedStart']?_0x4617ad['aggregatedStats'][_0x4539('0x156')]:_0x4172f4['framesDecoded'];_0x42e076['timestampStart']=_0x4617ad[_0x4539('0x139')]&&_0x4617ad[_0x4539('0x139')][_0x4539('0x167')]?_0x4617ad[_0x4539('0x139')]['timestampStart']:_0x4172f4['timestamp'];if(_0x4617ad['aggregatedStats']&&_0x4617ad['aggregatedStats'][_0x4539('0xe8')]){if(_0x4617ad['aggregatedStats']['bytesReceived']){_0x42e076['bitrate']=0x8*(_0x42e076[_0x4539('0x151')]-_0x4617ad[_0x4539('0x139')]['bytesReceived'])/(_0x42e076['timestamp']-_0x4617ad['aggregatedStats'][_0x4539('0xe8')]);_0x42e076[_0x4539('0x36')]=Math[_0x4539('0x8e')](_0x42e076[_0x4539('0x36')]);_0x42e076['lowBitrate']=_0x4617ad['aggregatedStats'][_0x4539('0x56')]&&_0x4617ad[_0x4539('0x139')][_0x4539('0x56')]<_0x42e076[_0x4539('0x36')]?_0x4617ad['aggregatedStats'][_0x4539('0x56')]:_0x42e076[_0x4539('0x36')];_0x42e076['highBitrate']=_0x4617ad['aggregatedStats']['highBitrate']&&_0x4617ad['aggregatedStats'][_0x4539('0x4c')]>_0x42e076[_0x4539('0x36')]?_0x4617ad['aggregatedStats'][_0x4539('0x4c')]:_0x42e076['bitrate'];}if(_0x4617ad['aggregatedStats'][_0x4539('0x76')]){_0x42e076[_0x4539('0x39')]=0x8*(_0x42e076['bytesReceived']-_0x4617ad[_0x4539('0x139')]['bytesReceivedStart'])/(_0x42e076['timestamp']-_0x4617ad[_0x4539('0x139')]['timestampStart']);_0x42e076['avgBitrate']=Math['floor'](_0x42e076['avgBitrate']);}if(_0x4617ad['aggregatedStats']['framesDecoded']){_0x42e076['framerate']=(_0x42e076[_0x4539('0xdf')]-_0x4617ad['aggregatedStats']['framesDecoded'])/((_0x42e076[_0x4539('0xe8')]-_0x4617ad['aggregatedStats']['timestamp'])/0x3e8);_0x42e076[_0x4539('0x11b')]=Math['floor'](_0x42e076['framerate']);_0x42e076[_0x4539('0x93')]=_0x4617ad[_0x4539('0x139')]['lowFramerate']&&_0x4617ad['aggregatedStats'][_0x4539('0x93')]<_0x42e076[_0x4539('0x11b')]?_0x4617ad['aggregatedStats'][_0x4539('0x93')]:_0x42e076['framerate'];_0x42e076[_0x4539('0x163')]=_0x4617ad['aggregatedStats'][_0x4539('0x163')]&&_0x4617ad[_0x4539('0x139')][_0x4539('0x163')]>_0x42e076[_0x4539('0x11b')]?_0x4617ad['aggregatedStats']['highFramerate']:_0x42e076[_0x4539('0x11b')];}if(_0x4617ad['aggregatedStats']['framesDecodedStart']){_0x42e076[_0x4539('0x86')]=(_0x42e076[_0x4539('0xdf')]-_0x4617ad[_0x4539('0x139')]['framesDecodedStart'])/((_0x42e076[_0x4539('0xe8')]-_0x4617ad[_0x4539('0x139')]['timestampStart'])/0x3e8);_0x42e076['avgframerate']=Math[_0x4539('0x8e')](_0x42e076['avgframerate']);}}}if(_0x4172f4['type']=='track'&&(_0x4172f4[_0x4539('0xb0')]==_0x4539('0x11')||_0x4172f4['kind']=='video')){_0x42e076[_0x4539('0x11f')]=_0x4172f4[_0x4539('0x11f')];_0x42e076[_0x4539('0x10a')]=_0x4172f4[_0x4539('0x10a')];_0x42e076['framesDroppedPercentage']=_0x4172f4['framesDropped']/_0x4172f4[_0x4539('0x10a')]*0x64;_0x42e076[_0x4539('0x6f')]=_0x4172f4['frameHeight'];_0x42e076['frameWidth']=_0x4172f4[_0x4539('0xb')];_0x42e076[_0x4539('0x174')]=_0x4617ad[_0x4539('0x139')]&&_0x4617ad['aggregatedStats']['frameHeightStart']?_0x4617ad['aggregatedStats']['frameHeightStart']:_0x4172f4[_0x4539('0x6f')];_0x42e076[_0x4539('0x111')]=_0x4617ad[_0x4539('0x139')]&&_0x4617ad[_0x4539('0x139')][_0x4539('0x111')]?_0x4617ad['aggregatedStats'][_0x4539('0x111')]:_0x4172f4['frameWidth'];}if(_0x4172f4[_0x4539('0xf1')]==_0x4539('0x145')&&_0x4172f4[_0x4539('0x175')](_0x4539('0x38'))&&_0x4172f4['currentRoundTripTime']!=0x0){_0x42e076['currentRoundTripTime']=_0x4172f4[_0x4539('0x38')];}});if(_0x4617ad[_0x4539('0x139')]['receiveToCompositeMs']){_0x42e076['receiveToCompositeMs']=_0x4617ad['aggregatedStats'][_0x4539('0xe0')];_0x4617ad[_0x4539('0x81')]['SetFrameDisplayDeltaTime'](_0x4617ad[_0x4539('0x139')]['receiveToCompositeMs']);}_0x4617ad[_0x4539('0x139')]=_0x42e076;if(_0x4617ad[_0x4539('0x166')])_0x4617ad['onAggregatedStats'](_0x42e076);};};setupTracksToSendAsync=async function(_0x424394){_0x424394[_0x4539('0x29')](_0x4539('0x8f'),{'direction':'recvonly'});if(!_0x4617ad['useMic']){_0x424394['addTransceiver'](_0x4539('0x168'),{'direction':'recvonly'});}else{let _0x1117b0=_0x4617ad['useMic']?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x104e2c=await navigator[_0x4539('0x110')][_0x4539('0x41')]({'video':![],'audio':_0x1117b0});if(_0x104e2c){for(const _0x24fb94 of _0x104e2c['getTracks']()){if(_0x24fb94[_0x4539('0x55')]&&_0x24fb94['kind']=='audio'){_0x424394['addTransceiver'](_0x24fb94,{'direction':_0x4539('0x67')});}}}else{_0x424394['addTransceiver']('audio',{'direction':_0x4539('0x4f')});}}};this['startLatencyTest']=function(_0x56fdf3){if(!_0x4617ad[_0x4539('0x8f')]){return;}_0x4617ad['latencyTestTimings']['Reset']();_0x4617ad[_0x4539('0x81')][_0x4539('0x72')]=Date['now']();_0x56fdf3(_0x4617ad['latencyTestTimings']['TestStartTimeMs']);};this[_0x4539('0xfd')]=function(_0x4cb369){console[_0x4539('0x17b')](_0x4539('0x33'),_0x4cb369);let _0x501e14=new RTCIceCandidate(_0x4cb369);_0x4617ad['pcClient']['addIceCandidate'](_0x501e14)[_0x4539('0xa7')](_0x406ad7=>{console[_0x4539('0x17b')]('ICE\x20candidate\x20successfully\x20added');});};this['createOffer']=function(){if(_0x4617ad[_0x4539('0xdc')]){console['log'](_0x4539('0x5f'));_0x4617ad['pcClient']['close']();_0x4617ad['pcClient']=null;}_0x4617ad['pcClient']=new RTCPeerConnection(_0x4617ad[_0x4539('0x3c')]);setupTracksToSendAsync(_0x4617ad['pcClient'])[_0x4539('0x2b')](function(){setupPeerConnection(_0x4617ad['pcClient']);_0x4617ad['dcClient']=setupDataChannel(_0x4617ad[_0x4539('0xdc')],_0x4539('0x12b'),_0x4617ad[_0x4539('0xf9')]);handleCreateOffer(_0x4617ad[_0x4539('0xdc')]);});};this['receiveAnswer']=function(_0x28877c){var _0xc52dac=new RTCSessionDescription(_0x28877c);_0x4617ad[_0x4539('0xdc')][_0x4539('0x25')](_0xc52dac);let _0x1be722=_0x4617ad[_0x4539('0xdc')][_0x4539('0x6c')]();for(let _0x21ed78 of _0x1be722){_0x21ed78['playoutDelayHint']=0x0;}};this[_0x4539('0x4a')]=function(){if(_0x4617ad['pcClient']){console['log'](_0x4539('0x114'));_0x4617ad['pcClient']['close']();_0x4617ad[_0x4539('0xdc')]=null;}if(_0x4617ad[_0x4539('0xf3')])clearInterval(_0x4617ad['aggregateStatsIntervalId']);};this[_0x4539('0xbf')]=function(_0x462d53){if(_0x4617ad[_0x4539('0x88')]&&_0x4617ad['dcClient'][_0x4539('0xee')]==_0x4539('0x42')){_0x4617ad['dcClient']['send'](_0x462d53);}};this['getStats']=function(_0x24fdcf){if(_0x4617ad[_0x4539('0xdc')]&&_0x24fdcf){_0x4617ad['pcClient']['getStats'](null)[_0x4539('0xa7')](_0x38b1eb=>{_0x24fdcf(_0x38b1eb);});}};this[_0x4539('0x8')]=function(_0x23ee10){let _0x55fe82=generateAggregatedStatsFunction();let _0x27a539=()=>{_0x4617ad[_0x4539('0x23')](_0x55fe82);};_0x4617ad['aggregateStatsIntervalId']=setInterval(_0x27a539,_0x23ee10);};};return _0x374d75;}));_0x4539('0x15');var MapVision=window[_0x4539('0x104')]||{};MapVision[_0x4539('0xac')]=()=>{return'1.0.1';};MapVision[_0x4539('0xe1')]={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision[_0x4539('0x169')]={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision['MessageType']={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x4539('0xce')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x4539('0xb1')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision[_0x4539('0x80')]={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'GetBuildVersion':0x186a9,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'FlyToObjectByType':0x1870f,'FlyToObjectByIds':0x18710,'SetMousePositionCallback':0x18712,'SetNorth':0x18713,'GetMaps':0x18718,'LoadMap':0x18719,'UnLoadMap':0x1871a,'IsLoadMap':0x1871b,'GetResourceTexture2D':0x1871e,'GetResourceMaterial':0x1871f,'GetResourceMaterialInstance':0x18720,'GetResourceShape':0x18721,'GetResources':0x18722,'GetScrrenPosition':0x18723,'GetScenceSunInfo':0x1872d,'SetScenceSunInfo':0x1872e,'GetScenceRain':0x18730,'SetScenceRain':0x18731,'GetScenceSnow':0x18732,'SetScenceSnow':0x18733,'GetScenceClouds':0x18734,'SetScenceClouds':0x18735,'PlayRouteModel':0x18762,'RePlayRouteModel':0x18763,'PauseRouteModel':0x18764,'StopRouteModel':0x18765,'ResumeRouteModel':0x18766,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'StreamVideoCloseAll':0x1877f,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'UpdateObjects':0x187a7,'ResetObjects':0x187a8,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'SetHighlightRegion':0x187b3,'ClearHighlightRegion':0x187b4,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetSplitBuildingNames':0x18865,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26,'ToolMeasureDistance':0x18a2f,'ToolMeasureHeight':0x18a30,'ToolMeasureArea':0x18a31,'ToolMeasureExit':0x18a37};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x4539('0x99')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x4539('0x1d')]=0x0;this['yaw']=0x0;this['roll']=0x0;};MapVision['Label']=function(){this['type']=_0x4539('0xa');this[_0x4539('0x0')]=0x1;this['name']='';this[_0x4539('0x17a')]='';this['position']=new MapVision['Position']();};MapVision['Model3D']=function(){this['type']=_0x4539('0xe3');this['gid']=0x1;this[_0x4539('0x14f')]='';this['style']='';this[_0x4539('0x98')]=new MapVision['Position']();};MapVision[_0x4539('0xec')]=function(){this['type']='linestring';this[_0x4539('0x0')]=0x1;this['name']='';this[_0x4539('0x17a')]='';this['geom']=[];};MapVision[_0x4539('0xc9')]=function(){this[_0x4539('0xf1')]=_0x4539('0x13');this['gid']=0x1;this[_0x4539('0x14f')]='';this[_0x4539('0x17a')]='';this['geom']=[];};MapVision[_0x4539('0xea')]=function(){this[_0x4539('0xf1')]=_0x4539('0x7f');this[_0x4539('0x0')]=0x0;this['name']='';this[_0x4539('0xf0')]=[{'type':'floor','gid':0x0,'name':''}];this[_0x4539('0x98')]=new MapVision['Position']();};MapVision['WS_OPEN_STATE']=0x1;MapVision[_0x4539('0xf8')]=function(_0x53d94a){this['id']=_0x53d94a['id'];this['name']='MapVision.View3d';this['url']=_0x53d94a[_0x4539('0x13d')];this['projectId']=_0x53d94a[_0x4539('0xa0')];this[_0x4539('0xaf')]=_0x53d94a['mapkey'];if(!this['mapkey']){this['mapkey']=_0x53d94a['token'];}this[_0x4539('0x10b')]=!![];this[_0x4539('0xad')]=!![];this[_0x4539('0x120')]=null;this['_webRtcPlayerHtmlElement']=null;this[_0x4539('0x11c')]=null;this[_0x4539('0x9b')]=null;this['_callback']={'id':_0x4539('0xeb')};this['_mouseDownStatus']=![];this['_command']=null;this[_0x4539('0x89')]=null;this['_onMouseDownCallback']=null;this['_onMouseUpCallback']=null;this['_onMouseMoveCallback']=null;};MapVision['View3d']['prototype'][_0x4539('0x8d')]=function(_0x34ce38){let _0xb713e2=this;_0xb713e2[_0x4539('0x120')]=_0x34ce38;if(_0xb713e2['id']==''||_0xb713e2['url']==''||_0xb713e2['projectId']==''){if(_0xb713e2['_registerCallback']){const _0x158f7a={'code':0xc9,'msg':_0x4539('0x20')};_0xb713e2['_registerCallback'](_0x158f7a);}return;}window[_0x4539('0x4b')]=window['WebSocket']||window[_0x4539('0xe9')];if(!window[_0x4539('0x4b')]){if(_0xb713e2[_0x4539('0x120')]){const _0x397855={'code':0x1f9,'msg':'Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.'};_0xb713e2[_0x4539('0x120')](_0x397855);}return;}const _0x492225=_0xb713e2['_webSocket'];if(_0x492225){_0x492225[_0x4539('0x4a')]();_0xb713e2[_0x4539('0x9b')]=undefined;console[_0x4539('0x17b')]('\x20_webSocket\x20closed\x20');_0xb713e2['_unregisterEvents'](_0xb713e2['_webRtcPlayerHtmlElement']);}if(_0xb713e2['url']['indexOf']('/aimapvision3d')<0x0){let _0x27af7=null;let _0x13431a=![];if(_0xb713e2['url']['indexOf'](_0x4539('0x183'))==0x0){_0x13431a=!![];_0x27af7=_0xb713e2[_0x4539('0x13d')]['replace']('https:','');}else{_0x27af7=_0xb713e2[_0x4539('0x13d')][_0x4539('0xa5')](_0x4539('0x12e'),'');}_0x27af7=_0x27af7[_0x4539('0xa5')]('/','');if(_0x13431a){_0x27af7='wss://'+_0x27af7;}else{_0x27af7=_0x4539('0x35')+_0x27af7;}_0x27af7=_0x27af7['replace'](_0x4539('0x24'),'//');console['log'](_0x27af7);_0xb713e2[_0x4539('0x142')](_0x27af7);return;}const _0x22fc41={'httpUrl':_0xb713e2['url']+_0x4539('0x107')+_0xb713e2[_0x4539('0xa0')]+_0x4539('0x37')+_0xb713e2[_0x4539('0xaf')],'type':'get'};setTimeout(()=>{_0xb713e2[_0x4539('0x149')](_0x22fc41,function(_0x532058){if(_0x532058[_0x4539('0x184')]&&_0x532058['code']===0xc8){const _0x142de2=_0x532058['data'];if(_0x142de2['port']<0xa){console[_0x4539('0x17b')](_0x4539('0xc4'));if(_0xb713e2['_registerCallback']){const _0x225324={'code':0x12c,'msg':'aimapvision3d\x20server\x20is\x20not\x20started.'};_0xb713e2['_registerCallback'](_0x225324);}return;}let _0x10dbe8=![];if(_0xb713e2[_0x4539('0x13d')][_0x4539('0x16c')]('https://')==0x0){_0x10dbe8=!![];}let _0x37c45e=_0xb713e2[_0x4539('0x13d')][_0x4539('0xa5')]('http://','')[_0x4539('0xa5')](_0x4539('0x183'),'');const _0x396b5d=_0x37c45e['indexOf'](':',0x0);if(_0x396b5d>0x0)_0x37c45e=_0x37c45e[_0x4539('0xfb')](0x0,_0x396b5d);if(_0x10dbe8){_0x37c45e=_0x4539('0x52')+_0x37c45e+'/'+_0x142de2[_0x4539('0x7b')];}else{_0x37c45e='ws://'+_0x37c45e+':'+_0x142de2['port'];}_0xb713e2['_connectWebsocket'](_0x37c45e);}else{console[_0x4539('0x17b')](_0x532058);if(_0xb713e2['_registerCallback']){_0xb713e2[_0x4539('0x120')](_0x532058);}}},function(){if(_0xb713e2[_0x4539('0x120')]){const _0x4aee9f={'code':0x1f4,'msg':'Bad\x20Request'};_0xb713e2[_0x4539('0x120')](_0x4aee9f);}});},0x64);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['Close']=function(){let _0xde7b74=this;const _0x1191ac=_0xde7b74[_0x4539('0x9b')];if(_0x1191ac){_0xde7b74[_0x4539('0x14e')]();_0x1191ac['close']();_0xde7b74['_webSocket']=undefined;console[_0x4539('0x17b')](_0x4539('0x1a'));}};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x141')]=function(_0x7bd395,_0x4e9c82){if(_0x7bd395==='onmousedown'){this['_onMouseDownCallback']=_0x4e9c82;this['_emiUICommand'](MapVision['CommandType']['SetMouseCallback']);}else if(_0x7bd395===_0x4539('0x112')){this['_onMouseMoveCallback']=_0x4e9c82;}else if(_0x7bd395==='onmouseup'){this['_onMouseUpCallback']=_0x4e9c82;}else{this[_0x4539('0x120')]=_0x4e9c82;}};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x14e')]=function(){if(!this['_webSocket']&&this['_webRtcPlayerHtmlElement']){this[_0x4539('0x47')](this['_webRtcPlayerHtmlElement']);}this[_0x4539('0x176')]=null;this['_onMouseMoveCallback']=null;this['_onMouseUpCallback']=null;this[_0x4539('0x120')]=null;};MapVision['View3d']['prototype']['IsClose']=function(){const _0x54ac87=this['_webSocket']===undefined;return _0x54ac87;};MapVision['View3d'][_0x4539('0x186')][_0x4539('0xd1')]=function(_0x44cc9c){this['_emiUICommand'](MapVision['CommandType']['SetParameters'],_0x44cc9c);};MapVision['View3d'][_0x4539('0x186')]['SetResolution']=function(_0x3b6bd0,_0x567159){this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x6d')],{'width':_0x3b6bd0,'height':_0x567159});};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0xed')]=function(_0x1b0cbd){this['_callback'][MapVision['CommandType']['GetBuildVersion']]=_0x1b0cbd;this[_0x4539('0x60')](MapVision['CommandType']['GetBuildVersion']);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x59')]=function(_0x2b57a1,_0x4df235){this['_callback'][MapVision[_0x4539('0xc5')]['SetMapStatus']]=_0x4df235;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x59')],{'mapstatus':_0x2b57a1});};MapVision['View3d']['prototype']['Clear']=function(){this[_0x4539('0x89')]=null;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x1c')]);};MapVision['View3d'][_0x4539('0x186')]['Stop']=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x4539('0x137')][_0x4539('0x10e')],0x57])[_0x4539('0x109')]);this['_sendInputData'](new Uint8Array([MapVision[_0x4539('0x137')][_0x4539('0x10e')],0x53])[_0x4539('0x109')]);this[_0x4539('0x146')](new Uint8Array([MapVision['MessageType']['KeyUp'],0x44])['buffer']);this[_0x4539('0x146')](new Uint8Array([MapVision['MessageType']['KeyUp'],0x41])['buffer']);this['_sendInputData'](new Uint8Array([MapVision[_0x4539('0x137')]['KeyUp'],0x25])['buffer']);this[_0x4539('0x146')](new Uint8Array([MapVision[_0x4539('0x137')][_0x4539('0x10e')],0x26])['buffer']);this[_0x4539('0x146')](new Uint8Array([MapVision[_0x4539('0x137')][_0x4539('0x10e')],0x27])[_0x4539('0x109')]);this[_0x4539('0x146')](new Uint8Array([MapVision['MessageType']['KeyUp'],0x28])[_0x4539('0x109')]);this['_emiUICommand'](MapVision[_0x4539('0xc5')]['Stop']);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x7')]=function(){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x7')]);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['Rotate']=function(_0x251f23,_0xeb7bc,_0x6e3809,_0x17328f,_0x2d9400){let _0x446a13={};if(_0x251f23){_0x446a13[_0x4539('0x1d')]=_0x251f23;}if(_0xeb7bc){_0x446a13[_0x4539('0xcc')]=_0xeb7bc;}if(_0x6e3809){_0x446a13[_0x4539('0x101')]=_0x6e3809;}if(_0x17328f){_0x446a13['gid']=_0x17328f;}if(_0x2d9400){_0x446a13[_0x4539('0xf5')]=_0x2d9400;}this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x13b')],{'gid':_0x17328f,'pitch':_0x251f23,'radio':_0xeb7bc,'distance':_0x6e3809,'highlight':_0x2d9400});};MapVision['View3d']['prototype']['GetCurrentPosition']=function(_0x1dbf5b){this['_callback'][MapVision[_0x4539('0xc5')]['GetCurrentPosition']]=_0x1dbf5b;this['_emiUICommand'](MapVision['CommandType']['GetCurrentPosition']);};MapVision['View3d'][_0x4539('0x186')]['GetScrrenPosition']=function(_0x1ce413,_0x1b11d1){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0x18a')]]=_0x1b11d1;const _0x303d63=[];_0x1ce413['forEach'](_0x59e0c9=>{_0x303d63['push']({'gid':_0x59e0c9['gid']});});this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x18a')],{'objects':_0x303d63});};MapVision[_0x4539('0xf8')]['prototype']['GetScenceSunInfo']=function(_0x429827){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['GetScenceSunInfo']]=_0x429827;this[_0x4539('0x60')](MapVision['CommandType']['GetScenceSunInfo']);};MapVision['View3d']['prototype']['SetScenceSunInfo']=function(_0x272368,_0x2eb51a){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x125')],_0x272368);};MapVision['View3d']['prototype'][_0x4539('0xab')]=function(_0x15621c){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0xab')]]=_0x15621c;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0xab')]);};MapVision['View3d'][_0x4539('0x186')]['SetScenceRain']=function(_0x3735cb){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x16b')],{'ebable':_0x3735cb});};MapVision[_0x4539('0xf8')]['prototype']['GetScenceSnow']=function(_0x3e1482){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0x177')]]=_0x3e1482;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x177')]);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x83')]=function(_0x15e6e6){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['SetScenceSnow'],{'ebable':_0x15e6e6});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x44')]=function(_0x974767){this['_callback'][MapVision['CommandType']['GetScenceClouds']]=_0x974767;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x44')]);};MapVision['View3d'][_0x4539('0x186')]['SetScenceClouds']=function(_0x139196){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x188')],{'ebable':_0x139196});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x13e')]=function(_0x223231){this[_0x4539('0x12')][MapVision['CommandType']['SetMouseCallback']]=_0x223231;this['_emiUICommand'](MapVision['CommandType']['SetMouseCallback']);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x62')]=function(_0x14fbc3){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['SetMousePositionCallback']]=_0x14fbc3;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x62')]);};MapVision[_0x4539('0xf8')]['prototype']['SetNorth']=function(_0x292fcc){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x32')],{'angle':_0x292fcc});};MapVision[_0x4539('0xf8')]['prototype']['GetMaps']=function(_0xbc2206){this['_callback'][MapVision['CommandType']['GetMaps']]=_0xbc2206;this['_emiUICommand'](MapVision['CommandType']['GetMaps']);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['LoadMap']=function(_0x29e619){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['LoadMap'],{'name':_0x29e619});};MapVision['View3d']['prototype']['UnLoadMap']=function(_0x45f19f){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x18')],{'name':_0x45f19f});};MapVision['View3d']['prototype']['IsLoadMap']=function(_0xa9b768,_0x2c9b90){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0xd5')]]=_0x2c9b90;this['_emiUICommand'](MapVision['CommandType']['IsLoadMap'],{'name':_0xa9b768});};MapVision['View3d'][_0x4539('0x186')]['GetResourceTexture2D']=function(_0x36c3d0){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0x49')]]=_0x36c3d0;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x49')]);};MapVision['View3d'][_0x4539('0x186')]['GetResourceMaterial']=function(_0x5485e7){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['GetResourceMaterial']]=_0x5485e7;this[_0x4539('0x60')](MapVision['CommandType']['GetResourceMaterial']);};MapVision['View3d'][_0x4539('0x186')]['GetResourceMaterialInstance']=function(_0x2792b9){this[_0x4539('0x12')][MapVision['CommandType'][_0x4539('0x50')]]=_0x2792b9;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x50')]);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['GetResourceShape']=function(_0x1ab487){this['_callback'][MapVision[_0x4539('0xc5')]['GetResourceShape']]=_0x1ab487;this['_emiUICommand'](MapVision['CommandType']['GetResourceShape']);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0xca')]=function(_0x4bccd4){this['_callback'][MapVision['CommandType']['GetResources']]=_0x4bccd4;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['GetResources']);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x154')]=function(_0x37c5db){this['_callback'][MapVision[_0x4539('0xc5')]['GetHomePosition']]=_0x37c5db;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['GetHomePosition']);};MapVision['View3d']['prototype'][_0x4539('0x129')]=function(_0x468996,_0x406bb2){_0x468996[_0x4539('0x16a')]=_0x406bb2;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['SetPosition'],_0x468996);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x63')]=function(_0x25fcf7,_0x4467b9,_0xdcce6){_0x25fcf7[_0x4539('0x16a')]=_0x4467b9;_0x25fcf7['speed']=_0xdcce6;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x63')],_0x25fcf7);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x27')]=function(_0x5d62f9,_0x2145cf,_0x597ed5){_0x5d62f9[_0x4539('0x16a')]=_0x2145cf;_0x5d62f9['speed']=_0x597ed5;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x27')],_0x5d62f9);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0xf6')]=function(_0x324f3e,_0x3589a6,_0x476975,_0x5422d6,_0xe32696){this['_emiUICommand'](MapVision['CommandType']['FlyToObjectById'],{'gid':_0x324f3e,'showlocation':_0x3589a6,'distance':_0x5422d6,'speed':_0xe32696,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x476975,'yaw':0x0,'roll':0x0}});};MapVision['View3d'][_0x4539('0x186')]['FlyToObjectByType']=function(_0x238baa,_0x11c7f6){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x102')],{'type':_0x238baa,'hradio':_0x11c7f6});};MapVision['View3d']['prototype']['FlyToObjectByIds']=function(_0x1966d1,_0x4011ff){this[_0x4539('0x60')](MapVision['CommandType']['FlyToObjectByIds'],{'ids':_0x1966d1,'hradio':_0x4011ff});};MapVision['View3d']['prototype'][_0x4539('0x61')]=function(_0x3b40a4,_0x4a1cb5){this['_callback'][MapVision['CommandType'][_0x4539('0x61')]]=_0x4a1cb5;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['FindObjectById'],{'gid':_0x3b40a4});};MapVision['View3d'][_0x4539('0x186')]['FindObjectByName']=function(_0x1144b8,_0x4c4852){this['_callback'][MapVision['CommandType']['FindObjectByName']]=_0x4c4852;this[_0x4539('0x60')](MapVision['CommandType']['FindObjectByName'],{'gid':_0x1144b8,'name':_0x1144b8});};MapVision['View3d']['prototype']['FindObjectByPrefix']=function(_0x44e274,_0x56fa4d,_0x3cc8a8){this[_0x4539('0x12')][MapVision['CommandType']['FindObjectByPrefix']]=_0x3cc8a8;if(!_0x56fa4d)_0x56fa4d=0x14;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['FindObjectByPrefix'],{'gid':_0x44e274,'limit':_0x56fa4d});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xe2')]=function(_0x4c5125){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['GetSelectedObject']]=_0x4c5125;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0xe2')]);};MapVision['View3d']['prototype'][_0x4539('0x171')]=function(_0x266689){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x171')],_0x266689);};MapVision[_0x4539('0xf8')]['prototype']['UpdateObjectStyle']=function(_0x57d82e,_0x34fb86,_0x34f784){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x9c')],{'gid':_0x57d82e,'style':_0x34fb86,'color':_0x34f784});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xd7')]=function(_0x537ca7){if(_0x537ca7){this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x9c')],{'gid':_0x537ca7,'style':_0x4539('0x43'),'color':'#ff0000'});}else{this[_0x4539('0x60')](MapVision['CommandType']['ClearObjectStyle']);}};MapVision['View3d']['prototype'][_0x4539('0x165')]=function(_0x3f8fa6){this['_callback'][MapVision[_0x4539('0xc5')]['GetObjectsVisible']]=_0x3f8fa6;this['_emiUICommand'](MapVision['CommandType']['GetObjectsVisible']);};MapVision['View3d'][_0x4539('0x186')]['SetObjectsVisible']=function(_0x18ddab){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x136')],{'objects':_0x18ddab});};MapVision['View3d'][_0x4539('0x186')]['UpdateObjects']=function(_0x5f5042){this[_0x4539('0x60')](MapVision['CommandType']['UpdateObjects'],{'objects':_0x5f5042});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xe6')]=function(){this['_emiUICommand'](MapVision['CommandType']['ResetObjects']);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x74')]=function(_0x11595c){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x74')],{'gid':_0x11595c});};MapVision['View3d'][_0x4539('0x186')]['SetObjectsHighlight']=function(_0x46eaa0){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x150')],{'objects':_0x46eaa0});};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x17c')]=function(_0x9524ba){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x17c')],{'prefix':_0x9524ba});};MapVision['View3d']['prototype'][_0x4539('0xa9')]=function(){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['ClearHighlight']);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0xb7')]=function(_0x4639de){this[_0x4539('0x60')](MapVision['CommandType']['SetHighlightRegion'],_0x4639de);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x10c')]=function(){this['_emiUICommand'](MapVision['CommandType']['ClearHighlightRegion']);};MapVision['View3d']['prototype']['UpdateObjectVisible']=function(_0x1f2d26,_0x2adf06){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x84')],{'gid':_0x1f2d26,'visible':_0x2adf06});};MapVision['View3d']['prototype'][_0x4539('0x58')]=function(_0x358807,_0x141907){this[_0x4539('0x60')](MapVision['CommandType']['UpdateObjectVisibleByPrefix'],{'gid':_0x358807,'visible':_0x141907});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x116')]=function(_0x422518){this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x116')],_0x422518);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xbd')]=function(_0x16537e,_0x267b37){this['_callback'][MapVision[_0x4539('0xc5')]['CreateRoute']]=_0x267b37;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xbd')],_0x16537e);};MapVision['View3d']['prototype']['StartRoute']=function(_0x327726,_0x42df93){this['_callback'][MapVision['CommandType']['StartRoute']]=_0x42df93;this['_emiUICommand'](MapVision['CommandType']['StartRoute'],_0x327726);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0xa8')]=function(_0x2292a4){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0xa8')]]=_0x2292a4;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0xa8')]);};MapVision['View3d'][_0x4539('0x186')]['PauseRoute']=function(){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x13c')]);};MapVision['View3d']['prototype']['StopRoute']=function(){this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x113')]);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xc7')]=function(_0x383f36){this[_0x4539('0x12')][MapVision['CommandType']['ResumeRoute']]=_0x383f36;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['ResumeRoute']);};MapVision['View3d']['prototype']['PlayRouteModel']=function(_0x285395){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x2f')],{'gid':_0x285395});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['RePlayRouteModel']=function(_0x35ffbd){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['RePlayRouteModel'],{'gid':_0x35ffbd});};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x178')]=function(_0xed767c){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x178')],{'gid':_0xed767c});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['StopRouteModel']=function(_0x4eb272){this[_0x4539('0x60')](MapVision['CommandType']['StopRouteModel'],{'gid':_0x4eb272});};MapVision['View3d']['prototype']['ResumeRouteModel']=function(_0x7f435b){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['ResumeRouteModel'],{'gid':_0x7f435b});};MapVision['View3d']['prototype']['PlaySequence']=function(_0x3935b1){this[_0x4539('0x60')](MapVision['CommandType']['PlaySequence'],{'gid':_0x3935b1});};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x26')]=function(_0x400f37){this['_emiUICommand'](MapVision['CommandType']['PauseSequence'],{'gid':_0x400f37});};MapVision['View3d'][_0x4539('0x186')]['IsPlayingSequence']=function(_0x3ca0d5,_0xabff43){this['_callback'][MapVision[_0x4539('0xc5')]['IsPlayingSequence']]=_0xabff43;this['_emiUICommand'](MapVision['CommandType']['IsPlayingSequence'],{'gid':_0x3ca0d5});};MapVision[_0x4539('0xf8')]['prototype']['IsPausedSequence']=function(_0x4c466d,_0x473f6a){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0x130')]]=_0x473f6a;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['IsPausedSequence'],{'gid':_0x4c466d});};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x14d')]=function(_0x119ebd,_0x31d66c){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['StopSequence'],{'gid':_0x119ebd});};MapVision['View3d']['prototype'][_0x4539('0x173')]=function(_0x334ae7){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x173')],_0x334ae7);};MapVision['View3d']['prototype'][_0x4539('0x8b')]=function(_0x37142a){if(!_0x37142a)_0x37142a=0x0;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x8b')],{'index':_0x37142a});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xa2')]=function(){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['StreamVideoCloseAll']);};MapVision['View3d'][_0x4539('0x186')]['GetBuildingNum']=function(_0x1b8457){this['_callback'][MapVision['CommandType'][_0x4539('0x140')]]=_0x1b8457;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x140')]);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['GetBuildingName']=function(_0xba7221,_0x27c575){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0x134')]]=_0x27c575;this['_emiUICommand'](MapVision['CommandType']['GetBuildingName'],{'bindex':_0xba7221});};MapVision['View3d']['prototype']['GetBuildingNames']=function(_0x5e1eb7){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0xda')]]=_0x5e1eb7;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xda')]);};MapVision['View3d']['prototype']['GetSplitBuildingNames']=function(_0x2ddf6a){this['_callback'][MapVision['CommandType']['GetSplitBuildingNames']]=_0x2ddf6a;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['GetSplitBuildingNames']);};MapVision['View3d']['prototype']['GetBuildingVisible']=function(_0x1c59f7,_0x3648bd){this['_callback'][MapVision['CommandType'][_0x4539('0x127')]]=_0x3648bd;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x127')],{'gid':_0x1c59f7});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['SetBuildingVisible']=function(_0x4af511,_0xcfa936,_0x5c591b){this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x2e')],{'gid':_0x4af511,'visible':_0xcfa936,'opacity':_0x5c591b});};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x15c')]=function(_0x135325,_0x3f6558,_0xde5073){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x15c')],{'gid':_0x135325,'visible':_0x3f6558,'opacity':_0xde5073});};MapVision[_0x4539('0xf8')]['prototype']['ResetAllBuildings']=function(){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x17f')]);};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x148')]=function(_0xc06f84,_0x1737ee){this[_0x4539('0x60')](MapVision['CommandType']['SplitBuilding'],{'gid':_0xc06f84,'offset':_0x1737ee});};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x12d')]=function(_0x17a970){this[_0x4539('0x60')](MapVision['CommandType']['SplitBuildingReset'],{'gid':_0x17a970});};MapVision['View3d']['prototype']['SplitDynamicBuilding']=function(_0x3d9b23,_0x201918,_0x5e7c77){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['SplitDynamicBuilding'],{'gid':_0x3d9b23,'offset':_0x201918,'seconds':_0x5e7c77});};MapVision['View3d']['prototype']['SplitDynamicFloor']=function(_0x41b55a,_0x57b99b,_0x2a12bf,_0x2a5207){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x162')],{'gid':_0x41b55a,'floor':_0x57b99b,'offset':_0x2a12bf,'seconds':_0x2a5207});};MapVision['View3d'][_0x4539('0x186')]['SplitFloorReset']=function(_0x180fc1,_0x5b596e){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x123')],{'gid':_0x180fc1,'floor':_0x5b596e});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x153')]=function(_0x521c0f,_0x39a035){this['_callback'][MapVision['CommandType'][_0x4539('0x153')]]=_0x39a035;this['_emiUICommand'](MapVision['CommandType']['GetFloorNum'],{'gid':_0x521c0f});};MapVision['View3d'][_0x4539('0x186')]['GetFloorName']=function(_0x4ccedb,_0x4ab0b6){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0xd')]]=_0x4ab0b6;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xd')],{'gid':_0x4ccedb});};MapVision['View3d'][_0x4539('0x186')]['GetFloorNames']=function(_0x1e642e,_0x19bcda){this['_callback'][MapVision['CommandType']['GetFloorNames']]=_0x19bcda;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xd')],{'gid':_0x1e642e});};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x13f')]=function(_0x452eda,_0x3bbab3,_0x5513a3){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0x13f')]]=_0x5513a3;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x13f')],{'gid':_0x452eda,'floor':_0x3bbab3});};MapVision['View3d']['prototype']['SetFloorVisible']=function(_0x2bdf6a,_0x37feb2,_0xf99116,_0x40d4ec){if(!_0xf99116)_0xf99116=![];if(!_0x40d4ec)_0x40d4ec=0x0;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['SetFloorVisible'],{'gid':_0x2bdf6a,'floor':_0x37feb2,'visible':_0xf99116,'opacity':_0x40d4ec});};MapVision[_0x4539('0xf8')]['prototype']['GetUpFloorNum']=function(_0x497bf8,_0x4528c5,_0x3f2fed){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['GetUpFloorNum']]=_0x3f2fed;this['_emiUICommand'](MapVision['CommandType']['GetUpFloorNum'],{'gid':_0x497bf8,'floor':_0x4528c5});};MapVision['View3d'][_0x4539('0x186')]['GetUpFloorNames']=function(_0x4e8eee,_0x470112,_0x32b699){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0x132')]]=_0x32b699;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x132')],{'gid':_0x4e8eee,'floor':_0x470112});};MapVision['View3d']['prototype'][_0x4539('0xd2')]=function(_0x565c57,_0x2001fd,_0x39c59d){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0xd2')]]=_0x39c59d;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0xd2')],{'gid':_0x565c57,'floor':_0x2001fd});};MapVision['View3d'][_0x4539('0x186')]['GetDownFloorNames']=function(_0x401159,_0x3cdb2c,_0x4ee994){this['_callback'][MapVision[_0x4539('0xc5')]['GetDownFloorNames']]=_0x4ee994;this['_emiUICommand'](MapVision['CommandType']['GetDownFloorNames'],{'gid':_0x401159,'floor':_0x3cdb2c});};MapVision['View3d'][_0x4539('0x186')]['GetFloorRoomNum']=function(_0x357563,_0x1a247a,_0x696b0f){this['_callback'][MapVision['CommandType'][_0x4539('0xe7')]]=_0x696b0f;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['GetFloorRoomNum'],{'gid':_0x357563,'floor':_0x1a247a});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['GetFloorRoomName']=function(_0x5093d6,_0x3f5cf4,_0x19a288){this['_callback'][MapVision['CommandType']['GetFloorRoomNames']]=_0x19a288;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x158')],{'gid':_0x5093d6,'floor':_0x3f5cf4});};MapVision['View3d']['prototype'][_0x4539('0x158')]=function(_0x4ef4c2,_0x21298c,_0x3a8c7a){this['_callback'][MapVision[_0x4539('0xc5')]['GetFloorRoomNames']]=_0x3a8c7a;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x158')],{'gid':_0x4ef4c2,'floor':_0x21298c});};MapVision[_0x4539('0xf8')]['prototype']['GetFloorRoomVisible']=function(_0x413d01,_0x5d79c8,_0x25ad03,_0x249161){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['GetFloorRoomVisible']]=_0x249161;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x5')],{'gid':_0x413d01,'floor':_0x5d79c8,'room':_0x25ad03});};MapVision[_0x4539('0xf8')]['prototype']['SetFloorRoomVisible']=function(_0x293805,_0x12b38b,_0x1a7465,_0xae49f,_0x46c8bc){if(!_0xae49f)_0xae49f=![];if(!_0x46c8bc)_0x46c8bc=0x0;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['SetFloorRoomVisible'],{'gid':_0x293805,'floor':_0x12b38b,'room':_0x1a7465,'visible':_0xae49f,'opacity':_0x46c8bc});};MapVision['View3d'][_0x4539('0x186')]['GetFloorDeviceNum']=function(_0xac4f5f,_0x4cdf0a,_0x275124){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')][_0x4539('0x14')]]=_0x275124;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['GetFloorDeviceNum'],{'gid':_0xac4f5f,'floor':_0x4cdf0a});};MapVision['View3d'][_0x4539('0x186')]['GetFloorDeviceName']=function(_0x4cb964,_0x1eca39,_0x30d264){this[_0x4539('0x12')][MapVision['CommandType'][_0x4539('0x15d')]]=_0x30d264;this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x15d')],{'gid':_0x4cb964,'floor':_0x1eca39});};MapVision['View3d'][_0x4539('0x186')]['GetFloorDeviceNames']=function(_0x595fab,_0x41389e,_0x4625f0){this[_0x4539('0x12')][MapVision['CommandType'][_0x4539('0x15d')]]=_0x4625f0;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x15d')],{'gid':_0x595fab,'floor':_0x41389e});};MapVision[_0x4539('0xf8')]['prototype']['GetFloorDeviceVisible']=function(_0x124799,_0x468ff4,_0x25fe2e,_0x379c30){this['_callback'][MapVision['CommandType'][_0x4539('0x2d')]]=_0x379c30;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x2d')],{'gid':_0x124799,'floor':_0x468ff4,'device':_0x25fe2e});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['SetFloorDeviceVisible']=function(_0x1a0491,_0x5a8c95,_0x21d961,_0x1b0a56,_0x19608f){if(!_0x1b0a56)_0x1b0a56=![];if(!_0x19608f)_0x19608f=0x0;this[_0x4539('0x60')](MapVision['CommandType']['SetFloorDeviceVisible'],{'gid':_0x1a0491,'floor':_0x5a8c95,'device':_0x21d961,'visible':_0x1b0a56,'opacity':_0x19608f});};MapVision['View3d']['prototype'][_0x4539('0x3a')]=function(_0x5e3dde){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x3a')],{'visible':_0x5e3dde});};MapVision[_0x4539('0xf8')][_0x4539('0x186')][_0x4539('0x11d')]=function(_0x5177d2,_0x500b8f){this['_callback'][MapVision['CommandType']['OverLayerStartEdit']]=_0x500b8f;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x11d')],_0x5177d2);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x121')]=function(){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0x121')]);};MapVision[_0x4539('0xf8')]['prototype']['OverLayerSelectObjectEdit']=function(_0x5a156e){this['_callback'][MapVision['CommandType']['OverLayerSelectObjectEdit']]=_0x5a156e;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0xbc')]=function(_0xd8e251,_0x404e29){this[_0x4539('0x12')][MapVision['CommandType'][_0x4539('0xbc')]]=_0x404e29;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0xbc')],{'name':_0xd8e251});};MapVision[_0x4539('0xf8')]['prototype']['OverLayerCreateObject']=function(_0x4a6c88,_0x5139ca){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0xf')]]=_0x5139ca;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xf')],_0x4a6c88);};MapVision['View3d'][_0x4539('0x186')]['OverLayerCreateObjects']=function(_0x1c1d42,_0xcf5f0b){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0xa4')]]=_0xcf5f0b;this['_emiUICommand'](MapVision['CommandType'][_0x4539('0xa4')],{'shapes':_0x1c1d42});};MapVision[_0x4539('0xf8')]['prototype']['OverLayerUpdateObject']=function(_0x5c6a52){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['OverLayerUpdateObject'],_0x5c6a52);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0xe5')]=function(_0x1ba04f){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['OverLayerRemoveObject'],_0x1ba04f);};MapVision['View3d']['prototype']['OverLayerRemoveObjectById']=function(_0x3f674d){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xe5')],{'gid':_0x3f674d});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['OverLayerRemoveObjectsById']=function(_0x484bf4){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['OverLayerRemoveObjects'],{'ids':_0x484bf4});};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x6')]=function(_0x26b9df){if(_0x26b9df){this['_emiUICommand'](MapVision['CommandType'][_0x4539('0x128')],{'types':_0x26b9df});}else{this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x6')]);}};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x48')]=function(_0x4cfab0,_0x50dbee){this[_0x4539('0x12')][MapVision['CommandType']['LayerLoad']]=_0x50dbee;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['LayerLoad'],_0x4cfab0);};MapVision['View3d']['prototype']['LayerReLoad']=function(_0xb004c6,_0x47e818){this['_callback'][MapVision[_0x4539('0xc5')]['LayerReLoad']]=_0x47e818;this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x3b')],_0xb004c6);};MapVision['View3d']['prototype']['LayersLoad']=function(_0x566ffe,_0x174c14){this['_callback'][MapVision[_0x4539('0xc5')][_0x4539('0x172')]]=_0x174c14;this[_0x4539('0x60')](MapVision[_0x4539('0xc5')]['LayersLoad'],{'layers':_0x566ffe});};MapVision['View3d'][_0x4539('0x186')]['LayerSelectObject']=function(_0x519a2d,_0x3d6155){this[_0x4539('0x12')][MapVision[_0x4539('0xc5')]['LayerSelectObject']]=_0x3d6155;this['_emiUICommand'](MapVision[_0x4539('0xc5')]['LayerSelectObject'],{'gid':_0x519a2d});};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['LayerRemove']=function(_0x2108fa){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x31')],{'gid':_0x2108fa});};MapVision['View3d'][_0x4539('0x186')]['LayerSetVisible']=function(_0x1b3711,_0x373b19){this[_0x4539('0x60')](MapVision['CommandType']['LayerSetVisible'],{'gid':_0x1b3711,'visible':_0x373b19});};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x87')]=function(_0xcb9311,_0x46fb26,_0x578a39,_0x478ce9){this['_emiUICommand'](MapVision[_0x4539('0xc5')][_0x4539('0x19')],{'visible':_0xcb9311,'x':_0x46fb26,'y':_0x578a39,'scale':_0x478ce9});};MapVision['View3d']['prototype']['StartMeasureDistance']=function(){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['ToolMeasureDistance']);};MapVision['View3d'][_0x4539('0x186')]['StartMeasureHeight']=function(){this[_0x4539('0x60')](MapVision['CommandType'][_0x4539('0x16')]);};MapVision['View3d'][_0x4539('0x186')]['StartMeasureArea']=function(){this['_emiUICommand'](MapVision[_0x4539('0xc5')]['ToolMeasureArea']);};MapVision[_0x4539('0xf8')]['prototype'][_0x4539('0x8c')]=function(){this[_0x4539('0x60')](MapVision[_0x4539('0xc5')][_0x4539('0xc1')]);};MapVision['View3d']['prototype'][_0x4539('0x142')]=function(_0x344356){let _0x47f7bf=this;_0x47f7bf[_0x4539('0x9b')]=new WebSocket(_0x344356);_0x47f7bf[_0x4539('0x9b')][_0x4539('0xb4')]=function(_0x292160){var _0x21b3b5=JSON['parse'](_0x292160[_0x4539('0x4')]);if(_0x21b3b5['type']==='config'){_0x47f7bf['_createWebRtcPlayer'](_0x47f7bf['id'],_0x21b3b5);}else if(_0x21b3b5[_0x4539('0xf1')]===_0x4539('0x7d')){}else if(_0x21b3b5['type']===_0x4539('0xd6')){_0x47f7bf['_onWebRtcAnswer'](_0x21b3b5);}else if(_0x21b3b5[_0x4539('0xf1')]===_0x4539('0x187')){_0x47f7bf['_onWebRtcIce'](_0x21b3b5[_0x4539('0x91')]);}else{console[_0x4539('0x17b')](_0x4539('0x160')+_0x21b3b5[_0x4539('0xf1')]);}};_0x47f7bf['_webSocket']['onerror']=function(_0x14862d){console[_0x4539('0x17b')]('this._webSocket\x20error:\x20'+JSON[_0x4539('0x4e')](_0x14862d));if(_0x47f7bf['_registerCallback']){const _0x4fbc03={'code':0x64,'msg':_0x4539('0xaa')};_0x47f7bf['_registerCallback'](_0x4fbc03);}};_0x47f7bf['_webSocket'][_0x4539('0xfe')]=function(_0x92a47b){console[_0x4539('0x17b')](_0x4539('0x180')+JSON[_0x4539('0x4e')](_0x92a47b[_0x4539('0x184')])+'\x20-\x20'+_0x92a47b[_0x4539('0x79')]);_0x47f7bf['_webSocket']=undefined;let _0x2c8b41=document[_0x4539('0x6e')](_0x47f7bf['id']);if(_0x47f7bf['_webRtcPlayerObj']){_0x2c8b41[_0x4539('0x105')](_0x47f7bf[_0x4539('0x11c')]['video']);_0x47f7bf['_webRtcPlayerObj'][_0x4539('0x4a')]();_0x47f7bf['_webRtcPlayerObj']=undefined;}if(_0x47f7bf[_0x4539('0x120')]){const _0x409747={'code':0x190,'msg':'websocket\x20closed'};_0x47f7bf['_registerCallback'](_0x409747);}};};MapVision[_0x4539('0xf8')]['prototype']['_registerMouseEvents']=function(_0x558a7d){let _0x4c7f25=this;_0x558a7d[_0x4539('0x112')]=_0x1e99d0=>{if(!_0x4c7f25['enableMouse']){return;}_0x4c7f25[_0x4539('0x124')](_0x1e99d0['offsetX'],_0x1e99d0[_0x4539('0x13a')],_0x1e99d0[_0x4539('0x108')],_0x1e99d0['movementY']);if(_0x4c7f25['_mouseDownStatus']&&_0x4c7f25['_onMouseMoveCallback']){_0x4c7f25[_0x4539('0x18b')](_0x1e99d0,_0x4c7f25[_0x4539('0x89')]);}_0x1e99d0[_0x4539('0x161')]();};_0x558a7d['onmousedown']=_0xc72df9=>{_0x4c7f25[_0x4539('0x189')]=!![];_0x4c7f25['_onMouseSelectedObj']=null;if(!_0x4c7f25['enableMouse']){return;}_0x4c7f25[_0x4539('0x155')](_0xc72df9['button'],_0xc72df9[_0x4539('0x3f')],_0xc72df9[_0x4539('0x13a')]);setTimeout(function(){if(_0x4c7f25['_onMouseDownCallback']){_0x4c7f25['_onMouseDownCallback'](_0xc72df9,_0x4c7f25['_onMouseSelectedObj']);}},0x64);_0xc72df9['preventDefault']();};_0x558a7d['onmouseup']=_0x1c1043=>{_0x4c7f25[_0x4539('0x189')]=![];if(!_0x4c7f25[_0x4539('0xad')]){return;}_0x4c7f25[_0x4539('0x1b')](_0x1c1043[_0x4539('0x82')],_0x1c1043['offsetX'],_0x1c1043[_0x4539('0x13a')]);if(_0x4c7f25[_0x4539('0xde')]){_0x4c7f25['_onMouseUpCallback'](_0x1c1043,_0x4c7f25['_onMouseSelectedObj']);}_0x1c1043['preventDefault']();};_0x558a7d[_0x4539('0x135')]=_0x33ec79=>{if(!_0x4c7f25['enableMouse']){return;}_0x4c7f25['_onMouseUp'](_0x33ec79['button'],_0x33ec79['offsetX'],_0x33ec79['offsetY']);_0x33ec79['preventDefault']();};if('onmousewheel'in _0x558a7d){_0x558a7d[_0x4539('0x57')]=_0x4f26e=>{if(!_0x4c7f25[_0x4539('0xad')]){return;}_0x4c7f25[_0x4539('0x115')](_0x4f26e['wheelDelta'],_0x4f26e[_0x4539('0x3f')],_0x4f26e['offsetY']);_0x4f26e['preventDefault']();};}else{_0x558a7d[_0x4539('0xba')]('DOMMouseScroll',_0x5d8334=>{if(!_0x4c7f25[_0x4539('0xad')]){return;}_0x4c7f25[_0x4539('0x115')](_0x5d8334[_0x4539('0xb2')]*-0x78,_0x5d8334['offsetX'],_0x5d8334['offsetY']);_0x5d8334['preventDefault']();},![]);}_0x558a7d['pressMouseButtons']=_0x1ad178=>{if(!_0x4c7f25['enableMouse']){return;}_0x4c7f25[_0x4539('0x6a')](_0x1ad178['buttons'],_0x1ad178['offsetX'],_0x1ad178['offsetY']);};_0x558a7d['releaseMouseButtons']=_0x3bd65e=>{if(!_0x4c7f25[_0x4539('0xad')]){return;}_0x4c7f25[_0x4539('0x11a')](_0x3bd65e['buttons'],_0x3bd65e[_0x4539('0x3f')],_0x3bd65e[_0x4539('0x13a')]);};_0x558a7d['onmouseenter']=_0x26c2c0=>{if(!_0x4c7f25[_0x4539('0xad')]){return;}var _0x2bc250=new DataView(new ArrayBuffer(0x1));_0x2bc250['setUint8'](0x0,MapVision[_0x4539('0x137')]['MouseEnter']);_0x4c7f25['_sendInputData'](_0x2bc250['buffer']);_0x558a7d[_0x4539('0xe4')](_0x26c2c0);};_0x558a7d['onmouseleave']=_0x51f18b=>{if(!_0x4c7f25[_0x4539('0xad')]){return;}var _0x2f61d5=new DataView(new ArrayBuffer(0x1));_0x2f61d5['setUint8'](0x0,MapVision[_0x4539('0x137')]['MouseLeave']);_0x4c7f25['_sendInputData'](_0x2f61d5[_0x4539('0x109')]);_0x558a7d['releaseMouseButtons'](_0x51f18b);};};MapVision[_0x4539('0xf8')]['prototype']['_registerTouchEvents']=function(_0x5c31d3){};MapVision['View3d']['prototype'][_0x4539('0x47')]=function(_0x220278){if(!_0x220278){return;}_0x220278['onmousemove']=_0x1e7125=>{_0x1e7125['preventDefault']();};_0x220278[_0x4539('0xcb')]=_0x55627c=>{_0x55627c['preventDefault']();};_0x220278['onmouseup']=_0x5f722=>{_0x5f722['preventDefault']();};_0x220278[_0x4539('0x135')]=_0x24ffed=>{_0x24ffed['preventDefault']();};if(_0x4539('0x57')in _0x220278){_0x220278[_0x4539('0x57')]=_0x47796d=>{_0x47796d[_0x4539('0x161')]();};}else{_0x220278['addEventListener']('DOMMouseScroll',_0x36342e=>{_0x36342e[_0x4539('0x161')]();},![]);}_0x220278[_0x4539('0xe4')]=_0x575578=>{};_0x220278['releaseMouseButtons']=_0x5dcdac=>{};_0x220278[_0x4539('0x138')]=_0x3b1ee1=>{};_0x220278[_0x4539('0x92')]=_0x4554aa=>{};_0x220278[_0x4539('0xc0')]=_0x3cef93=>{};_0x220278['onkeyup']=_0x1dbc4d=>{};_0x220278['onkeypress']=_0x438a1d=>{};};MapVision['View3d'][_0x4539('0x186')]['_registerKeyboardEvents']=function(){let _0x3e04b6=this;const _0x384b6b={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x22f596(_0x402542){if(_0x402542[_0x4539('0x14b')]===_0x384b6b['Shift']&&_0x402542['code']===_0x4539('0x1f'))return _0x384b6b['RightShift'];else if(_0x402542[_0x4539('0x14b')]===_0x384b6b[_0x4539('0xef')]&&_0x402542[_0x4539('0x184')]===_0x4539('0x15e'))return _0x384b6b['RightControl'];else if(_0x402542['keyCode']===_0x384b6b[_0x4539('0x10f')]&&_0x402542[_0x4539('0x184')]===_0x4539('0x16d'))return _0x384b6b['RightAlt'];else return _0x402542['keyCode'];};function _0x30f788(_0xc5fa37){return!(_0xc5fa37[_0x4539('0x14b')]==0x1b||_0xc5fa37['keyCode']==0x70||_0xc5fa37[_0x4539('0x14b')]==0x73||_0xc5fa37[_0x4539('0x14b')]==0x74||_0xc5fa37[_0x4539('0x14b')]==0xde||_0xc5fa37[_0x4539('0x14b')]==0xba||_0xc5fa37['keyCode']==0xbc||_0xc5fa37[_0x4539('0x106')]&&_0xc5fa37[_0x4539('0x14b')]==0x52);};var _0x434077=document['getElementsByTagName'](_0x4539('0x179'));var _0x562fc0=null;if(_0x434077&&_0x434077['length']>0x0){_0x562fc0=_0x434077[0x0];}else{_0x562fc0=document;}_0x562fc0['onkeydown']=_0x5ddee8=>{if(!_0x3e04b6[_0x4539('0x10b')]){return;}if(_0x30f788(_0x5ddee8)==![]){_0x5ddee8[_0x4539('0x161')]();return;}_0x3e04b6['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyDown'],_0x22f596(_0x5ddee8),_0x5ddee8['repeat']])[_0x4539('0x109')]);if(_0x5ddee8[_0x4539('0x14b')]===_0x384b6b['BackSpace']){_0x562fc0['onkeypress']({'charCode':_0x384b6b[_0x4539('0x97')]});}};_0x562fc0[_0x4539('0x3')]=_0x29b77d=>{console[_0x4539('0x17b')]('key\x20up\x20'+_0x29b77d[_0x4539('0x14b')]);if(!_0x3e04b6[_0x4539('0x10b')]){return;}if(_0x30f788(_0x29b77d)==![]){_0x29b77d[_0x4539('0x161')]();return;}_0x3e04b6['_sendInputData'](new Uint8Array([MapVision[_0x4539('0x137')][_0x4539('0x10e')],_0x22f596(_0x29b77d)])['buffer']);};_0x562fc0[_0x4539('0x65')]=_0x44c047=>{if(!_0x3e04b6[_0x4539('0x10b')]){return;}if(_0x30f788(_0x44c047)==![]){_0x44c047[_0x4539('0x161')]();return;}let _0x3a4e5f=new DataView(new ArrayBuffer(0x3));_0x3a4e5f['setUint8'](0x0,MapVision['MessageType']['KeyPress']);_0x3a4e5f[_0x4539('0x119')](0x1,_0x44c047[_0x4539('0x9e')],!![]);_0x3e04b6[_0x4539('0x146')](_0x3a4e5f['buffer']);};};MapVision['View3d']['prototype']['_createWebRtcPlayer']=function(_0x1f9631,_0x58b07d){let _0x364f75=this;_0x364f75['_webRtcPlayerHtmlElement']=document[_0x4539('0x6e')](_0x1f9631);_0x364f75[_0x4539('0x11c')]=new webRtcPlayer({'peerConnectionOptions':_0x58b07d['peerConnectionOptions']});_0x364f75['_webRtcPlayerHtmlElement'][_0x4539('0x17a')][_0x4539('0xc8')]=_0x4539('0x10d');let _0x22012c=_0x364f75[_0x4539('0xb9')];_0x22012c[_0x4539('0x147')](_0x364f75[_0x4539('0x11c')][_0x4539('0x8f')]);_0x364f75['_webRtcPlayerObj'][_0x4539('0x54')]=function(_0x12f157){if(_0x364f75[_0x4539('0x9b')]&&_0x364f75[_0x4539('0x9b')]['readyState']===MapVision[_0x4539('0x185')]){let _0x49abc7=JSON['stringify'](_0x12f157);_0x364f75[_0x4539('0x9b')]['send'](_0x49abc7);}};_0x364f75['_webRtcPlayerObj'][_0x4539('0xd4')]=function(_0x57751b){if(_0x364f75['_webSocket']&&_0x364f75['_webSocket']['readyState']===MapVision[_0x4539('0x185')]){console[_0x4539('0x17b')](_0x4539('0xc3')+JSON['stringify'](_0x57751b,undefined,0x4));_0x364f75['_webSocket'][_0x4539('0xbf')](JSON['stringify']({'type':_0x4539('0x187'),'candidate':_0x57751b}));}};_0x364f75['_webRtcPlayerObj']['onVideoInitialised']=function(){if(_0x364f75[_0x4539('0x9b')]&&_0x364f75['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){if(_0x364f75[_0x4539('0x11c')]){_0x364f75[_0x4539('0x11c')][_0x4539('0x8f')]['muted']=!![];setTimeout(function(){_0x364f75[_0x4539('0xcf')]();_0x364f75['_requestQualityControl']();_0x364f75['_webRtcPlayerObj'][_0x4539('0x8f')]['play']();},0x32);}}};_0x364f75[_0x4539('0x11c')][_0x4539('0x17')]=function(){if(_0x364f75[_0x4539('0x9b')]&&_0x364f75['_webSocket'][_0x4539('0xee')]===MapVision[_0x4539('0x185')]){if(_0x364f75['_webRtcPlayerObj'][_0x4539('0x8f')]&&_0x364f75[_0x4539('0x11c')][_0x4539('0x8f')]['srcObject']&&_0x364f75[_0x4539('0x11c')][_0x4539('0x71')]){_0x364f75['_webRtcPlayerObj']['onVideoInitialised']();}if(_0x364f75['_registerCallback']){const _0x3707dc={'code':0xc8,'msg':_0x4539('0x51')};_0x364f75[_0x4539('0x120')](_0x3707dc);}_0x364f75[_0x4539('0xb9')]['style'][_0x4539('0xc8')]='visible';}};_0x364f75[_0x4539('0x11c')][_0x4539('0x2a')]=function(_0x195c15){var _0x3da6e0=new Uint8Array(_0x195c15);var _0x2ec3f0=_0x3da6e0[0x0];if(_0x2ec3f0===MapVision[_0x4539('0xbb')][_0x4539('0x5a')]){let _0x5a4205=new TextDecoder('utf-16')['decode'](_0x195c15['slice'](0x1));console[_0x4539('0x17b')]('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x5a4205);}else if(_0x2ec3f0===MapVision['ToClientMessageType'][_0x4539('0x5c')]){let _0x4a7381=new TextDecoder('utf-16')[_0x4539('0xcd')](_0x195c15['slice'](0x1));let _0x15ec57=JSON[_0x4539('0x157')](_0x4a7381);const _0x51469b=_0x15ec57['cmd'];if(_0x51469b&&_0x364f75[_0x4539('0x12')][_0x51469b]){delete _0x15ec57[_0x4539('0xeb')];if(_0x15ec57['objects']){_0x364f75['_callback'][_0x51469b](_0x15ec57[_0x4539('0x122')]);}else{_0x364f75[_0x4539('0x12')][_0x51469b](_0x15ec57);}}if(_0x15ec57&&_0x15ec57[_0x4539('0x78')]){_0x364f75[_0x4539('0x89')]=_0x15ec57;}}else if(_0x2ec3f0===MapVision[_0x4539('0xbb')]['Command']){let _0x1a94d0=new TextDecoder(_0x4539('0xdd'))[_0x4539('0xcd')](_0x195c15['slice'](0x1));console['log']('->\x20SS:\x20Command:\x0a'+_0x1a94d0);}else if(_0x2ec3f0===MapVision[_0x4539('0xbb')][_0x4539('0xa3')]){let _0xb25f4e=new TextDecoder(_0x4539('0xdd'))[_0x4539('0xcd')](_0x195c15['slice'](0x1));console['log'](_0x4539('0xd0')+_0xb25f4e);}else if(_0x2ec3f0===MapVision[_0x4539('0xbb')][_0x4539('0x4d')]){let _0x33c648=new TextDecoder('utf-16')[_0x4539('0xcd')](_0x195c15['slice'](0x1));console[_0x4539('0x17b')](_0x4539('0xdb')+_0x33c648);}};_0x364f75[_0x4539('0xb8')](_0x22012c);_0x364f75['_registerTouchEvents'](_0x22012c);_0x364f75[_0x4539('0x5e')](_0x22012c);_0x364f75['_webRtcPlayerObj'][_0x4539('0x3d')]();};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x146')]=function(_0x554494){if(this[_0x4539('0x11c')]){this['_webRtcPlayerObj'][_0x4539('0xbf')](_0x554494);}else{console['log']('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x118')]=function(_0x1700b2,_0x2ef9a0){let _0x383e10=JSON[_0x4539('0x4e')](_0x2ef9a0);let _0x2d41be=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x383e10[_0x4539('0x75')]));let _0x35e92b=0x0;_0x2d41be[_0x4539('0xc6')](_0x35e92b,_0x1700b2);_0x35e92b++;_0x2d41be['setUint16'](_0x35e92b,_0x383e10['length'],!![]);_0x35e92b+=0x2;for(let _0x2f346d=0x0;_0x2f346d<_0x383e10[_0x4539('0x75')];_0x2f346d++){_0x2d41be['setUint16'](_0x35e92b,_0x383e10[_0x4539('0xb6')](_0x2f346d),!![]);_0x35e92b+=0x2;}this['_sendInputData'](_0x2d41be['buffer']);};MapVision['View3d']['prototype']['_emiUICommand']=function(_0x3c2e6c,_0x29cb52){this['_command']=_0x3c2e6c;const _0x101abf={'cmd':_0x3c2e6c,'data':_0x29cb52};this['_emitDescriptor'](MapVision['MessageType']['UIInteraction'],_0x101abf);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['_requestInitialSettings']=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType']['RequestInitialSettings']])[_0x4539('0x109')]);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['_requestQualityControl']=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType']['RequestQualityControl']])[_0x4539('0x109')]);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['_onMouseMove']=function(_0x5b2408,_0x4d37bd,_0xfc17e7,_0x3e676e){let _0x37e77a=this;if(!_0x37e77a[_0x4539('0x9b')]){return;}let _0x136ef0=_0x37e77a[_0x4539('0x68')](_0x5b2408,_0x4d37bd);let _0x39d8a7=_0x37e77a[_0x4539('0xbe')](_0xfc17e7,_0x3e676e);var _0x2bf817=new DataView(new ArrayBuffer(0x9));_0x2bf817[_0x4539('0xc6')](0x0,MapVision[_0x4539('0x137')][_0x4539('0x164')]);_0x2bf817[_0x4539('0x119')](0x1,_0x136ef0['x'],!![]);_0x2bf817[_0x4539('0x119')](0x3,_0x136ef0['y'],!![]);_0x2bf817[_0x4539('0x22')](0x5,_0x39d8a7['x'],!![]);_0x2bf817[_0x4539('0x22')](0x7,_0x39d8a7['y'],!![]);_0x37e77a[_0x4539('0x146')](_0x2bf817[_0x4539('0x109')]);};MapVision['View3d'][_0x4539('0x186')]['_onMouseDown']=function(_0x2ff640,_0x506a7d,_0x583b8f){let _0x3b7095=this;if(!_0x3b7095[_0x4539('0x9b')]){return;}let _0x2b5519=_0x3b7095['_normalizeAndQuantizeUnsigned'](_0x506a7d,_0x583b8f);var _0x4ccfe9=new DataView(new ArrayBuffer(0x6));_0x4ccfe9['setUint8'](0x0,MapVision[_0x4539('0x137')][_0x4539('0x7e')]);_0x4ccfe9['setUint8'](0x1,_0x2ff640);_0x4ccfe9[_0x4539('0x119')](0x2,_0x2b5519['x'],!![]);_0x4ccfe9['setUint16'](0x4,_0x2b5519['y'],!![]);_0x3b7095['_sendInputData'](_0x4ccfe9[_0x4539('0x109')]);};MapVision['View3d'][_0x4539('0x186')]['_onMouseUp']=function(_0x59b7b6,_0x845efc,_0x431336){let _0x7ac440=this;if(!_0x7ac440['_webSocket']){return;}let _0x3ab0fe=_0x7ac440['_normalizeAndQuantizeUnsigned'](_0x845efc,_0x431336);var _0x470c87=new DataView(new ArrayBuffer(0x6));_0x470c87[_0x4539('0xc6')](0x0,MapVision['MessageType'][_0x4539('0x17e')]);_0x470c87[_0x4539('0xc6')](0x1,_0x59b7b6);_0x470c87['setUint16'](0x2,_0x3ab0fe['x'],!![]);_0x470c87['setUint16'](0x4,_0x3ab0fe['y'],!![]);_0x7ac440[_0x4539('0x146')](_0x470c87['buffer']);};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['_onMouseWheel']=function(_0x373766,_0x1c6a4f,_0x3a1661){let _0xb9a32d=this;if(!_0xb9a32d[_0x4539('0x9b')]){return;}let _0x19cc14=_0xb9a32d['_normalizeAndQuantizeUnsigned'](_0x1c6a4f,_0x3a1661);var _0x5ee19f=new DataView(new ArrayBuffer(0x7));_0x5ee19f['setUint8'](0x0,MapVision['MessageType'][_0x4539('0x45')]);_0x5ee19f[_0x4539('0x22')](0x1,_0x373766,!![]);_0x5ee19f['setUint16'](0x3,_0x19cc14['x'],!![]);_0x5ee19f[_0x4539('0x119')](0x5,_0x19cc14['y'],!![]);_0xb9a32d['_sendInputData'](_0x5ee19f['buffer']);};MapVision[_0x4539('0xf8')]['prototype']['_releaseMouseButtons']=function(_0x27d1ad,_0x411e65,_0x2c609d){if(_0x27d1ad&MapVision['MouseButtonsMask'][_0x4539('0x3e')]){this[_0x4539('0x1b')](MapVision[_0x4539('0xce')][_0x4539('0x11e')],_0x411e65,_0x2c609d);}if(_0x27d1ad&MapVision['MouseButtonsMask']['SecondaryButton']){this['_onMouseUp'](MapVision[_0x4539('0xce')][_0x4539('0xf7')],_0x411e65,_0x2c609d);}if(_0x27d1ad&MapVision[_0x4539('0xb1')]['AuxiliaryButton']){this['_onMouseUp'](MapVision['MouseButton']['AuxiliaryButton'],_0x411e65,_0x2c609d);}if(_0x27d1ad&MapVision[_0x4539('0xb1')][_0x4539('0x53')]){this[_0x4539('0x1b')](MapVision[_0x4539('0xce')][_0x4539('0x53')],_0x411e65,_0x2c609d);}if(_0x27d1ad&MapVision['MouseButtonsMask'][_0x4539('0x7c')]){this[_0x4539('0x1b')](MapVision[_0x4539('0xce')][_0x4539('0x7c')],_0x411e65,_0x2c609d);}};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['_pressMouseButtons']=function(_0x564369,_0xe130f4,_0x14ce27){if(_0x564369&MapVision['MouseButtonsMask']['PrimaryButton']){this['_onMouseDown'](MapVision[_0x4539('0xce')]['MainButton'],_0xe130f4,_0x14ce27);}if(_0x564369&MapVision['MouseButtonsMask'][_0x4539('0xf7')]){this['_onMouseDown'](MapVision[_0x4539('0xce')]['SecondaryButton'],_0xe130f4,_0x14ce27);}if(_0x564369&MapVision['MouseButtonsMask']['AuxiliaryButton']){this[_0x4539('0x155')](MapVision[_0x4539('0xce')][_0x4539('0x94')],_0xe130f4,_0x14ce27);}if(_0x564369&MapVision['MouseButtonsMask'][_0x4539('0x53')]){this['_onMouseDown'](MapVision['MouseButton'][_0x4539('0x53')],_0xe130f4,_0x14ce27);}if(_0x564369&MapVision[_0x4539('0xb1')]['FifthButton']){this[_0x4539('0x155')](MapVision[_0x4539('0xce')]['FifthButton'],_0xe130f4,_0x14ce27);}};MapVision[_0x4539('0xf8')][_0x4539('0x186')]['_normalizeAndQuantizeUnsigned']=function(_0x70973b,_0x1f4211){let _0xe9b3f9=this;if(!_0xe9b3f9[_0x4539('0x9b')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x4e2920=_0xe9b3f9[_0x4539('0xb9')];let _0x366a4f=_0xe9b3f9['_webRtcPlayerObj'][_0x4539('0x8f')];let _0x244d94=_0x4e2920[_0x4539('0xc2')]/_0x4e2920[_0x4539('0x1')];let _0x1d6bef=_0x366a4f['videoHeight']/_0x366a4f[_0x4539('0xff')];_0x1d6bef=_0x244d94;if(_0x244d94>_0x1d6bef){let _0x104d47=_0x244d94/_0x1d6bef;let _0x5b068b=_0x70973b/_0x4e2920[_0x4539('0x1')];let _0x1e4ba6=_0x104d47*(_0x1f4211/_0x4e2920[_0x4539('0xc2')]-0.5)+0.5;if(_0x5b068b<0x0||_0x5b068b>0x1||_0x1e4ba6<0x0||_0x1e4ba6>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x5b068b*0x10000,'y':_0x1e4ba6*0x10000};}}else{let _0x537305=_0x1d6bef/_0x244d94;let _0x4a55da=_0x537305*(_0x70973b/_0x4e2920['clientWidth']-0.5)+0.5;let _0xaf1223=_0x1f4211/_0x4e2920['clientHeight'];if(_0x4a55da<0x0||_0x4a55da>0x1||_0xaf1223<0x0||_0xaf1223>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x4a55da*0x10000,'y':_0xaf1223*0x10000};}}};MapVision['View3d'][_0x4539('0x186')]['_normalizeAndQuantizeSigned']=function(_0x2ce1ab,_0x17cf0f){let _0x533703=this;if(!_0x533703['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x3721f2=_0x533703['_webRtcPlayerHtmlElement'];let _0x4e37e9=_0x533703[_0x4539('0x11c')]['video'];let _0x3260dd=_0x3721f2['clientHeight']/_0x3721f2['clientWidth'];let _0x2b5627=_0x4e37e9[_0x4539('0x2c')]/_0x4e37e9[_0x4539('0xff')];_0x2b5627=_0x3260dd;if(_0x3260dd>_0x2b5627){let _0x8092db=_0x3260dd/_0x2b5627;let _0x3bf401=_0x2ce1ab/(0.5*_0x3721f2['clientWidth']);let _0xad0264=_0x8092db*_0x17cf0f/(0.5*_0x3721f2['clientHeight']);return{'x':_0x3bf401*0x7fff,'y':_0xad0264*0x7fff};}else{let _0x3e7dfc=_0x2b5627/_0x3260dd;let _0x409283=_0x3e7dfc*_0x2ce1ab/(0.5*_0x3721f2['clientWidth']);let _0xd26bd9=_0x17cf0f/(0.5*_0x3721f2[_0x4539('0xc2')]);return{'x':_0x409283*0x7fff,'y':_0xd26bd9*0x7fff};}};MapVision[_0x4539('0xf8')]['prototype']['_unquantizeAndDenormalizeUnsigned']=function(_0x4e808c,_0x341648){let _0x259baa=this;if(!_0x259baa[_0x4539('0x9b')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x135cdc=_0x259baa['_webRtcPlayerHtmlElement'];let _0x371ace=_0x259baa[_0x4539('0x11c')][_0x4539('0x8f')];let _0x43a209=_0x135cdc[_0x4539('0xc2')]/_0x135cdc[_0x4539('0x1')];let _0x4b139d=_0x371ace[_0x4539('0x2c')]/_0x371ace['videoWidth'];if(_0x43a209>_0x4b139d){let _0x2b5f10=_0x43a209/_0x4b139d;let _0x25a408=_0x4e808c/0x10000;let _0x35982b=(_0x341648/0x10000-0.5)/_0x2b5f10+0.5;return{'x':_0x25a408*_0x135cdc['clientWidth'],'y':_0x35982b*_0x135cdc['clientHeight']};}else{let _0x32bfdf=(_0x4e808c/0x10000-0.5)/ratio+0.5;let _0x4fdbdf=_0x341648/0x10000;return{'x':_0x32bfdf*_0x135cdc[_0x4539('0x1')],'y':_0x4fdbdf*_0x135cdc['clientHeight']};}};MapVision['View3d'][_0x4539('0x186')]['_onWebRtcAnswer']=function(_0x5f4f56){this['_webRtcPlayerObj'][_0x4539('0x9f')](_0x5f4f56);this['_webRtcPlayerObj']['onAggregatedStats']=_0x21b116=>{};this[_0x4539('0x11c')]['aggregateStats'](0x1*0x3e8);};MapVision['View3d']['prototype']['_onWebRtcIce']=function(_0x58cfcf){if(this['_webRtcPlayerObj'])this[_0x4539('0x11c')]['handleCandidateFromServer'](_0x58cfcf);};MapVision['View3d'][_0x4539('0x186')][_0x4539('0x149')]=function(_0x4ec01b,_0x3e9bdf,_0xa99af5){var _0x55e658=null;if(window['XMLHttpRequest']){_0x55e658=new XMLHttpRequest();}else if(window[_0x4539('0xa6')]){_0x55e658=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x55e658==null){alert('你的浏览器不支持XMLHttp');return;}var _0x101c8a=(_0x4ec01b['type']||_0x4539('0x16e'))['toUpperCase']();var _0x569e6c=_0x4ec01b['dataType']||'json';var _0x4bcbeb=_0x4ec01b['httpUrl']||'';var _0x34889f=_0x4ec01b[_0x4539('0x5d')]||!![];var _0x44307d=_0x4ec01b[_0x4539('0x4')]||[];var _0x2cff3c='';for(var _0x2c3787 in _0x44307d){_0x2cff3c+=_0x2c3787+'='+_0x44307d[_0x2c3787]+'&';}_0x2cff3c=_0x2cff3c==''?'':_0x2cff3c[_0x4539('0xfb')](0x0,_0x2cff3c['length']-0x1);console['log'](_0x2cff3c);_0x55e658['onreadystatechange']=function(){if(_0x55e658['readyState']==0x4&&_0x55e658[_0x4539('0x8a')]==0xc8){var _0x1c4663=JSON['parse'](_0x55e658['responseText']);_0x3e9bdf(_0x1c4663);}else{_0xa99af5;}};if(_0x101c8a==_0x4539('0x16e')){_0x55e658['open'](_0x4539('0x16e'),_0x4bcbeb,_0x34889f);_0x55e658[_0x4539('0xbf')](null);}else if(_0x101c8a==_0x4539('0x40')){_0x55e658[_0x4539('0x42')]('POST',_0x4bcbeb,_0x34889f);_0x55e658['setRequestHeader']('Content-type','application/x-www-form-urlencoded');_0x55e658['send'](_0x2cff3c);}};