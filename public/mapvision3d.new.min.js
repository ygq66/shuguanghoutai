const _0x152b = [
  'Reset',
  'GetBuildingNames',
  'Close',
  'SetObjectsHighlightByPrefix',
  'candidate',
  'StartMeasureArea',
  'ResetAllBuildings',
  'frameWidthStart',
  'position',
  'sdpConstraints',
  'code',
  'GetMaps',
  'preventDefault',
  'SetScenceSnow',
  'LayerRemove',
  'length',
  'LayerReLoad',
  'getElementById',
  'http:',
  'SetPosition',
  'Shift',
  'streams',
  'distance',
  'clientHeight',
  'onmousedown',
  'highFramerate',
  'LoadMap',
  'SplitDynamicFloor',
  'FrameDisplayDeltaTimeMs',
  'roll',
  'GetResourceMaterial',
  '_webSocket',
  'AuxiliaryButton',
  'utf-16',
  '_registerTouchEvents',
  'FourthButton',
  'FlyToObjectByType',
  'getStats',
  'StreamVideoCloseAll',
  'offsetX',
  'Response',
  'SecondaryButton',
  'IsPausedSequence',
  'GetResourceMaterialInstance',
  'aimapvision3d\x20server\x20is\x20not\x20started.',
  'StreamVideoClose',
  'presentationTime',
  'onmouseup',
  'CreateObject',
  '_onWebRtcAnswer',
  'send',
  'hostname',
  'bytesReceivedStart',
  'OverLayerCreateObjects',
  'ToolMeasureArea',
  'SetMapStatus',
  '_webRtcPlayerObj',
  'prototype',
  'FlyToObject',
  'exports',
  'ice\x20gathering\x20state\x20change:',
  '_httpRequest',
  'speed',
  'ctrlKey',
  'OpenStatus',
  'onicegatheringstatechange',
  'SetNorthControl',
  'MessageType',
  'getElementsByTagName',
  'ResetObjects',
  'SetBitrate',
  './adapter',
  'OverLayerRemoveObject',
  'GetSplitBuildingNames',
  'framesDropped',
  'aggregateStatsIntervalId',
  'bottom',
  'highlight',
  'ResumeRoute',
  'projectId',
  'LayerSelectObject',
  'linestring',
  'SetFloorRoomVisible',
  'StopRouteModel',
  'ICE\x20candidate\x20successfully\x20added',
  'protocol',
  'Clear',
  '&mapkey=',
  'GetCurrentPosition',
  'UpdateObjectVisible',
  'play',
  'objects',
  'signaling\x20state\x20change:',
  'SetNorth',
  'localhost',
  'onmessage',
  'MouseButton',
  'OverLayerStartEdit',
  '_registerMouseEvents',
  'OverLayerStopEdit',
  'ClearHighlightRegion',
  'useMic',
  'dataChannelOptions',
  'PlayRoute',
  'FindObjectById',
  'GetBuildingName',
  '_onMouseWheel',
  'parse',
  'this._webSocket\x20error:\x20',
  'close',
  'receiveToCompositeMs',
  '你的浏览器不支持XMLHttp',
  'Polygon',
  'useinbandfec=1;stereo=1;sprop-maxcapturerate=48000',
  'https://',
  'onmousewheel',
  'GetUpFloorNum',
  'slice',
  '_mouseDownStatus',
  'UEReceiptTimeMs',
  'setUint16',
  'substring',
  '_normalizeAndQuantizeUnsigned',
  '->\x20SS:\x20UnfreezeFrame:\x0a',
  'videoHeight',
  'showlocation',
  'Position',
  'XMLHttpRequest',
  'tnClient',
  'handleCandidateFromServer',
  '_requestInitialSettings',
  'onicecandidate',
  'ClearObjectStyle',
  'releaseMouseButtons',
  'style',
  'buttons',
  'GetFloorDeviceNum',
  'indexOf',
  'RePlayRouteModel',
  'NorthControl',
  'GetFloorVisible',
  'OverLayerRemoveObjectById',
  'keyCode',
  'Stop',
  'Parameter\x20ERROR',
  'ICE\x20candidate:\x20',
  'finally',
  'iceCandidate',
  'addTransceiver',
  'KeyUp',
  '_onMouseMoveCallback',
  'warn',
  'addIceCandidate',
  'IsClose',
  'info',
  'iframe',
  'websocket\x20connected',
  'websocket\x20closed',
  'clientWidth',
  '_onMouseMove',
  'wss://',
  'GetScenceSunInfo',
  'addEventListener',
  'MapStatusType',
  'TestStartTimeMs',
  'SetFloorDeviceVisible',
  'Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.',
  '_onMouseDownCallback',
  'Couldn\x27t\x20create\x20offer',
  'Microsoft.XMLHTTP',
  'pcClient',
  'OverLayerCreateObject',
  'WebSocket',
  'log',
  'GetBuildVersion',
  'requestVideoFrameCallback',
  'ResumeRouteModel',
  'UnRegisterEvent',
  'GetResources',
  'use\x20strict',
  'framerate',
  'GetDownFloorNum',
  'onDataChannelMessage',
  'toLowerCase',
  'GetBuildingNum',
  'BackSpace',
  'UEPreCaptureTimeMs',
  'FlyToObjectById',
  'DOMMouseScroll',
  'SplitFloorReset',
  'StopSequence',
  'sdp',
  'latencyTestTimings',
  'createDataChannel',
  'video',
  'setInt16',
  'lowFramerate',
  'createOffer',
  'open',
  '#ff0000',
  'currentRoundTripTime',
  'timestampStart',
  'playerCount',
  'gid',
  'GetObjectsVisible',
  'UEPostEncodeTimeMs',
  'GetScrrenPosition',
  'answer',
  'httpUrl',
  'token',
  'SplitBuilding',
  'ClearHighlight',
  'StopRoute',
  'ToClientMessageType',
  'frameWidth',
  'PlayRouteModel',
  'recvonly',
  'onDataChannelConnected',
  'get',
  'GetFloorRoomNames',
  'fill',
  'invalid\x20SS\x20message\x20type:\x20',
  'url',
  '_sendInputData',
  'data\x20channel\x20(',
  '///',
  'inbound-rtp',
  'ToolMeasureHeight',
  '->\x20SS:\x20Command:\x0a',
  'RegisterEvent',
  'WS_OPEN_STATE',
  'UpdateObjectVisibleByPrefix',
  'streamingVideo',
  'View3d',
  '_registerCallback',
  'arraybuffer',
  '_webRtcPlayerHtmlElement',
  '_onMouseDown',
  'port',
  'autoplay',
  'then',
  'PostCaptureTimeMs',
  '_callback',
  'videoWidth',
  'data',
  'track',
  'muted',
  'onAggregatedStats',
  'cfg',
  'SetObjectsVisible',
  '->\x20SS:\x20FreezeFrame:\x0a',
  'onmousemove',
  'TransmissionTimeMs',
  'Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.',
  'MouseLeave',
  'reason',
  'objectFit',
  'cirrus',
  'repeat',
  'MouseMove',
  'frameHeightStart',
  'floor',
  'QualityControlOwnership',
  'pressMouseButtons',
  'srcObject',
  'GetSelectedObject',
  'building',
  'aggregatedStats',
  'LayerLoad',
  'PauseRoute',
  'ActiveXObject',
  'RightAlt',
  '_pressMouseButtons',
  'now',
  'avgBitrate',
  'framesDecoded',
  'SetParameters',
  'object',
  'buffer',
  '_emiUICommand',
  'round',
  'aggregateStats',
  'decode',
  'GetFloorNames',
  'onmouseenter',
  'model',
  'ICE\x20candidate',
  'UpdateObjectStyle',
  'CommandType',
  'config',
  'GetFloorRoomNum',
  'bitrate',
  'SetBuildingWkVisible',
  'error\x20_webRtcPlayerObj\x20is\x20null',
  'readyState',
  '_onMouseUpCallback',
  'charCode',
  '0px',
  '_unregisterEvents',
  'MainButton',
  'type',
  'frameHeight',
  'highBitrate',
  '_onWebRtcIce',
  '_connectWebsocket',
  'ControlRight',
  'Rotate',
  'RightControl',
  '_registerKeyboardEvents',
  'polygon',
  'CreateRoute',
  'GetFloorDeviceVisible',
  'bytesReceived',
  'async',
  'yaw',
  'onsignalingstatechange',
  '->\x20SS:\x20QualityControlOwnership:\x0a',
  'search',
  'dcClient',
  'ReceiptTimeMs',
  'FifthButton',
  'loadedmetadata',
  'enableKeyboard',
  'SplitBuildingReset',
  'MouseWheel',
  'playsInline',
  'sdpSemantics',
  '_onMouseUp',
  'amd',
  'replace',
  'kind',
  'Audio',
  'playoutDelayHint',
  'MouseButtonsMask',
  'OverLayerRemoveObjectsById',
  'PlaySequence',
  'getReceivers',
  'SetMousePositionCallback',
  'onerror',
  '/project3d/getInfo?id=',
  'trackIdentifier',
  'stringify',
  'IsLoadMap',
  'cmd',
  'GET',
  'detail',
  'RightShift',
  'application/x-www-form-urlencoded',
  'StartRoute',
  'FindObjectByName',
  'offsetY',
  'IsPlayingSequence',
  'OverLayerFindObject',
  'setUint8',
  'ShiftRight',
  'timestamp',
  'SplitDynamicBuilding',
  'lowBitrate',
  'GetFloorNum',
  'framesDecodedStart',
  '_onMouseSelectedObj',
  'ontrack',
  'sendrecv',
  'appendChild',
  'enableMouse',
  'radio',
  'onWebRtcOffer',
  'ResetHome',
  'PauseRouteModel',
  'Point2D',
  'GetScenceRain',
  'function',
  'LayersLoad',
  'onWebRtcCandidate',
  'SetFrameDisplayDeltaTime',
  'GetFloorRoomVisible',
  'button',
  'Building',
  'receiveAnswer',
  'GetResourceShape',
  'BrowserReceiptTimeMs',
  'OverLayerSelectObjectEdit',
  'GetResourceTexture2D',
  'height',
  ')\x20connect',
  'name',
  'ToolMeasureExit',
  'label',
  '_command',
  'KeyPress',
  'OnAllLatencyTimingsReady',
  'onVideoInitialised',
  'onkeypress',
  'SetMouseCallback',
  'mapkey',
  'oncontextmenu',
  'onMouse',
  'createElement',
  'Alt',
  'OverLayerRemoveAll',
  'ws://',
  'UEPreEncodeTimeMs',
  'SetObjectHighlight',
  'has',
  'OverLayerUpdateObject',
  'GetFloorDeviceNames'
]
const _0x293c = function (_0x152b94, _0x293c1b) {
  _0x152b94 = _0x152b94 - 0x0
  let _0x21f678 = _0x152b[_0x152b94]
  return _0x21f678
}
;(function (_0x5981ea, _0x496f17) {
  if (typeof define === _0x293c('0x173') && define[_0x293c('0x148')]) {
    define([_0x293c('0x47')], _0x496f17)
  } else if (typeof exports === _0x293c('0x115')) {
    module[_0x293c('0x3b')] = _0x496f17(require(_0x293c('0x47')))
  } else {
    _0x5981ea['webRtcPlayer'] = _0x496f17(_0x5981ea['adapter'])
  }
})(this, function (_0x253b0c) {
  function _0x2cfa49(_0xe84507) {
    _0xe84507 = _0xe84507 || {}
    var _0x276b1b = this
    this[_0x293c('0xf8')] = _0xe84507['peerConnectionOptions'] || {}
    this[_0x293c('0xf8')][_0x293c('0x146')] = 'unified-plan'
    this[_0x293c('0xf8')]['offerExtmapAllowMixed'] = ![]
    this[_0x293c('0xaa')] = null
    this['dcClient'] = null
    this[_0x293c('0x80')] = null
    this[_0x293c('0x9')] = {
      offerToReceiveAudio: 0x1,
      offerToReceiveVideo: 0x1,
      voiceActivityDetection: ![]
    }
    this[_0x293c('0x66')] = { ordered: !![] }
    const _0x1913c7 = new URLSearchParams(window['location'][_0x293c('0x13d')])
    this['useMic'] = _0x1913c7[_0x293c('0x193')](_0x293c('0x65'))
    if (!this[_0x293c('0x65')]) {
      console[_0x293c('0xad')](
        'Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.'
      )
    }
    let _0x2e57ae =
      location['hostname'] === _0x293c('0x5e') ||
      location[_0x293c('0x33')] === '127.0.0.1'
    let _0x4b8da2 = location[_0x293c('0x55')] === 'https:'
    if (this[_0x293c('0x65')] && !_0x2e57ae && !_0x4b8da2) {
      this[_0x293c('0x65')] = ![]
      console['error'](_0x293c('0xa6'))
      console['error'](
        'For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27'
      )
    }
    this[_0x293c('0xc0')] = {
      TestStartTimeMs: null,
      UEReceiptTimeMs: null,
      UEPreCaptureTimeMs: null,
      UEPostCaptureTimeMs: null,
      UEPreEncodeTimeMs: null,
      UEPostEncodeTimeMs: null,
      UETransmissionTimeMs: null,
      BrowserReceiptTimeMs: null,
      FrameDisplayDeltaTimeMs: null,
      Reset: function () {
        this['TestStartTimeMs'] = null
        this[_0x293c('0x77')] = null
        this['UEPreCaptureTimeMs'] = null
        this['UEPostCaptureTimeMs'] = null
        this['UEPreEncodeTimeMs'] = null
        this[_0x293c('0xcd')] = null
        this['UETransmissionTimeMs'] = null
        this[_0x293c('0x17c')] = null
        this[_0x293c('0x1c')] = null
      },
      SetUETimings: function (_0x3fc6ab) {
        this['UEReceiptTimeMs'] = _0x3fc6ab[_0x293c('0x13f')]
        this[_0x293c('0xba')] = _0x3fc6ab['PreCaptureTimeMs']
        this['UEPostCaptureTimeMs'] = _0x3fc6ab[_0x293c('0xf1')]
        this[_0x293c('0x191')] = _0x3fc6ab['PreEncodeTimeMs']
        this[_0x293c('0xcd')] = _0x3fc6ab['PostEncodeTimeMs']
        this['UETransmissionTimeMs'] = _0x3fc6ab[_0x293c('0xfc')]
        this[_0x293c('0x17c')] = Date[_0x293c('0x111')]()
        this[_0x293c('0x186')](this)
      },
      SetFrameDisplayDeltaTime: function (_0x2932d4) {
        if (this[_0x293c('0x1c')] == null) {
          this[_0x293c('0x1c')] = Math[_0x293c('0x118')](_0x2932d4)
          this[_0x293c('0x186')](this)
        }
      },
      OnAllLatencyTimingsReady: function (_0x25cc55) {}
    }
    createWebRtcVideo = function () {
      var _0x7d4618 = document['createElement']('video')
      _0x7d4618['id'] = _0x293c('0xe8')
      _0x7d4618[_0x293c('0x145')] = !![]
      _0x7d4618['disablepictureinpicture'] = !![]
      _0x7d4618[_0x293c('0xf6')] = ![]
      _0x7d4618['addEventListener'](
        _0x293c('0x141'),
        function (_0x2e88e4) {
          if (_0x276b1b[_0x293c('0x187')]) {
            _0x276b1b['onVideoInitialised']()
          }
        },
        !![]
      )
      if (_0x293c('0xaf') in HTMLVideoElement['prototype']) {
        const _0x1aff95 = (_0x532f4c, _0x45b18f) => {
          if (_0x45b18f['receiveTime'] && _0x45b18f['expectedDisplayTime']) {
            const _0x2267c4 =
              _0x45b18f[_0x293c('0x2e')] - _0x45b18f['receiveTime']
            _0x276b1b[_0x293c('0x10b')]['receiveToCompositeMs'] = _0x2267c4
          }
          _0x7d4618[_0x293c('0xaf')](_0x1aff95)
        }
        _0x7d4618['requestVideoFrameCallback'](_0x1aff95)
      }
      return _0x7d4618
    }
    this[_0x293c('0xc2')] = createWebRtcVideo()
    onsignalingstatechange = function (_0x141025) {
      console[_0x293c('0x9a')](_0x293c('0x5c'), _0x141025)
    }
    oniceconnectionstatechange = function (_0xacbb8d) {
      console['info']('ice\x20connection\x20state\x20change:', _0xacbb8d)
    }
    onicegatheringstatechange = function (_0x1cb480) {
      console['info'](_0x293c('0x3c'), _0x1cb480)
    }
    handleOnTrack = function (_0x5bb20c) {
      if (_0x5bb20c[_0x293c('0xf5')]) {
      }
      if (_0x5bb20c['track'][_0x293c('0x14a')] == 'audio') {
        handleOnAudioTrack(_0x5bb20c[_0x293c('0x15')][0x0])
        return
      } else
        _0x5bb20c['track']['kind'] == 'video' &&
          _0x276b1b[_0x293c('0xc2')]['srcObject'] !==
            _0x5bb20c[_0x293c('0x15')][0x0]
      {
        _0x276b1b['video'][_0x293c('0x108')] = _0x5bb20c['streams'][0x0]
        return
      }
    }
    handleOnAudioTrack = function (_0x1bd757) {
      if (_0x276b1b['video'][_0x293c('0x108')] == _0x1bd757) {
        return
      } else if (
        _0x276b1b[_0x293c('0xc2')]['srcObject'] &&
        _0x276b1b[_0x293c('0xc2')]['srcObject'] !== _0x1bd757
      ) {
        let _0x2bcb0e = document[_0x293c('0x18d')](_0x293c('0x14b'))
        _0x2bcb0e[_0x293c('0xef')] = !![]
        _0x2bcb0e[_0x293c('0x108')] = _0x1bd757
        _0x2bcb0e[_0x293c('0x5a')]()
        console[_0x293c('0xad')](
          'Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.'
        )
      }
    }
    setupDataChannel = function (_0x398dc1, _0x26e9de, _0x52664f) {
      try {
        let _0x516b1d = _0x398dc1[_0x293c('0xc1')](_0x26e9de, _0x52664f)
        console[_0x293c('0xad')](
          'Created\x20datachannel\x20(' + _0x26e9de + ')'
        )
        _0x516b1d['binaryType'] = _0x293c('0xeb')
        _0x516b1d['onopen'] = function (_0x9832da) {
          console['log']('data\x20channel\x20(' + _0x26e9de + _0x293c('0x180'))
          if (_0x276b1b[_0x293c('0xd9')]) {
            _0x276b1b['onDataChannelConnected']()
          }
        }
        _0x516b1d['onclose'] = function (_0x4c842f) {
          console['log'](_0x293c('0xe0') + _0x26e9de + ')\x20closed')
        }
        _0x516b1d[_0x293c('0x5f')] = function (_0xe16265) {
          if (_0x276b1b['onDataChannelMessage'])
            _0x276b1b['onDataChannelMessage'](_0xe16265[_0x293c('0xf4')])
        }
        return _0x516b1d
      } catch (_0x182a24) {
        console[_0x293c('0x97')]('No\x20data\x20channel', _0x182a24)
        return null
      }
    }
    onicecandidate = function (_0x4244bf) {
      console['log'](_0x293c('0x11e'), _0x4244bf)
      if (_0x4244bf['candidate'] && _0x4244bf['candidate']['candidate']) {
        _0x276b1b[_0x293c('0x175')](_0x4244bf[_0x293c('0x4')])
      }
    }
    handleCreateOffer = function (_0x1d77b4) {
      _0x1d77b4[_0x293c('0xc5')](_0x276b1b['sdpConstraints'])[_0x293c('0xf0')](
        function (_0x1936d1) {
          mungeSDPOffer(_0x1936d1)
          _0x1d77b4['setLocalDescription'](_0x1936d1)
          if (_0x276b1b[_0x293c('0x16e')]) {
            _0x276b1b[_0x293c('0x16e')](_0x1936d1)
          }
        },
        function () {
          console[_0x293c('0x97')](_0x293c('0xa8'))
        }
      )
    }
    mungeSDPOffer = function (_0x5110bf) {
      _0x5110bf[_0x293c('0xbf')] = _0x5110bf[_0x293c('0xbf')][_0x293c('0x149')](
        'useinbandfec=1',
        _0x293c('0x71')
      )
    }
    setupPeerConnection = function (_0x4d6edb) {
      if (_0x4d6edb[_0x293c('0x46')])
        console['log'](
          'Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function'
        )
      _0x4d6edb[_0x293c('0x13b')] = onsignalingstatechange
      _0x4d6edb['oniceconnectionstatechange'] = oniceconnectionstatechange
      _0x4d6edb[_0x293c('0x41')] = onicegatheringstatechange
      _0x4d6edb[_0x293c('0x169')] = handleOnTrack
      _0x4d6edb[_0x293c('0x83')] = onicecandidate
    }
    generateAggregatedStatsFunction = function () {
      if (!_0x276b1b['aggregatedStats']) _0x276b1b[_0x293c('0x10b')] = {}
      return function (_0x21ba18) {
        let _0x5d4d42 = {}
        _0x21ba18['forEach']((_0x3cf0fa) => {
          if (
            _0x3cf0fa['type'] == _0x293c('0xe2') &&
            !_0x3cf0fa['isRemote'] &&
            (_0x3cf0fa['mediaType'] == 'video' ||
              _0x3cf0fa['id'][_0x293c('0xb7')]()['includes']('video'))
          ) {
            _0x5d4d42['timestamp'] = _0x3cf0fa['timestamp']
            _0x5d4d42[_0x293c('0x138')] = _0x3cf0fa[_0x293c('0x138')]
            _0x5d4d42[_0x293c('0x113')] = _0x3cf0fa['framesDecoded']
            _0x5d4d42['packetsLost'] = _0x3cf0fa['packetsLost']
            _0x5d4d42[_0x293c('0x34')] =
              _0x276b1b[_0x293c('0x10b')] &&
              _0x276b1b[_0x293c('0x10b')][_0x293c('0x34')]
                ? _0x276b1b['aggregatedStats'][_0x293c('0x34')]
                : _0x3cf0fa[_0x293c('0x138')]
            _0x5d4d42['framesDecodedStart'] =
              _0x276b1b['aggregatedStats'] &&
              _0x276b1b['aggregatedStats']['framesDecodedStart']
                ? _0x276b1b['aggregatedStats']['framesDecodedStart']
                : _0x3cf0fa['framesDecoded']
            _0x5d4d42['timestampStart'] =
              _0x276b1b['aggregatedStats'] &&
              _0x276b1b[_0x293c('0x10b')][_0x293c('0xc9')]
                ? _0x276b1b[_0x293c('0x10b')]['timestampStart']
                : _0x3cf0fa[_0x293c('0x163')]
            if (
              _0x276b1b[_0x293c('0x10b')] &&
              _0x276b1b['aggregatedStats'][_0x293c('0x163')]
            ) {
              if (_0x276b1b['aggregatedStats'][_0x293c('0x138')]) {
                _0x5d4d42['bitrate'] =
                  (0x8 *
                    (_0x5d4d42[_0x293c('0x138')] -
                      _0x276b1b['aggregatedStats']['bytesReceived'])) /
                  (_0x5d4d42['timestamp'] -
                    _0x276b1b['aggregatedStats']['timestamp'])
                _0x5d4d42[_0x293c('0x123')] = Math['floor'](
                  _0x5d4d42['bitrate']
                )
                _0x5d4d42[_0x293c('0x165')] =
                  _0x276b1b['aggregatedStats']['lowBitrate'] &&
                  _0x276b1b['aggregatedStats'][_0x293c('0x165')] <
                    _0x5d4d42['bitrate']
                    ? _0x276b1b[_0x293c('0x10b')]['lowBitrate']
                    : _0x5d4d42[_0x293c('0x123')]
                _0x5d4d42['highBitrate'] =
                  _0x276b1b['aggregatedStats'][_0x293c('0x12e')] &&
                  _0x276b1b['aggregatedStats']['highBitrate'] >
                    _0x5d4d42[_0x293c('0x123')]
                    ? _0x276b1b[_0x293c('0x10b')][_0x293c('0x12e')]
                    : _0x5d4d42['bitrate']
              }
              if (_0x276b1b['aggregatedStats']['bytesReceivedStart']) {
                _0x5d4d42['avgBitrate'] =
                  (0x8 *
                    (_0x5d4d42[_0x293c('0x138')] -
                      _0x276b1b['aggregatedStats']['bytesReceivedStart'])) /
                  (_0x5d4d42['timestamp'] -
                    _0x276b1b['aggregatedStats'][_0x293c('0xc9')])
                _0x5d4d42['avgBitrate'] = Math['floor'](
                  _0x5d4d42[_0x293c('0x112')]
                )
              }
              if (_0x276b1b['aggregatedStats']['framesDecoded']) {
                _0x5d4d42['framerate'] =
                  (_0x5d4d42['framesDecoded'] -
                    _0x276b1b[_0x293c('0x10b')][_0x293c('0x113')]) /
                  ((_0x5d4d42[_0x293c('0x163')] -
                    _0x276b1b[_0x293c('0x10b')][_0x293c('0x163')]) /
                    0x3e8)
                _0x5d4d42[_0x293c('0xb4')] = Math[_0x293c('0x105')](
                  _0x5d4d42['framerate']
                )
                _0x5d4d42[_0x293c('0xc4')] =
                  _0x276b1b['aggregatedStats']['lowFramerate'] &&
                  _0x276b1b['aggregatedStats']['lowFramerate'] <
                    _0x5d4d42['framerate']
                    ? _0x276b1b[_0x293c('0x10b')]['lowFramerate']
                    : _0x5d4d42[_0x293c('0xb4')]
                _0x5d4d42['highFramerate'] =
                  _0x276b1b[_0x293c('0x10b')]['highFramerate'] &&
                  _0x276b1b['aggregatedStats']['highFramerate'] >
                    _0x5d4d42[_0x293c('0xb4')]
                    ? _0x276b1b[_0x293c('0x10b')][_0x293c('0x19')]
                    : _0x5d4d42['framerate']
              }
              if (_0x276b1b['aggregatedStats'][_0x293c('0x167')]) {
                _0x5d4d42['avgframerate'] =
                  (_0x5d4d42[_0x293c('0x113')] -
                    _0x276b1b['aggregatedStats'][_0x293c('0x167')]) /
                  ((_0x5d4d42[_0x293c('0x163')] -
                    _0x276b1b['aggregatedStats'][_0x293c('0xc9')]) /
                    0x3e8)
                _0x5d4d42['avgframerate'] = Math['floor'](
                  _0x5d4d42['avgframerate']
                )
              }
            }
          }
          if (
            _0x3cf0fa[_0x293c('0x12c')] == _0x293c('0xf5') &&
            (_0x3cf0fa[_0x293c('0x154')] == 'video_label' ||
              _0x3cf0fa['kind'] == _0x293c('0xc2'))
          ) {
            _0x5d4d42[_0x293c('0x4a')] = _0x3cf0fa['framesDropped']
            _0x5d4d42['framesReceived'] = _0x3cf0fa['framesReceived']
            _0x5d4d42['framesDroppedPercentage'] =
              (_0x3cf0fa['framesDropped'] / _0x3cf0fa['framesReceived']) * 0x64
            _0x5d4d42[_0x293c('0x12d')] = _0x3cf0fa[_0x293c('0x12d')]
            _0x5d4d42[_0x293c('0xd6')] = _0x3cf0fa['frameWidth']
            _0x5d4d42['frameHeightStart'] =
              _0x276b1b[_0x293c('0x10b')] &&
              _0x276b1b[_0x293c('0x10b')][_0x293c('0x104')]
                ? _0x276b1b['aggregatedStats']['frameHeightStart']
                : _0x3cf0fa['frameHeight']
            _0x5d4d42[_0x293c('0x7')] =
              _0x276b1b['aggregatedStats'] &&
              _0x276b1b['aggregatedStats']['frameWidthStart']
                ? _0x276b1b[_0x293c('0x10b')]['frameWidthStart']
                : _0x3cf0fa['frameWidth']
          }
          if (
            _0x3cf0fa['type'] == 'candidate-pair' &&
            _0x3cf0fa['hasOwnProperty'](_0x293c('0xc8')) &&
            _0x3cf0fa['currentRoundTripTime'] != 0x0
          ) {
            _0x5d4d42['currentRoundTripTime'] =
              _0x3cf0fa['currentRoundTripTime']
          }
        })
        if (_0x276b1b['aggregatedStats']['receiveToCompositeMs']) {
          _0x5d4d42[_0x293c('0x6e')] =
            _0x276b1b[_0x293c('0x10b')]['receiveToCompositeMs']
          _0x276b1b['latencyTestTimings'][_0x293c('0x176')](
            _0x276b1b[_0x293c('0x10b')][_0x293c('0x6e')]
          )
        }
        _0x276b1b['aggregatedStats'] = _0x5d4d42
        if (_0x276b1b[_0x293c('0xf7')]) _0x276b1b[_0x293c('0xf7')](_0x5d4d42)
      }
    }
    setupTracksToSendAsync = async function (_0x517ef1) {
      _0x517ef1[_0x293c('0x94')](_0x293c('0xc2'), { direction: 'recvonly' })
      if (!_0x276b1b['useMic']) {
        _0x517ef1[_0x293c('0x94')]('audio', { direction: _0x293c('0xd8') })
      } else {
        let _0x1a5618 = _0x276b1b['useMic']
          ? {
              autoGainControl: ![],
              channelCount: 0x1,
              echoCancellation: ![],
              latency: 0x0,
              noiseSuppression: ![],
              sampleRate: 0x3e80,
              volume: 0x1
            }
          : ![]
        const _0x4ae786 = await navigator['mediaDevices']['getUserMedia']({
          video: ![],
          audio: _0x1a5618
        })
        if (_0x4ae786) {
          for (const _0x54a7c6 of _0x4ae786['getTracks']()) {
            if (_0x54a7c6['kind'] && _0x54a7c6['kind'] == 'audio') {
              _0x517ef1['addTransceiver'](_0x54a7c6, {
                direction: _0x293c('0x16a')
              })
            }
          }
        } else {
          _0x517ef1[_0x293c('0x94')]('audio', { direction: 'recvonly' })
        }
      }
    }
    this['startLatencyTest'] = function (_0x53e1c7) {
      if (!_0x276b1b['video']) {
        return
      }
      _0x276b1b['latencyTestTimings'][_0x293c('0x0')]()
      _0x276b1b['latencyTestTimings']['TestStartTimeMs'] =
        Date[_0x293c('0x111')]()
      _0x53e1c7(_0x276b1b[_0x293c('0xc0')][_0x293c('0xa4')])
    }
    this['handleCandidateFromServer'] = function (_0x3d6f19) {
      console[_0x293c('0xad')](_0x293c('0x91'), _0x3d6f19)
      let _0x76e3a0 = new RTCIceCandidate(_0x3d6f19)
      _0x276b1b[_0x293c('0xaa')]
        [_0x293c('0x98')](_0x76e3a0)
        ['then']((_0x53565f) => {
          console['log'](_0x293c('0x54'))
        })
    }
    this['createOffer'] = function () {
      if (_0x276b1b[_0x293c('0xaa')]) {
        console['log']('Closing\x20existing\x20PeerConnection')
        _0x276b1b[_0x293c('0xaa')]['close']()
        _0x276b1b['pcClient'] = null
      }
      _0x276b1b['pcClient'] = new RTCPeerConnection(_0x276b1b['cfg'])
      setupTracksToSendAsync(_0x276b1b['pcClient'])[_0x293c('0x92')](
        function () {
          setupPeerConnection(_0x276b1b[_0x293c('0xaa')])
          _0x276b1b['dcClient'] = setupDataChannel(
            _0x276b1b[_0x293c('0xaa')],
            _0x293c('0x101'),
            _0x276b1b['dataChannelOptions']
          )
          handleCreateOffer(_0x276b1b['pcClient'])
        }
      )
    }
    this['receiveAnswer'] = function (_0x5eb385) {
      var _0x36f89b = new RTCSessionDescription(_0x5eb385)
      _0x276b1b['pcClient']['setRemoteDescription'](_0x36f89b)
      let _0x319d00 = _0x276b1b['pcClient'][_0x293c('0x150')]()
      for (let _0x448725 of _0x319d00) {
        _0x448725[_0x293c('0x14c')] = 0x0
      }
    }
    this[_0x293c('0x6d')] = function () {
      if (_0x276b1b['pcClient']) {
        console['log']('Closing\x20existing\x20peerClient')
        _0x276b1b['pcClient']['close']()
        _0x276b1b['pcClient'] = null
      }
      if (_0x276b1b['aggregateStatsIntervalId'])
        clearInterval(_0x276b1b[_0x293c('0x4b')])
    }
    this['send'] = function (_0x150825) {
      if (
        _0x276b1b[_0x293c('0x13e')] &&
        _0x276b1b['dcClient']['readyState'] == 'open'
      ) {
        _0x276b1b['dcClient'][_0x293c('0x32')](_0x150825)
      }
    }
    this[_0x293c('0x25')] = function (_0x2f9c17) {
      if (_0x276b1b['pcClient'] && _0x2f9c17) {
        _0x276b1b['pcClient']
          ['getStats'](null)
          [_0x293c('0xf0')]((_0x23c5f9) => {
            _0x2f9c17(_0x23c5f9)
          })
      }
    }
    this[_0x293c('0x119')] = function (_0x10a2b7) {
      let _0x22d599 = generateAggregatedStatsFunction()
      let _0x189964 = () => {
        _0x276b1b['getStats'](_0x22d599)
      }
      _0x276b1b[_0x293c('0x4b')] = setInterval(_0x189964, _0x10a2b7)
    }
  }
  return _0x2cfa49
})
_0x293c('0xb3')
var MapVision = window['MapVision'] || {}
MapVision['version'] = () => {
  return '1.0.1'
}
MapVision[_0x293c('0x40')] = { Unknown: 0x0, Connected: 0x1, UnConnected: 0x2 }
MapVision['Events'] = {
  MouseEvents: 0x1,
  TouchEvents: 0x2,
  KeyboardEvents: 0x3
}
MapVision[_0x293c('0xd5')] = {
  QualityControlOwnership: 0x0,
  Response: 0x1,
  Command: 0x2,
  FreezeFrame: 0x3,
  UnfreezeFrame: 0x4
}
MapVision[_0x293c('0x43')] = {
  IFrameRequest: 0x0,
  RequestQualityControl: 0x1,
  MaxFpsRequest: 0x2,
  AverageBitrateRequest: 0x3,
  StartStreaming: 0x4,
  StopStreaming: 0x5,
  LatencyTest: 0x6,
  RequestInitialSettings: 0x7,
  UIInteraction: 0x32,
  Command: 0x33,
  KeyDown: 0x3c,
  KeyUp: 0x3d,
  KeyPress: 0x3e,
  MouseEnter: 0x46,
  MouseLeave: 0x47,
  MouseDown: 0x48,
  MouseUp: 0x49,
  MouseMove: 0x4a,
  MouseWheel: 0x4b,
  TouchStart: 0x50,
  TouchEnd: 0x51,
  TouchMove: 0x52
}
MapVision['MouseButton'] = {
  MainButton: 0x0,
  AuxiliaryButton: 0x1,
  SecondaryButton: 0x2,
  FourthButton: 0x3,
  FifthButton: 0x4
}
MapVision[_0x293c('0x14d')] = {
  PrimaryButton: 0x1,
  SecondaryButton: 0x2,
  AuxiliaryButton: 0x4,
  FourthButton: 0x8,
  FifthButton: 0x10
}
MapVision[_0x293c('0xa3')] = {
  Pan: 0x0,
  Select: 0x1,
  SelectPositionCallback: 0x2,
  SelectObjectCallback: 0x3
}
MapVision[_0x293c('0x120')] = {
  SetParameters: 0x186a0,
  ScreenToWorld: 0x186a1,
  WorldToScreen: 0x186a2,
  SetResolution: 0x186a4,
  EnableKeyboard: 0x186a5,
  GetBuildVersion: 0x186a9,
  SetMapStatus: 0x18704,
  Stop: 0x18705,
  Clear: 0x18706,
  Rotate: 0x18707,
  GetHomePosition: 0x18708,
  ResetHome: 0x18709,
  GetCurrentPosition: 0x1870a,
  SetMouseCallback: 0x1870b,
  SetPosition: 0x1870c,
  FlyToPosition: 0x1870d,
  FlyToObject: 0x1870e,
  FlyToObjectById: 0x18711,
  FlyToObjectByType: 0x1870f,
  FlyToObjectByIds: 0x18710,
  SetMousePositionCallback: 0x18712,
  SetNorth: 0x18713,
  GetMaps: 0x18718,
  LoadMap: 0x18719,
  UnLoadMap: 0x1871a,
  IsLoadMap: 0x1871b,
  GetResourceTexture2D: 0x1871e,
  GetResourceMaterial: 0x1871f,
  GetResourceMaterialInstance: 0x18720,
  GetResourceShape: 0x18721,
  GetResources: 0x18722,
  GetScrrenPosition: 0x18723,
  GetScenceSunInfo: 0x1872d,
  SetScenceSunInfo: 0x1872e,
  GetScenceRain: 0x18730,
  SetScenceRain: 0x18731,
  GetScenceSnow: 0x18732,
  SetScenceSnow: 0x18733,
  GetScenceClouds: 0x18734,
  SetScenceClouds: 0x18735,
  PlayRouteModel: 0x18762,
  RePlayRouteModel: 0x18763,
  PauseRouteModel: 0x18764,
  StopRouteModel: 0x18765,
  ResumeRouteModel: 0x18766,
  CreateObject: 0x18769,
  CreateRoute: 0x1876a,
  PlayRoute: 0x1876d,
  PauseRoute: 0x1876e,
  StopRoute: 0x1876f,
  ResumeRoute: 0x18770,
  PlaySequence: 0x18773,
  PauseSequence: 0x18774,
  IsPlayingSequence: 0x18775,
  IsPausedSequence: 0x18776,
  StopSequence: 0x18777,
  StreamVideoOpen: 0x1877d,
  StreamVideoClose: 0x1877e,
  StreamVideoCloseAll: 0x1877f,
  FindObjectById: 0x18787,
  FindObjectByName: 0x18789,
  FindObjectByPrefix: 0x1878a,
  GetSelectedObject: 0x1878b,
  UpdateObject: 0x1878d,
  UpdateObjectVisible: 0x1878e,
  UpdateObjectStyle: 0x1878f,
  UpdateObjectVisibleByPrefix: 0x18790,
  ClearObjectStyle: 0x1879a,
  GetObjectsVisible: 0x187a5,
  SetObjectsVisible: 0x187a6,
  UpdateObjects: 0x187a7,
  ResetObjects: 0x187a8,
  SetObjectHighlight: 0x187af,
  SetObjectsHighlight: 0x187b0,
  SetObjectsHighlightByPrefix: 0x187b1,
  ClearHighlight: 0x187b2,
  SetHighlightRegion: 0x187b3,
  ClearHighlightRegion: 0x187b4,
  GetBuildingNum: 0x18831,
  GetBuildingName: 0x18832,
  GetBuildingNames: 0x18833,
  GetBuildingVisible: 0x18834,
  SetBuildingVisible: 0x18835,
  SetBuildingWkVisible: 0x18836,
  ResetAllBuildings: 0x18837,
  SplitBuilding: 0x18838,
  SplitBuildingReset: 0x18839,
  SplitDynamicBuilding: 0x18862,
  SplitDynamicFloor: 0x18863,
  SplitFloorReset: 0x18864,
  GetSplitBuildingNames: 0x18865,
  GetFloorNum: 0x1883b,
  GetFloorName: 0x1883c,
  GetFloorNames: 0x1883d,
  GetFloorVisible: 0x1883e,
  SetFloorVisible: 0x1883f,
  GetUpFloorNum: 0x18840,
  GetUpFloorNames: 0x18841,
  GetDownFloorNum: 0x18842,
  GetDownFloorNames: 0x18843,
  GetFloorRoomNum: 0x18845,
  GetFloorRoomName: 0x18846,
  GetFloorRoomNames: 0x18847,
  GetFloorRoomVisible: 0x18848,
  SetFloorRoomVisible: 0x18849,
  GetFloorDeviceNum: 0x1884f,
  GetFloorDeviceName: 0x18850,
  GetFloorDeviceNames: 0x18851,
  GetFloorDeviceVisible: 0x18852,
  SetFloorDeviceVisible: 0x18853,
  SetGroundVisible: 0x18895,
  OverLayerStartEdit: 0x188f9,
  OverLayerStopEdit: 0x188fa,
  OverLayerSelectObjectEdit: 0x188fb,
  OverLayerFindObject: 0x188fc,
  OverLayerCreateObject: 0x18903,
  OverLayerUpdateObject: 0x18904,
  OverLayerRemoveObject: 0x18905,
  OverLayerRemoveAll: 0x18906,
  OverLayerRemoveAllCustom: 0x18907,
  OverLayerCreateObjects: 0x18908,
  OverLayerRemoveObjects: 0x18909,
  LayerLoad: 0x18917,
  LayerReLoad: 0x18918,
  LayersLoad: 0x18919,
  LayerSelectObject: 0x1891b,
  LayerRemove: 0x1891c,
  LayerSetVisible: 0x1891d,
  NorthControl: 0x18a25,
  PositionControl: 0x18a26,
  ToolMeasureDistance: 0x18a2f,
  ToolMeasureHeight: 0x18a30,
  ToolMeasureArea: 0x18a31,
  ToolMeasureExit: 0x18a37
}
MapVision[_0x293c('0x171')] = function () {
  this['x'] = 0x0
  this['y'] = 0x0
}
MapVision['Point'] = function () {
  this['x'] = 0x0
  this['y'] = 0x0
  this['z'] = 0x0
}
MapVision[_0x293c('0x7e')] = function () {
  this['x'] = 0x0
  this['y'] = 0x0
  this['z'] = 0x0
  this['pitch'] = 0x0
  this[_0x293c('0x13a')] = 0x0
  this[_0x293c('0x1d')] = 0x0
}
MapVision['Label'] = function () {
  this[_0x293c('0x12c')] = _0x293c('0x183')
  this['gid'] = 0x1
  this[_0x293c('0x181')] = ''
  this['style'] = ''
  this[_0x293c('0x8')] = new MapVision[_0x293c('0x7e')]()
}
MapVision['Model3D'] = function () {
  this['type'] = _0x293c('0x11d')
  this[_0x293c('0xcb')] = 0x1
  this[_0x293c('0x181')] = ''
  this[_0x293c('0x86')] = ''
  this[_0x293c('0x8')] = new MapVision[_0x293c('0x7e')]()
}
MapVision['LineString'] = function () {
  this[_0x293c('0x12c')] = _0x293c('0x51')
  this[_0x293c('0xcb')] = 0x1
  this[_0x293c('0x181')] = ''
  this['style'] = ''
  this['geom'] = []
}
MapVision[_0x293c('0x70')] = function () {
  this[_0x293c('0x12c')] = _0x293c('0x135')
  this['gid'] = 0x1
  this['name'] = ''
  this['style'] = ''
  this['geom'] = []
}
MapVision[_0x293c('0x179')] = function () {
  this[_0x293c('0x12c')] = _0x293c('0x10a')
  this['gid'] = 0x0
  this['name'] = ''
  this['floors'] = [{ type: 'floor', gid: 0x0, name: '' }]
  this['position'] = new MapVision[_0x293c('0x7e')]()
}
MapVision[_0x293c('0xe6')] = 0x1
MapVision[_0x293c('0xe9')] = function (_0x51be0c) {
  this['id'] = _0x51be0c['id']
  this[_0x293c('0x181')] = 'MapVision.View3d'
  this[_0x293c('0xde')] = _0x51be0c[_0x293c('0xde')]
  this[_0x293c('0x4f')] = _0x51be0c['projectId']
  this[_0x293c('0x18a')] = _0x51be0c['mapkey']
  if (!this['mapkey']) {
    this[_0x293c('0x18a')] = _0x51be0c[_0x293c('0xd1')]
  }
  this[_0x293c('0x142')] = !![]
  this[_0x293c('0x16c')] = !![]
  this['_registerCallback'] = null
  this['_webRtcPlayerHtmlElement'] = null
  this[_0x293c('0x38')] = null
  this[_0x293c('0x1f')] = null
  this[_0x293c('0xf2')] = { id: 'cmd' }
  this['_mouseDownStatus'] = ![]
  this[_0x293c('0x184')] = null
  this['_onMouseSelectedObj'] = null
  this['_onMouseDownCallback'] = null
  this['_onMouseUpCallback'] = null
  this[_0x293c('0x96')] = null
}
MapVision['View3d']['prototype']['Open'] = function (_0x1a6dc3) {
  let _0x32536e = this
  _0x32536e['_registerCallback'] = _0x1a6dc3
  if (
    _0x32536e['id'] == '' ||
    _0x32536e['url'] == '' ||
    _0x32536e[_0x293c('0x4f')] == ''
  ) {
    if (_0x32536e[_0x293c('0xea')]) {
      const _0x375d37 = { code: 0xc9, msg: _0x293c('0x90') }
      _0x32536e[_0x293c('0xea')](_0x375d37)
    }
    return
  }
  window[_0x293c('0xac')] = window['WebSocket'] || window['MozWebSocket']
  if (!window[_0x293c('0xac')]) {
    if (_0x32536e[_0x293c('0xea')]) {
      const _0x500321 = { code: 0x1f9, msg: _0x293c('0xfd') }
      _0x32536e[_0x293c('0xea')](_0x500321)
    }
    return
  }
  const _0x1f4a5e = _0x32536e['_webSocket']
  if (_0x1f4a5e) {
    _0x1f4a5e['close']()
    _0x32536e[_0x293c('0x1f')] = undefined
    console[_0x293c('0xad')]('\x20_webSocket\x20closed\x20')
    _0x32536e[_0x293c('0x12a')](_0x32536e['_webRtcPlayerHtmlElement'])
  }
  if (_0x32536e['url'][_0x293c('0x89')]('/aimapvision3d') < 0x0) {
    let _0x9a690 = null
    let _0x5611dd = ![]
    if (_0x32536e['url'][_0x293c('0x89')]('https://') == 0x0) {
      _0x5611dd = !![]
      _0x9a690 = _0x32536e['url']['replace']('https:', '')
    } else {
      _0x9a690 = _0x32536e['url']['replace'](_0x293c('0x12'), '')
    }
    _0x9a690 = _0x9a690[_0x293c('0x149')]('/', '')
    if (_0x5611dd) {
      _0x9a690 = _0x293c('0xa0') + _0x9a690
    } else {
      _0x9a690 = _0x293c('0x190') + _0x9a690
    }
    _0x9a690 = _0x9a690['replace'](_0x293c('0xe1'), '//')
    console['log'](_0x9a690)
    _0x32536e['_connectWebsocket'](_0x9a690)
    return
  }
  const _0x49a948 = {
    httpUrl:
      _0x32536e['url'] +
      _0x293c('0x153') +
      _0x32536e[_0x293c('0x4f')] +
      _0x293c('0x57') +
      _0x32536e[_0x293c('0x18a')],
    type: _0x293c('0xda')
  }
  setTimeout(() => {
    _0x32536e[_0x293c('0x3d')](
      _0x49a948,
      function (_0x66f477) {
        if (_0x66f477[_0x293c('0xa')] && _0x66f477[_0x293c('0xa')] === 0xc8) {
          const _0xb3d5c5 = _0x66f477[_0x293c('0xf4')]
          if (_0xb3d5c5[_0x293c('0xee')] < 0xa) {
            console['log'](_0x293c('0x2c'))
            if (_0x32536e[_0x293c('0xea')]) {
              const _0x11f2d7 = { code: 0x12c, msg: _0x293c('0x2c') }
              _0x32536e[_0x293c('0xea')](_0x11f2d7)
            }
            return
          }
          let _0x597169 = ![]
          if (_0x32536e[_0x293c('0xde')]['indexOf']('https://') == 0x0) {
            _0x597169 = !![]
          }
          let _0x56c922 = _0x32536e[_0x293c('0xde')]
            ['replace']('http://', '')
            [_0x293c('0x149')](_0x293c('0x72'), '')
          const _0x5946dd = _0x56c922[_0x293c('0x89')](':', 0x0)
          if (_0x5946dd > 0x0)
            _0x56c922 = _0x56c922[_0x293c('0x79')](0x0, _0x5946dd)
          if (_0x597169) {
            _0x56c922 = 'wss://' + _0x56c922 + '/' + _0xb3d5c5[_0x293c('0xee')]
          } else {
            _0x56c922 = 'ws://' + _0x56c922 + ':' + _0xb3d5c5['port']
          }
          _0x32536e[_0x293c('0x130')](_0x56c922)
        } else {
          console['log'](_0x66f477)
          if (_0x32536e[_0x293c('0xea')]) {
            _0x32536e[_0x293c('0xea')](_0x66f477)
          }
        }
      },
      function () {
        if (_0x32536e['_registerCallback']) {
          const _0x3c029c = { code: 0x1f4, msg: 'Bad\x20Request' }
          _0x32536e[_0x293c('0xea')](_0x3c029c)
        }
      }
    )
  }, 0x64)
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x2')] = function () {
  let _0xe83a97 = this
  const _0x5a17e1 = _0xe83a97['_webSocket']
  if (_0x5a17e1) {
    _0xe83a97[_0x293c('0xb1')]()
    _0x5a17e1[_0x293c('0x6d')]()
    _0xe83a97['_webSocket'] = undefined
    console[_0x293c('0xad')]('\x20_webSocket\x20closed\x20')
  }
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0xe5')] = function (
  _0xb740d6,
  _0x30bbb0
) {
  if (_0xb740d6 === _0x293c('0x18')) {
    this['_onMouseDownCallback'] = _0x30bbb0
    this['_emiUICommand'](MapVision['CommandType']['SetMouseCallback'])
  } else if (_0xb740d6 === _0x293c('0xfb')) {
    this['_onMouseMoveCallback'] = _0x30bbb0
  } else if (_0xb740d6 === 'onmouseup') {
    this['_onMouseUpCallback'] = _0x30bbb0
  } else {
    this[_0x293c('0xea')] = _0x30bbb0
  }
}
MapVision['View3d'][_0x293c('0x39')]['UnRegisterEvent'] = function () {
  if (!this[_0x293c('0x1f')] && this[_0x293c('0xec')]) {
    this['_unregisterEvents'](this[_0x293c('0xec')])
  }
  this['_onMouseDownCallback'] = null
  this[_0x293c('0x96')] = null
  this[_0x293c('0x127')] = null
  this[_0x293c('0xea')] = null
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x99')] = function () {
  const _0x237494 = this['_webSocket'] === undefined
  return _0x237494
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x114')] = function (
  _0x2e7af5
) {
  this['_emiUICommand'](
    MapVision[_0x293c('0x120')][_0x293c('0x114')],
    _0x2e7af5
  )
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['SetResolution'] = function (
  _0x4fae11,
  _0x17f6ee
) {
  this[_0x293c('0x117')](MapVision['CommandType']['SetResolution'], {
    width: _0x4fae11,
    height: _0x17f6ee
  })
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0xae')] = function (_0x215d57) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')][_0x293c('0xae')]] =
    _0x215d57
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0xae')])
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x37')] = function (
  _0x246219,
  _0x539b6f
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x37')]] = _0x539b6f
  this[_0x293c('0x117')](MapVision['CommandType']['SetMapStatus'], {
    mapstatus: _0x246219
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['Clear'] = function () {
  this['_onMouseSelectedObj'] = null
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x56')])
}
MapVision['View3d'][_0x293c('0x39')]['Stop'] = function () {
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision[_0x293c('0x43')]['KeyUp'], 0x57])['buffer']
  )
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision['MessageType']['KeyUp'], 0x53])['buffer']
  )
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision[_0x293c('0x43')][_0x293c('0x95')], 0x44])[
      _0x293c('0x116')
    ]
  )
  this['_sendInputData'](
    new Uint8Array([MapVision[_0x293c('0x43')][_0x293c('0x95')], 0x41])[
      _0x293c('0x116')
    ]
  )
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision[_0x293c('0x43')]['KeyUp'], 0x25])['buffer']
  )
  this['_sendInputData'](
    new Uint8Array([MapVision[_0x293c('0x43')][_0x293c('0x95')], 0x26])[
      _0x293c('0x116')
    ]
  )
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision['MessageType']['KeyUp'], 0x27])[_0x293c('0x116')]
  )
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision['MessageType']['KeyUp'], 0x28])['buffer']
  )
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x8f')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['ResetHome'] = function () {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x16f')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['Rotate'] = function (
  _0x114d86,
  _0x163b42,
  _0x55e8ae,
  _0x5fdfb9,
  _0x131f18
) {
  let _0x57be5f = {}
  if (_0x114d86) {
    _0x57be5f['pitch'] = _0x114d86
  }
  if (_0x163b42) {
    _0x57be5f[_0x293c('0x16d')] = _0x163b42
  }
  if (_0x55e8ae) {
    _0x57be5f[_0x293c('0x16')] = _0x55e8ae
  }
  if (_0x5fdfb9) {
    _0x57be5f['gid'] = _0x5fdfb9
  }
  if (_0x131f18) {
    _0x57be5f[_0x293c('0x4d')] = _0x131f18
  }
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x132')], {
    gid: _0x5fdfb9,
    pitch: _0x114d86,
    radio: _0x163b42,
    distance: _0x55e8ae,
    highlight: _0x131f18
  })
}
MapVision['View3d'][_0x293c('0x39')]['GetCurrentPosition'] = function (
  _0x34eb3e
) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0x58')]] = _0x34eb3e
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x58')])
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0xce')] = function (
  _0x2c56d7,
  _0x28ee8
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0xce')]] = _0x28ee8
  const _0x3b1ebf = []
  _0x2c56d7['forEach']((_0x5cfdb3) => {
    _0x3b1ebf['push']({ gid: _0x5cfdb3[_0x293c('0xcb')] })
  })
  this['_emiUICommand'](MapVision['CommandType']['GetScrrenPosition'], {
    objects: _0x3b1ebf
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0xa1')] = function (
  _0x285402
) {
  this['_callback'][MapVision['CommandType']['GetScenceSunInfo']] = _0x285402
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0xa1')])
}
MapVision[_0x293c('0xe9')]['prototype']['SetScenceSunInfo'] = function (
  _0x7b9989,
  _0x3f1538
) {
  this['_emiUICommand'](MapVision['CommandType']['SetScenceSunInfo'], _0x7b9989)
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x172')] = function (_0x439438) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0x172')]] = _0x439438
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['GetScenceRain'])
}
MapVision['View3d']['prototype']['SetScenceRain'] = function (_0x317461) {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['SetScenceRain'], {
    ebable: _0x317461
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['GetScenceSnow'] = function (
  _0x5d0f2f
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['GetScenceSnow']] =
    _0x5d0f2f
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['GetScenceSnow'])
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0xd')] = function (_0x20ecaa) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['SetScenceSnow'], {
    ebable: _0x20ecaa
  })
}
MapVision['View3d']['prototype']['GetScenceClouds'] = function (_0x233c96) {
  this['_callback'][MapVision['CommandType']['GetScenceClouds']] = _0x233c96
  this[_0x293c('0x117')](MapVision['CommandType']['GetScenceClouds'])
}
MapVision[_0x293c('0xe9')]['prototype']['SetScenceClouds'] = function (
  _0x1ffce6
) {
  this['_emiUICommand'](MapVision['CommandType']['SetScenceClouds'], {
    ebable: _0x1ffce6
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['SetMouseCallback'] = function (
  _0x2b2041
) {
  this['_callback'][MapVision['CommandType']['SetMouseCallback']] = _0x2b2041
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x189')])
}
MapVision['View3d']['prototype'][_0x293c('0x151')] = function (_0x10830f) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x151')]] = _0x10830f
  this[_0x293c('0x117')](MapVision['CommandType']['SetMousePositionCallback'])
}
MapVision['View3d']['prototype']['SetNorth'] = function (_0x4c50fb) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x5d')], {
    angle: _0x4c50fb
  })
}
MapVision['View3d']['prototype'][_0x293c('0xb')] = function (_0x3563bc) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0xb')]] = _0x3563bc
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['GetMaps'])
}
MapVision['View3d']['prototype'][_0x293c('0x1a')] = function (_0x4f7719) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x1a')], {
    name: _0x4f7719
  })
}
MapVision['View3d'][_0x293c('0x39')]['UnLoadMap'] = function (_0x1fd4ff) {
  this['_emiUICommand'](MapVision['CommandType']['UnLoadMap'], {
    name: _0x1fd4ff
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x156')] = function (
  _0x5bbfeb,
  _0x4fcb6e
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['IsLoadMap']] = _0x4fcb6e
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x156')], {
    name: _0x5bbfeb
  })
}
MapVision['View3d']['prototype'][_0x293c('0x17e')] = function (_0x78afde) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['GetResourceTexture2D']] =
    _0x78afde
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x17e')])
}
MapVision['View3d']['prototype']['GetResourceMaterial'] = function (_0x592b41) {
  this['_callback'][MapVision[_0x293c('0x120')]['GetResourceMaterial']] =
    _0x592b41
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x1e')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x2b')] = function (
  _0x7cd12d
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x2b')]] = _0x7cd12d
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x2b')])
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x17b')] = function (_0x3c1aef) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0x17b')]] = _0x3c1aef
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x17b')])
}
MapVision[_0x293c('0xe9')]['prototype']['GetResources'] = function (_0x14c629) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0xb2')]] = _0x14c629
  this[_0x293c('0x117')](MapVision['CommandType']['GetResources'])
}
MapVision['View3d'][_0x293c('0x39')]['GetHomePosition'] = function (_0x2969ef) {
  this[_0x293c('0xf2')][MapVision['CommandType']['GetHomePosition']] = _0x2969ef
  this['_emiUICommand'](MapVision['CommandType']['GetHomePosition'])
}
MapVision['View3d']['prototype']['SetPosition'] = function (
  _0x17d5f4,
  _0x573bb5
) {
  _0x17d5f4[_0x293c('0x7d')] = _0x573bb5
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')][_0x293c('0x13')],
    _0x17d5f4
  )
}
MapVision[_0x293c('0xe9')]['prototype']['FlyToPosition'] = function (
  _0x1ab30b,
  _0x337c86,
  _0x2697c3
) {
  _0x1ab30b['showlocation'] = _0x337c86
  _0x1ab30b[_0x293c('0x3e')] = _0x2697c3
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')]['FlyToPosition'],
    _0x1ab30b
  )
}
MapVision['View3d'][_0x293c('0x39')]['FlyToObject'] = function (
  _0x3988b8,
  _0x15657d,
  _0x3f2b3f
) {
  _0x3988b8[_0x293c('0x7d')] = _0x15657d
  _0x3988b8[_0x293c('0x3e')] = _0x3f2b3f
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x3a')], _0x3988b8)
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0xbb')] = function (
  _0x504156,
  _0x4f9c0b,
  _0x1d985b,
  _0x4ccc6b,
  _0x15ef1b
) {
  this['_emiUICommand'](MapVision['CommandType']['FlyToObjectById'], {
    gid: _0x504156,
    showlocation: _0x4f9c0b,
    distance: _0x4ccc6b,
    speed: _0x15ef1b,
    position: { x: 0x0, y: 0x0, z: 0x0, pitch: _0x1d985b, yaw: 0x0, roll: 0x0 }
  })
}
MapVision[_0x293c('0xe9')]['prototype']['FlyToObjectByType'] = function (
  _0x1b093f,
  _0x313a91
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x24')], {
    type: _0x1b093f,
    hradio: _0x313a91
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['FlyToObjectByIds'] = function (
  _0xe41dee,
  _0x53f872
) {
  this[_0x293c('0x117')](MapVision['CommandType']['FlyToObjectByIds'], {
    ids: _0xe41dee,
    hradio: _0x53f872
  })
}
MapVision['View3d']['prototype']['FindObjectById'] = function (
  _0x3f40bb,
  _0x170b8b
) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0x68')]] = _0x170b8b
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0x68')], {
    gid: _0x3f40bb
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x15d')] = function (
  _0x7a8e2b,
  _0x2b00dc
) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0x15d')]] = _0x2b00dc
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x15d')], {
    gid: _0x7a8e2b,
    name: _0x7a8e2b
  })
}
MapVision['View3d'][_0x293c('0x39')]['FindObjectByPrefix'] = function (
  _0x495d9b,
  _0x148672,
  _0x25f042
) {
  this['_callback'][MapVision[_0x293c('0x120')]['FindObjectByPrefix']] =
    _0x25f042
  if (!_0x148672) _0x148672 = 0x14
  this['_emiUICommand'](MapVision['CommandType']['FindObjectByPrefix'], {
    gid: _0x495d9b,
    limit: _0x148672
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['GetSelectedObject'] = function (
  _0x28bea9
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x109')]] = _0x28bea9
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['GetSelectedObject'])
}
MapVision['View3d'][_0x293c('0x39')]['UpdateObject'] = function (_0x2127e7) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['UpdateObject'], _0x2127e7)
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x11f')] = function (
  _0x5836a6,
  _0xa7585e,
  _0x5c8f10
) {
  this[_0x293c('0x117')](MapVision['CommandType']['UpdateObjectStyle'], {
    gid: _0x5836a6,
    style: _0xa7585e,
    color: _0x5c8f10
  })
}
MapVision['View3d'][_0x293c('0x39')]['ClearObjectStyle'] = function (
  _0x2c760e
) {
  if (_0x2c760e) {
    this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x11f')], {
      gid: _0x2c760e,
      style: 'default',
      color: _0x293c('0xc7')
    })
  } else {
    this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x84')])
  }
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0xcc')] = function (_0x3f1276) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0xcc')]] = _0x3f1276
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0xcc')])
}
MapVision['View3d'][_0x293c('0x39')]['SetObjectsVisible'] = function (
  _0x306bb6
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0xf9')], {
    objects: _0x306bb6
  })
}
MapVision['View3d']['prototype']['UpdateObjects'] = function (_0x5afe7e) {
  this[_0x293c('0x117')](MapVision['CommandType']['UpdateObjects'], {
    objects: _0x5afe7e
  })
}
MapVision[_0x293c('0xe9')]['prototype']['ResetObjects'] = function () {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x45')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x192')] = function (
  _0x2e2bd2
) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x192')], {
    gid: _0x2e2bd2
  })
}
MapVision['View3d']['prototype']['SetObjectsHighlight'] = function (_0x4a93f6) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['SetObjectsHighlight'], {
    objects: _0x4a93f6
  })
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x3')] = function (_0x3faad1) {
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')]['SetObjectsHighlightByPrefix'],
    { prefix: _0x3faad1 }
  )
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0xd3')] = function () {
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0xd3')])
}
MapVision[_0x293c('0xe9')]['prototype']['SetHighlightRegion'] = function (
  _0x2f7a10
) {
  this['_emiUICommand'](
    MapVision[_0x293c('0x120')]['SetHighlightRegion'],
    _0x2f7a10
  )
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x64')] = function () {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x64')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['UpdateObjectVisible'] = function (
  _0xf316f8,
  _0x429ea7
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x59')], {
    gid: _0xf316f8,
    visible: _0x429ea7
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0xe7')] = function (
  _0x5f48e5,
  _0x58d54f
) {
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0xe7')], {
    gid: _0x5f48e5,
    visible: _0x58d54f
  })
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x30')] = function (_0x47c8fd) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x30')], _0x47c8fd)
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x136')] = function (
  _0x477acf,
  _0x352352
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x136')]] = _0x352352
  this['_emiUICommand'](
    MapVision[_0x293c('0x120')][_0x293c('0x136')],
    _0x477acf
  )
}
MapVision[_0x293c('0xe9')]['prototype']['StartRoute'] = function (
  _0x6f31a8,
  _0x6118f3
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['StartRoute']] = _0x6118f3
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')][_0x293c('0x15c')],
    _0x6f31a8
  )
}
MapVision['View3d'][_0x293c('0x39')]['PlayRoute'] = function (_0x22cd86) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')][_0x293c('0x67')]] =
    _0x22cd86
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x67')])
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x10d')] = function () {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x10d')])
}
MapVision['View3d']['prototype'][_0x293c('0xd4')] = function () {
  this['_emiUICommand'](MapVision['CommandType']['StopRoute'])
}
MapVision['View3d']['prototype']['ResumeRoute'] = function (_0x482f15) {
  this[_0x293c('0xf2')][MapVision['CommandType']['ResumeRoute']] = _0x482f15
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x4e')])
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0xd7')] = function (_0xbf332e) {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0xd7')], {
    gid: _0xbf332e
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x8a')] = function (
  _0x14d2a1
) {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['RePlayRouteModel'], {
    gid: _0x14d2a1
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x170')] = function (
  _0x59e45b
) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x170')], {
    gid: _0x59e45b
  })
}
MapVision[_0x293c('0xe9')]['prototype']['StopRouteModel'] = function (
  _0x3c45fd
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x53')], {
    gid: _0x3c45fd
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['ResumeRouteModel'] = function (
  _0x29f54c
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0xb0')], {
    gid: _0x29f54c
  })
}
MapVision[_0x293c('0xe9')]['prototype']['PlaySequence'] = function (_0x41c464) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x14f')], {
    gid: _0x41c464
  })
}
MapVision[_0x293c('0xe9')]['prototype']['PauseSequence'] = function (_0x5a97a) {
  this['_emiUICommand'](MapVision['CommandType']['PauseSequence'], {
    gid: _0x5a97a
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x15f')] = function (
  _0x5d234c,
  _0x4c988d
) {
  this['_callback'][MapVision['CommandType']['IsPlayingSequence']] = _0x4c988d
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0x15f')], {
    gid: _0x5d234c
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x2a')] = function (
  _0x382bf4,
  _0x57eb52
) {
  this[_0x293c('0xf2')][MapVision['CommandType']['IsPausedSequence']] =
    _0x57eb52
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x2a')], {
    gid: _0x382bf4
  })
}
MapVision['View3d']['prototype'][_0x293c('0xbe')] = function (
  _0x86c91b,
  _0x213ba4
) {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['StopSequence'], {
    gid: _0x86c91b
  })
}
MapVision['View3d']['prototype']['StreamVideoOpen'] = function (_0x64d7af) {
  this['_emiUICommand'](MapVision['CommandType']['StreamVideoOpen'], _0x64d7af)
}
MapVision['View3d']['prototype']['StreamVideoClose'] = function (_0x55fded) {
  if (!_0x55fded) _0x55fded = 0x0
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x2d')], {
    index: _0x55fded
  })
}
MapVision['View3d']['prototype']['StreamVideoCloseAll'] = function () {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x26')])
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0xb8')] = function (_0x6a4982) {
  this['_callback'][MapVision['CommandType']['GetBuildingNum']] = _0x6a4982
  this[_0x293c('0x117')](MapVision['CommandType']['GetBuildingNum'])
}
MapVision['View3d'][_0x293c('0x39')]['GetBuildingName'] = function (
  _0x49cf40,
  _0x12d3ce
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['GetBuildingName']] =
    _0x12d3ce
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x69')], {
    bindex: _0x49cf40
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x1')] = function (_0x1895aa) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['GetBuildingNames']] =
    _0x1895aa
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x1')])
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x49')] = function (
  _0x44845b
) {
  this[_0x293c('0xf2')][MapVision['CommandType']['GetSplitBuildingNames']] =
    _0x44845b
  this['_emiUICommand'](MapVision['CommandType']['GetSplitBuildingNames'])
}
MapVision['View3d']['prototype']['GetBuildingVisible'] = function (
  _0x16cf7a,
  _0x51d69c
) {
  this['_callback'][MapVision['CommandType']['GetBuildingVisible']] = _0x51d69c
  this['_emiUICommand'](MapVision['CommandType']['GetBuildingVisible'], {
    gid: _0x16cf7a
  })
}
MapVision['View3d']['prototype']['SetBuildingVisible'] = function (
  _0x49a98f,
  _0xf551b4,
  _0xb2b0da
) {
  this[_0x293c('0x117')](MapVision['CommandType']['SetBuildingVisible'], {
    gid: _0x49a98f,
    visible: _0xf551b4,
    opacity: _0xb2b0da
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['SetBuildingWkVisible'] = function (
  _0x35d236,
  _0x4ca06c,
  _0x5e48ed
) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x124')], {
    gid: _0x35d236,
    visible: _0x4ca06c,
    opacity: _0x5e48ed
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x6')] = function () {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0x6')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0xd2')] = function (
  _0xcbc891,
  _0x313671
) {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['SplitBuilding'], {
    gid: _0xcbc891,
    offset: _0x313671
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x143')] = function (
  _0x387639
) {
  this['_emiUICommand'](MapVision['CommandType']['SplitBuildingReset'], {
    gid: _0x387639
  })
}
MapVision['View3d']['prototype'][_0x293c('0x164')] = function (
  _0x3bd5fc,
  _0x23074,
  _0x300efd
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x164')], {
    gid: _0x3bd5fc,
    offset: _0x23074,
    seconds: _0x300efd
  })
}
MapVision['View3d'][_0x293c('0x39')]['SplitDynamicFloor'] = function (
  _0x5bc7a4,
  _0x446c90,
  _0x410176,
  _0x3fdd8f
) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x1b')], {
    gid: _0x5bc7a4,
    floor: _0x446c90,
    offset: _0x410176,
    seconds: _0x3fdd8f
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['SplitFloorReset'] = function (
  _0x438f1b,
  _0x6c4b0c
) {
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0xbd')], {
    gid: _0x438f1b,
    floor: _0x6c4b0c
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x166')] = function (
  _0x2c3bb8,
  _0x24c4f6
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')][_0x293c('0x166')]] =
    _0x24c4f6
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x166')], {
    gid: _0x2c3bb8
  })
}
MapVision[_0x293c('0xe9')]['prototype']['GetFloorName'] = function (
  _0x13601f,
  _0x80424d
) {
  this['_callback'][MapVision[_0x293c('0x120')]['GetFloorNames']] = _0x80424d
  this['_emiUICommand'](MapVision['CommandType']['GetFloorNames'], {
    gid: _0x13601f
  })
}
MapVision['View3d']['prototype'][_0x293c('0x11b')] = function (
  _0x49d045,
  _0x5a03f7
) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0x11b')]] = _0x5a03f7
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x11b')], {
    gid: _0x49d045
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x8c')] = function (
  _0x2bc142,
  _0xa52ce7,
  _0x31b8fb
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x8c')]] = _0x31b8fb
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['GetFloorVisible'], {
    gid: _0x2bc142,
    floor: _0xa52ce7
  })
}
MapVision[_0x293c('0xe9')]['prototype']['SetFloorVisible'] = function (
  _0x5b1b3b,
  _0x574c3e,
  _0x172368,
  _0x6b85e7
) {
  if (!_0x172368) _0x172368 = ![]
  if (!_0x6b85e7) _0x6b85e7 = 0x0
  this['_emiUICommand'](MapVision['CommandType']['SetFloorVisible'], {
    gid: _0x5b1b3b,
    floor: _0x574c3e,
    visible: _0x172368,
    opacity: _0x6b85e7
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x74')] = function (
  _0x1805cf,
  _0x2895e3,
  _0xbd5f45
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x74')]] = _0xbd5f45
  this['_emiUICommand'](MapVision['CommandType']['GetUpFloorNum'], {
    gid: _0x1805cf,
    floor: _0x2895e3
  })
}
MapVision['View3d'][_0x293c('0x39')]['GetUpFloorNames'] = function (
  _0x451b7b,
  _0x282109,
  _0x44eeae
) {
  this['_callback'][MapVision['CommandType']['GetUpFloorNames']] = _0x44eeae
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['GetUpFloorNames'], {
    gid: _0x451b7b,
    floor: _0x282109
  })
}
MapVision[_0x293c('0xe9')]['prototype']['GetDownFloorNum'] = function (
  _0x4bac62,
  _0x498765,
  _0x28ed7e
) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0xb5')]] = _0x28ed7e
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0xb5')], {
    gid: _0x4bac62,
    floor: _0x498765
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['GetDownFloorNames'] = function (
  _0x4ccf7b,
  _0x47eda7,
  _0x275746
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['GetDownFloorNames']] =
    _0x275746
  this[_0x293c('0x117')](MapVision['CommandType']['GetDownFloorNames'], {
    gid: _0x4ccf7b,
    floor: _0x47eda7
  })
}
MapVision['View3d']['prototype'][_0x293c('0x122')] = function (
  _0x2d642e,
  _0x46f9b6,
  _0x48db66
) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0x122')]] = _0x48db66
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x122')], {
    gid: _0x2d642e,
    floor: _0x46f9b6
  })
}
MapVision[_0x293c('0xe9')]['prototype']['GetFloorRoomName'] = function (
  _0x336539,
  _0x4e6d86,
  _0x358263
) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0xdb')]] = _0x358263
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0xdb')], {
    gid: _0x336539,
    floor: _0x4e6d86
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0xdb')] = function (
  _0x5dc9a5,
  _0xc4c828,
  _0x255f16
) {
  this['_callback'][MapVision['CommandType']['GetFloorRoomNames']] = _0x255f16
  this[_0x293c('0x117')](MapVision['CommandType']['GetFloorRoomNames'], {
    gid: _0x5dc9a5,
    floor: _0xc4c828
  })
}
MapVision['View3d']['prototype']['GetFloorRoomVisible'] = function (
  _0x361ee3,
  _0x2f4a1e,
  _0x5ad8d0,
  _0x326650
) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0x177')]] = _0x326650
  this[_0x293c('0x117')](MapVision['CommandType']['GetFloorRoomVisible'], {
    gid: _0x361ee3,
    floor: _0x2f4a1e,
    room: _0x5ad8d0
  })
}
MapVision['View3d']['prototype']['SetFloorRoomVisible'] = function (
  _0x498117,
  _0x3fc9e0,
  _0x25c0ca,
  _0x1a5f8e,
  _0x16335f
) {
  if (!_0x1a5f8e) _0x1a5f8e = ![]
  if (!_0x16335f) _0x16335f = 0x0
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x52')], {
    gid: _0x498117,
    floor: _0x3fc9e0,
    room: _0x25c0ca,
    visible: _0x1a5f8e,
    opacity: _0x16335f
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x88')] = function (
  _0x223ab2,
  _0x293a1b,
  _0x3b5fcc
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x88')]] = _0x3b5fcc
  this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceNum'], {
    gid: _0x223ab2,
    floor: _0x293a1b
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['GetFloorDeviceName'] = function (
  _0x2cf36d,
  _0x14a4a0,
  _0x579f44
) {
  this[_0x293c('0xf2')][MapVision['CommandType'][_0x293c('0x195')]] = _0x579f44
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['GetFloorDeviceNames'], {
    gid: _0x2cf36d,
    floor: _0x14a4a0
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x195')] = function (
  _0x3211b8,
  _0x2ca2e4,
  _0x4f846d
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x195')]] = _0x4f846d
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x195')], {
    gid: _0x3211b8,
    floor: _0x2ca2e4
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x137')] = function (
  _0x3a20f3,
  _0x292d9e,
  _0x322ff0,
  _0x2f3d08
) {
  this[_0x293c('0xf2')][MapVision['CommandType']['GetFloorDeviceVisible']] =
    _0x2f3d08
  this[_0x293c('0x117')](MapVision['CommandType']['GetFloorDeviceVisible'], {
    gid: _0x3a20f3,
    floor: _0x292d9e,
    device: _0x322ff0
  })
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['SetFloorDeviceVisible'] =
  function (_0x346497, _0xb95bda, _0x1c4f27, _0x56aa04, _0x4a37f2) {
    if (!_0x56aa04) _0x56aa04 = ![]
    if (!_0x4a37f2) _0x4a37f2 = 0x0
    this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0xa5')], {
      gid: _0x346497,
      floor: _0xb95bda,
      device: _0x1c4f27,
      visible: _0x56aa04,
      opacity: _0x4a37f2
    })
  }
MapVision['View3d'][_0x293c('0x39')]['SetGroundVisible'] = function (
  _0x98a754
) {
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['SetGroundVisible'], {
    visible: _0x98a754
  })
}
MapVision[_0x293c('0xe9')]['prototype']['OverLayerStartEdit'] = function (
  _0x22278a,
  _0x56ec49
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x61')]] = _0x56ec49
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')][_0x293c('0x61')],
    _0x22278a
  )
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x63')] = function () {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0x63')])
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x17d')] = function (
  _0x31d47d
) {
  this['_callback'][MapVision[_0x293c('0x120')][_0x293c('0x17d')]] = _0x31d47d
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')][_0x293c('0x17d')])
}
MapVision['View3d']['prototype'][_0x293c('0x160')] = function (
  _0x2ed44b,
  _0xda79b
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')]['OverLayerFindObject']] =
    _0xda79b
  this['_emiUICommand'](MapVision['CommandType']['OverLayerFindObject'], {
    name: _0x2ed44b
  })
}
MapVision['View3d']['prototype']['OverLayerCreateObject'] = function (
  _0x191150,
  _0x4094eb
) {
  this['_callback'][MapVision['CommandType']['OverLayerCreateObject']] =
    _0x4094eb
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')][_0x293c('0xab')],
    _0x191150
  )
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x35')] = function (
  _0x3164ae,
  _0x333b4b
) {
  this['_callback'][MapVision['CommandType']['OverLayerCreateObjects']] =
    _0x333b4b
  this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x35')], {
    shapes: _0x3164ae
  })
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x194')] = function (_0x4f22c7) {
  this[_0x293c('0x117')](
    MapVision[_0x293c('0x120')]['OverLayerUpdateObject'],
    _0x4f22c7
  )
}
MapVision['View3d']['prototype'][_0x293c('0x48')] = function (_0xb0e82e) {
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x48')], _0xb0e82e)
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x8d')] = function (
  _0x10ceb2
) {
  this[_0x293c('0x117')](MapVision['CommandType']['OverLayerRemoveObject'], {
    gid: _0x10ceb2
  })
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x14e')] = function (_0x2fa9eb) {
  this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObjects'], {
    ids: _0x2fa9eb
  })
}
MapVision['View3d'][_0x293c('0x39')]['OverLayerRemoveAll'] = function (
  _0xb7f004
) {
  if (_0xb7f004) {
    this[_0x293c('0x117')](
      MapVision[_0x293c('0x120')]['OverLayerRemoveAllCustom'],
      { types: _0xb7f004 }
    )
  } else {
    this['_emiUICommand'](MapVision[_0x293c('0x120')][_0x293c('0x18f')])
  }
}
MapVision[_0x293c('0xe9')]['prototype']['LayerLoad'] = function (
  _0x3cbf6d,
  _0x4cb7c3
) {
  this[_0x293c('0xf2')][MapVision[_0x293c('0x120')][_0x293c('0x10c')]] =
    _0x4cb7c3
  this['_emiUICommand'](MapVision['CommandType']['LayerLoad'], _0x3cbf6d)
}
MapVision['View3d']['prototype'][_0x293c('0x10')] = function (
  _0x2b2835,
  _0x238c9c
) {
  this['_callback'][MapVision['CommandType']['LayerReLoad']] = _0x238c9c
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x10')], _0x2b2835)
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x174')] = function (
  _0x2cdc97,
  _0x2af87b
) {
  this[_0x293c('0xf2')][MapVision['CommandType']['LayersLoad']] = _0x2af87b
  this['_emiUICommand'](MapVision[_0x293c('0x120')]['LayersLoad'], {
    layers: _0x2cdc97
  })
}
MapVision['View3d']['prototype']['LayerSelectObject'] = function (
  _0xa79219,
  _0xf1a618
) {
  this['_callback'][MapVision['CommandType'][_0x293c('0x50')]] = _0xf1a618
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x50')], {
    gid: _0xa79219
  })
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0xe')] = function (_0x226e5c) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0xe')], {
    gid: _0x226e5c
  })
}
MapVision[_0x293c('0xe9')]['prototype']['LayerSetVisible'] = function (
  _0x528442,
  _0x4ad6c2
) {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['LayerSetVisible'], {
    gid: _0x528442,
    visible: _0x4ad6c2
  })
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x42')] = function (
  _0x1f5d24,
  _0x12d166,
  _0x4b50b6,
  _0x30990b
) {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0x8b')], {
    visible: _0x1f5d24,
    x: _0x12d166,
    y: _0x4b50b6,
    scale: _0x30990b
  })
}
MapVision['View3d']['prototype']['StartMeasureDistance'] = function () {
  this[_0x293c('0x117')](MapVision[_0x293c('0x120')]['ToolMeasureDistance'])
}
MapVision['View3d'][_0x293c('0x39')]['StartMeasureHeight'] = function () {
  this[_0x293c('0x117')](MapVision['CommandType'][_0x293c('0xe3')])
}
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x5')] = function () {
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x36')])
}
MapVision[_0x293c('0xe9')]['prototype']['StopMeasure'] = function () {
  this['_emiUICommand'](MapVision['CommandType'][_0x293c('0x182')])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x130')] = function (
  _0x46815a
) {
  let _0x233348 = this
  _0x233348['_webSocket'] = new WebSocket(_0x46815a)
  _0x233348[_0x293c('0x1f')][_0x293c('0x5f')] = function (_0x5c724c) {
    var _0x1e5518 = JSON['parse'](_0x5c724c['data'])
    if (_0x1e5518[_0x293c('0x12c')] === _0x293c('0x121')) {
      _0x233348['_createWebRtcPlayer'](_0x233348['id'], _0x1e5518)
    } else if (_0x1e5518[_0x293c('0x12c')] === _0x293c('0xca')) {
    } else if (_0x1e5518[_0x293c('0x12c')] === _0x293c('0xcf')) {
      _0x233348[_0x293c('0x31')](_0x1e5518)
    } else if (_0x1e5518[_0x293c('0x12c')] === _0x293c('0x93')) {
      _0x233348[_0x293c('0x12f')](_0x1e5518['candidate'])
    } else {
      console['log'](_0x293c('0xdd') + _0x1e5518['type'])
    }
  }
  _0x233348[_0x293c('0x1f')][_0x293c('0x152')] = function (_0x3edd3d) {
    console['log'](_0x293c('0x6c') + JSON[_0x293c('0x155')](_0x3edd3d))
    if (_0x233348[_0x293c('0xea')]) {
      const _0x2c1356 = { code: 0x64, msg: 'webSocket\x20connenect\x20error' }
      _0x233348['_registerCallback'](_0x2c1356)
    }
  }
  _0x233348[_0x293c('0x1f')]['onclose'] = function (_0x66c9c) {
    console[_0x293c('0xad')](
      'WS\x20closed:\x20' +
        JSON['stringify'](_0x66c9c['code']) +
        '\x20-\x20' +
        _0x66c9c[_0x293c('0xff')]
    )
    _0x233348[_0x293c('0x1f')] = undefined
    let _0x3ed4d = document[_0x293c('0x11')](_0x233348['id'])
    if (_0x233348[_0x293c('0x38')]) {
      _0x3ed4d['removeChild'](_0x233348[_0x293c('0x38')]['video'])
      _0x233348['_webRtcPlayerObj'][_0x293c('0x6d')]()
      _0x233348['_webRtcPlayerObj'] = undefined
    }
    if (_0x233348[_0x293c('0xea')]) {
      const _0x566f97 = { code: 0x190, msg: _0x293c('0x9d') }
      _0x233348[_0x293c('0xea')](_0x566f97)
    }
  }
}
MapVision[_0x293c('0xe9')]['prototype']['_registerMouseEvents'] = function (
  _0x5b9b9f
) {
  let _0x12f46e = this
  _0x5b9b9f[_0x293c('0xfb')] = (_0xe76b2e) => {
    if (!_0x12f46e['enableMouse']) {
      return
    }
    _0x12f46e[_0x293c('0x9f')](
      _0xe76b2e[_0x293c('0x27')],
      _0xe76b2e['offsetY'],
      _0xe76b2e['movementX'],
      _0xe76b2e['movementY']
    )
    if (_0x12f46e[_0x293c('0x76')] && _0x12f46e[_0x293c('0x96')]) {
      _0x12f46e[_0x293c('0x96')](_0xe76b2e, _0x12f46e[_0x293c('0x168')])
    }
    _0xe76b2e['preventDefault']()
  }
  _0x5b9b9f['onmousedown'] = (_0x4c7dfe) => {
    _0x12f46e['_mouseDownStatus'] = !![]
    _0x12f46e[_0x293c('0x168')] = null
    if (!_0x12f46e['enableMouse']) {
      return
    }
    _0x12f46e['_onMouseDown'](
      _0x4c7dfe['button'],
      _0x4c7dfe[_0x293c('0x27')],
      _0x4c7dfe[_0x293c('0x15e')]
    )
    setTimeout(function () {
      if (_0x12f46e['_onMouseDownCallback']) {
        _0x12f46e[_0x293c('0xa7')](_0x4c7dfe, _0x12f46e[_0x293c('0x168')])
      }
    }, 0x64)
    _0x4c7dfe[_0x293c('0xc')]()
  }
  _0x5b9b9f['onmouseup'] = (_0x35d1f0) => {
    _0x12f46e['_mouseDownStatus'] = ![]
    if (!_0x12f46e['enableMouse']) {
      return
    }
    _0x12f46e[_0x293c('0x147')](
      _0x35d1f0[_0x293c('0x178')],
      _0x35d1f0[_0x293c('0x27')],
      _0x35d1f0[_0x293c('0x15e')]
    )
    if (_0x12f46e['_onMouseUpCallback']) {
      _0x12f46e['_onMouseUpCallback'](_0x35d1f0, _0x12f46e[_0x293c('0x168')])
    }
    _0x35d1f0['preventDefault']()
  }
  _0x5b9b9f[_0x293c('0x18b')] = (_0xeb3c51) => {
    if (!_0x12f46e['enableMouse']) {
      return
    }
    _0x12f46e[_0x293c('0x147')](
      _0xeb3c51[_0x293c('0x178')],
      _0xeb3c51[_0x293c('0x27')],
      _0xeb3c51[_0x293c('0x15e')]
    )
    _0xeb3c51[_0x293c('0xc')]()
  }
  if (_0x293c('0x73') in _0x5b9b9f) {
    _0x5b9b9f[_0x293c('0x73')] = (_0xebb97b) => {
      if (!_0x12f46e[_0x293c('0x16c')]) {
        return
      }
      _0x12f46e['_onMouseWheel'](
        _0xebb97b['wheelDelta'],
        _0xebb97b['offsetX'],
        _0xebb97b[_0x293c('0x15e')]
      )
      _0xebb97b['preventDefault']()
    }
  } else {
    _0x5b9b9f[_0x293c('0xa2')](
      'DOMMouseScroll',
      (_0x56dbdd) => {
        if (!_0x12f46e['enableMouse']) {
          return
        }
        _0x12f46e[_0x293c('0x6a')](
          _0x56dbdd[_0x293c('0x159')] * -0x78,
          _0x56dbdd[_0x293c('0x27')],
          _0x56dbdd[_0x293c('0x15e')]
        )
        _0x56dbdd[_0x293c('0xc')]()
      },
      ![]
    )
  }
  _0x5b9b9f['pressMouseButtons'] = (_0x3edb31) => {
    if (!_0x12f46e[_0x293c('0x16c')]) {
      return
    }
    _0x12f46e[_0x293c('0x110')](
      _0x3edb31[_0x293c('0x87')],
      _0x3edb31['offsetX'],
      _0x3edb31[_0x293c('0x15e')]
    )
  }
  _0x5b9b9f['releaseMouseButtons'] = (_0x3250eb) => {
    if (!_0x12f46e['enableMouse']) {
      return
    }
    _0x12f46e['_releaseMouseButtons'](
      _0x3250eb['buttons'],
      _0x3250eb['offsetX'],
      _0x3250eb[_0x293c('0x15e')]
    )
  }
  _0x5b9b9f['onmouseenter'] = (_0x50a633) => {
    if (!_0x12f46e['enableMouse']) {
      return
    }
    var _0x173ca5 = new DataView(new ArrayBuffer(0x1))
    _0x173ca5[_0x293c('0x161')](0x0, MapVision['MessageType']['MouseEnter'])
    _0x12f46e['_sendInputData'](_0x173ca5['buffer'])
    _0x5b9b9f[_0x293c('0x107')](_0x50a633)
  }
  _0x5b9b9f['onmouseleave'] = (_0x184158) => {
    if (!_0x12f46e['enableMouse']) {
      return
    }
    var _0x3ba6ab = new DataView(new ArrayBuffer(0x1))
    _0x3ba6ab['setUint8'](0x0, MapVision[_0x293c('0x43')][_0x293c('0xfe')])
    _0x12f46e[_0x293c('0xdf')](_0x3ba6ab[_0x293c('0x116')])
    _0x5b9b9f[_0x293c('0x85')](_0x184158)
  }
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x22')] = function (
  _0x3b42f7
) {}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x12a')] = function (
  _0x9fbedf
) {
  if (!_0x9fbedf) {
    return
  }
  _0x9fbedf[_0x293c('0xfb')] = (_0x43b736) => {
    _0x43b736['preventDefault']()
  }
  _0x9fbedf['onmousedown'] = (_0x53b65b) => {
    _0x53b65b['preventDefault']()
  }
  _0x9fbedf[_0x293c('0x2f')] = (_0x29b320) => {
    _0x29b320[_0x293c('0xc')]()
  }
  _0x9fbedf['oncontextmenu'] = (_0x3c6f7f) => {
    _0x3c6f7f['preventDefault']()
  }
  if (_0x293c('0x73') in _0x9fbedf) {
    _0x9fbedf[_0x293c('0x73')] = (_0x23d581) => {
      _0x23d581['preventDefault']()
    }
  } else {
    _0x9fbedf['addEventListener'](
      _0x293c('0xbc'),
      (_0x361fc4) => {
        _0x361fc4['preventDefault']()
      },
      ![]
    )
  }
  _0x9fbedf[_0x293c('0x107')] = (_0x581ded) => {}
  _0x9fbedf[_0x293c('0x85')] = (_0x3c9d02) => {}
  _0x9fbedf[_0x293c('0x11c')] = (_0x57cf69) => {}
  _0x9fbedf['onmouseleave'] = (_0x5c3194) => {}
  _0x9fbedf['onkeydown'] = (_0xf5e01a) => {}
  _0x9fbedf['onkeyup'] = (_0x5a1eb0) => {}
  _0x9fbedf['onkeypress'] = (_0x178766) => {}
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')][_0x293c('0x134')] = function () {
  let _0x1e11b3 = this
  const _0x1cb6ad = {
    BackSpace: 0x8,
    Shift: 0x10,
    Control: 0x11,
    Alt: 0x12,
    RightShift: 0xfd,
    RightControl: 0xfe,
    RightAlt: 0xff
  }
  function _0x4790e5(_0x1b1af) {
    if (
      _0x1b1af['keyCode'] === _0x1cb6ad[_0x293c('0x14')] &&
      _0x1b1af['code'] === _0x293c('0x162')
    )
      return _0x1cb6ad[_0x293c('0x15a')]
    else if (
      _0x1b1af['keyCode'] === _0x1cb6ad['Control'] &&
      _0x1b1af['code'] === _0x293c('0x131')
    )
      return _0x1cb6ad[_0x293c('0x133')]
    else if (
      _0x1b1af['keyCode'] === _0x1cb6ad[_0x293c('0x18e')] &&
      _0x1b1af[_0x293c('0xa')] === 'AltRight'
    )
      return _0x1cb6ad[_0x293c('0x10f')]
    else return _0x1b1af['keyCode']
  }
  function _0x4a0080(_0x4c003f) {
    return !(
      _0x4c003f['keyCode'] == 0x1b ||
      _0x4c003f['keyCode'] == 0x70 ||
      _0x4c003f['keyCode'] == 0x73 ||
      _0x4c003f[_0x293c('0x8e')] == 0x74 ||
      _0x4c003f[_0x293c('0x8e')] == 0xde ||
      _0x4c003f['keyCode'] == 0xba ||
      _0x4c003f['keyCode'] == 0xbc ||
      (_0x4c003f[_0x293c('0x3f')] && _0x4c003f['keyCode'] == 0x52)
    )
  }
  var _0x32d9ae = document[_0x293c('0x44')](_0x293c('0x9b'))
  var _0xf63724 = null
  if (_0x32d9ae && _0x32d9ae['length'] > 0x0) {
    _0xf63724 = _0x32d9ae[0x0]
  } else {
    _0xf63724 = document
  }
  _0xf63724['onkeydown'] = (_0x29e9a1) => {
    if (!_0x1e11b3['enableKeyboard']) {
      return
    }
    if (_0x4a0080(_0x29e9a1) == ![]) {
      _0x29e9a1[_0x293c('0xc')]()
      return
    }
    _0x1e11b3['_sendInputData'](
      new Uint8Array([
        MapVision['MessageType']['KeyDown'],
        _0x4790e5(_0x29e9a1),
        _0x29e9a1[_0x293c('0x102')]
      ])[_0x293c('0x116')]
    )
    if (_0x29e9a1['keyCode'] === _0x1cb6ad['BackSpace']) {
      _0xf63724['onkeypress']({ charCode: _0x1cb6ad[_0x293c('0xb9')] })
    }
  }
  _0xf63724['onkeyup'] = (_0x1c6bae) => {
    console['log']('key\x20up\x20' + _0x1c6bae[_0x293c('0x8e')])
    if (!_0x1e11b3[_0x293c('0x142')]) {
      return
    }
    if (_0x4a0080(_0x1c6bae) == ![]) {
      _0x1c6bae['preventDefault']()
      return
    }
    _0x1e11b3['_sendInputData'](
      new Uint8Array([
        MapVision['MessageType'][_0x293c('0x95')],
        _0x4790e5(_0x1c6bae)
      ])['buffer']
    )
  }
  _0xf63724[_0x293c('0x188')] = (_0x286a78) => {
    if (!_0x1e11b3[_0x293c('0x142')]) {
      return
    }
    if (_0x4a0080(_0x286a78) == ![]) {
      _0x286a78[_0x293c('0xc')]()
      return
    }
    let _0x4fed6e = new DataView(new ArrayBuffer(0x3))
    _0x4fed6e['setUint8'](0x0, MapVision[_0x293c('0x43')][_0x293c('0x185')])
    _0x4fed6e[_0x293c('0x78')](0x1, _0x286a78[_0x293c('0x128')], !![])
    _0x1e11b3['_sendInputData'](_0x4fed6e[_0x293c('0x116')])
  }
}
MapVision['View3d']['prototype']['_createWebRtcPlayer'] = function (
  _0x41064e,
  _0x551585
) {
  let _0x54703b = this
  _0x54703b[_0x293c('0xec')] = document['getElementById'](_0x41064e)
  _0x54703b[_0x293c('0x38')] = new webRtcPlayer({
    peerConnectionOptions: _0x551585['peerConnectionOptions']
  })
  _0x54703b['_webRtcPlayerHtmlElement'][_0x293c('0x86')]['visibility'] =
    'hidden'
  let _0x1642d4 = _0x54703b[_0x293c('0xec')]
  _0x1642d4[_0x293c('0x16b')](_0x54703b[_0x293c('0x38')][_0x293c('0xc2')])
  _0x54703b['_webRtcPlayerObj'][_0x293c('0xc2')]['style']['width'] = '100%'
  _0x54703b[_0x293c('0x38')]['video'][_0x293c('0x86')][_0x293c('0x17f')] =
    '100%'
  _0x54703b['_webRtcPlayerObj'][_0x293c('0xc2')]['style']['left'] = '0px'
  _0x54703b[_0x293c('0x38')][_0x293c('0xc2')][_0x293c('0x86')]['top'] = '0px'
  _0x54703b[_0x293c('0x38')]['video'][_0x293c('0x86')][_0x293c('0x4c')] =
    _0x293c('0x129')
  _0x54703b['_webRtcPlayerObj']['video'][_0x293c('0x86')]['display'] = 'block'
  _0x54703b[_0x293c('0x38')]['video'][_0x293c('0x86')][_0x293c('0x100')] =
    _0x293c('0xdc')
  _0x54703b[_0x293c('0x38')]['onWebRtcOffer'] = function (_0x4f80bb) {
    if (
      _0x54703b['_webSocket'] &&
      _0x54703b['_webSocket'][_0x293c('0x126')] === MapVision[_0x293c('0xe6')]
    ) {
      let _0x4012aa = JSON['stringify'](_0x4f80bb)
      _0x54703b['_webSocket']['send'](_0x4012aa)
    }
  }
  _0x54703b['_webRtcPlayerObj']['onWebRtcCandidate'] = function (_0x2c6a7f) {
    if (
      _0x54703b['_webSocket'] &&
      _0x54703b['_webSocket']['readyState'] === MapVision[_0x293c('0xe6')]
    ) {
      console[_0x293c('0xad')](
        '->\x20SS:\x20iceCandidate\x0a' +
          JSON[_0x293c('0x155')](_0x2c6a7f, undefined, 0x4)
      )
      _0x54703b['_webSocket'][_0x293c('0x32')](
        JSON['stringify']({ type: _0x293c('0x93'), candidate: _0x2c6a7f })
      )
    }
  }
  _0x54703b['_webRtcPlayerObj'][_0x293c('0x187')] = function () {
    if (
      _0x54703b[_0x293c('0x1f')] &&
      _0x54703b[_0x293c('0x1f')][_0x293c('0x126')] ===
        MapVision['WS_OPEN_STATE']
    ) {
      if (_0x54703b[_0x293c('0x38')]) {
        _0x54703b[_0x293c('0x38')]['video'][_0x293c('0xf6')] = !![]
        setTimeout(function () {
          _0x54703b[_0x293c('0x82')]()
          _0x54703b['_requestQualityControl']()
          _0x54703b['_webRtcPlayerObj']['video']['play']()
        }, 0x32)
      }
    }
  }
  _0x54703b['_webRtcPlayerObj']['onDataChannelConnected'] = function () {
    if (
      _0x54703b[_0x293c('0x1f')] &&
      _0x54703b['_webSocket']['readyState'] === MapVision[_0x293c('0xe6')]
    ) {
      if (
        _0x54703b[_0x293c('0x38')]['video'] &&
        _0x54703b[_0x293c('0x38')]['video'][_0x293c('0x108')] &&
        _0x54703b['_webRtcPlayerObj']['onVideoInitialised']
      ) {
        _0x54703b[_0x293c('0x38')][_0x293c('0x187')]()
      }
      if (_0x54703b[_0x293c('0xea')]) {
        const _0x3d4005 = { code: 0xc8, msg: _0x293c('0x9c') }
        _0x54703b['_registerCallback'](_0x3d4005)
      }
      _0x54703b[_0x293c('0xec')][_0x293c('0x86')]['visibility'] = 'visible'
    }
  }
  _0x54703b['_webRtcPlayerObj'][_0x293c('0xb6')] = function (_0x307d5b) {
    var _0x11b7dd = new Uint8Array(_0x307d5b)
    var _0x46787b = _0x11b7dd[0x0]
    if (_0x46787b === MapVision[_0x293c('0xd5')][_0x293c('0x106')]) {
      let _0x59426a = new TextDecoder(_0x293c('0x21'))['decode'](
        _0x307d5b['slice'](0x1)
      )
      console['log'](_0x293c('0x13c') + _0x59426a)
    } else if (
      _0x46787b === MapVision['ToClientMessageType'][_0x293c('0x28')]
    ) {
      let _0x340daf = new TextDecoder(_0x293c('0x21'))[_0x293c('0x11a')](
        _0x307d5b[_0x293c('0x75')](0x1)
      )
      let _0x190540 = JSON[_0x293c('0x6b')](_0x340daf)
      const _0x38fba1 = _0x190540['cmd']
      if (_0x38fba1 && _0x54703b['_callback'][_0x38fba1]) {
        delete _0x190540[_0x293c('0x157')]
        if (_0x190540[_0x293c('0x5b')]) {
          _0x54703b[_0x293c('0xf2')][_0x38fba1](_0x190540[_0x293c('0x5b')])
        } else {
          _0x54703b['_callback'][_0x38fba1](_0x190540)
        }
      }
      if (_0x190540 && _0x190540[_0x293c('0x18c')]) {
        _0x54703b[_0x293c('0x168')] = _0x190540
      }
    } else if (_0x46787b === MapVision[_0x293c('0xd5')]['Command']) {
      let _0x597b20 = new TextDecoder('utf-16')['decode'](
        _0x307d5b['slice'](0x1)
      )
      console[_0x293c('0xad')](_0x293c('0xe4') + _0x597b20)
    } else if (_0x46787b === MapVision[_0x293c('0xd5')]['FreezeFrame']) {
      let _0xdba900 = new TextDecoder('utf-16')['decode'](
        _0x307d5b['slice'](0x1)
      )
      console['log'](_0x293c('0xfa') + _0xdba900)
    } else if (_0x46787b === MapVision[_0x293c('0xd5')]['UnfreezeFrame']) {
      let _0x536fd3 = new TextDecoder(_0x293c('0x21'))['decode'](
        _0x307d5b['slice'](0x1)
      )
      console['log'](_0x293c('0x7b') + _0x536fd3)
    }
  }
  _0x54703b[_0x293c('0x62')](_0x1642d4)
  _0x54703b['_registerTouchEvents'](_0x1642d4)
  _0x54703b['_registerKeyboardEvents'](_0x1642d4)
  _0x54703b[_0x293c('0x38')]['createOffer']()
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['_sendInputData'] = function (
  _0x17d428
) {
  if (this[_0x293c('0x38')]) {
    this['_webRtcPlayerObj']['send'](_0x17d428)
  } else {
    console['log'](_0x293c('0x125'))
  }
}
MapVision['View3d'][_0x293c('0x39')]['_emitDescriptor'] = function (
  _0xa041e,
  _0x3e52bc
) {
  let _0x14955e = JSON[_0x293c('0x155')](_0x3e52bc)
  let _0x55952f = new DataView(
    new ArrayBuffer(0x1 + 0x2 + 0x2 * _0x14955e[_0x293c('0xf')])
  )
  let _0x4d97e8 = 0x0
  _0x55952f[_0x293c('0x161')](_0x4d97e8, _0xa041e)
  _0x4d97e8++
  _0x55952f[_0x293c('0x78')](_0x4d97e8, _0x14955e[_0x293c('0xf')], !![])
  _0x4d97e8 += 0x2
  for (let _0x2082d6 = 0x0; _0x2082d6 < _0x14955e['length']; _0x2082d6++) {
    _0x55952f['setUint16'](_0x4d97e8, _0x14955e['charCodeAt'](_0x2082d6), !![])
    _0x4d97e8 += 0x2
  }
  this[_0x293c('0xdf')](_0x55952f['buffer'])
}
MapVision['View3d']['prototype']['_emiUICommand'] = function (
  _0x159023,
  _0x3fd139
) {
  this['_command'] = _0x159023
  const _0x2f9864 = { cmd: _0x159023, data: _0x3fd139 }
  this['_emitDescriptor'](MapVision['MessageType']['UIInteraction'], _0x2f9864)
}
MapVision['View3d']['prototype'][_0x293c('0x82')] = function () {
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision['MessageType']['RequestInitialSettings']])[
      'buffer'
    ]
  )
}
MapVision['View3d'][_0x293c('0x39')]['_requestQualityControl'] = function () {
  this[_0x293c('0xdf')](
    new Uint8Array([MapVision[_0x293c('0x43')]['RequestQualityControl']])[
      _0x293c('0x116')
    ]
  )
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['_onMouseMove'] = function (
  _0x2110bf,
  _0x54e7fa,
  _0x44b6dd,
  _0x3d6f65
) {
  let _0x41a881 = this
  if (!_0x41a881['_webSocket']) {
    return
  }
  let _0x6da6af = _0x41a881[_0x293c('0x7a')](_0x2110bf, _0x54e7fa)
  let _0x3d0c55 = _0x41a881['_normalizeAndQuantizeSigned'](_0x44b6dd, _0x3d6f65)
  var _0x173570 = new DataView(new ArrayBuffer(0x9))
  _0x173570['setUint8'](0x0, MapVision['MessageType'][_0x293c('0x103')])
  _0x173570[_0x293c('0x78')](0x1, _0x6da6af['x'], !![])
  _0x173570[_0x293c('0x78')](0x3, _0x6da6af['y'], !![])
  _0x173570['setInt16'](0x5, _0x3d0c55['x'], !![])
  _0x173570['setInt16'](0x7, _0x3d0c55['y'], !![])
  _0x41a881['_sendInputData'](_0x173570['buffer'])
}
MapVision[_0x293c('0xe9')][_0x293c('0x39')]['_onMouseDown'] = function (
  _0x451158,
  _0x49e122,
  _0x5a1741
) {
  let _0xbdb49c = this
  if (!_0xbdb49c[_0x293c('0x1f')]) {
    return
  }
  let _0x370c10 = _0xbdb49c[_0x293c('0x7a')](_0x49e122, _0x5a1741)
  var _0x5d0896 = new DataView(new ArrayBuffer(0x6))
  _0x5d0896['setUint8'](0x0, MapVision['MessageType']['MouseDown'])
  _0x5d0896['setUint8'](0x1, _0x451158)
  _0x5d0896[_0x293c('0x78')](0x2, _0x370c10['x'], !![])
  _0x5d0896[_0x293c('0x78')](0x4, _0x370c10['y'], !![])
  _0xbdb49c[_0x293c('0xdf')](_0x5d0896['buffer'])
}
MapVision[_0x293c('0xe9')]['prototype']['_onMouseUp'] = function (
  _0x3fa6f8,
  _0x341b06,
  _0x2126bc
) {
  let _0x416152 = this
  if (!_0x416152[_0x293c('0x1f')]) {
    return
  }
  let _0x42b642 = _0x416152[_0x293c('0x7a')](_0x341b06, _0x2126bc)
  var _0x131e36 = new DataView(new ArrayBuffer(0x6))
  _0x131e36[_0x293c('0x161')](0x0, MapVision['MessageType']['MouseUp'])
  _0x131e36['setUint8'](0x1, _0x3fa6f8)
  _0x131e36[_0x293c('0x78')](0x2, _0x42b642['x'], !![])
  _0x131e36['setUint16'](0x4, _0x42b642['y'], !![])
  _0x416152[_0x293c('0xdf')](_0x131e36[_0x293c('0x116')])
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x6a')] = function (
  _0x39b962,
  _0x1f3ab5,
  _0x4e6840
) {
  let _0x3187ae = this
  if (!_0x3187ae[_0x293c('0x1f')]) {
    return
  }
  let _0x1a59eb = _0x3187ae[_0x293c('0x7a')](_0x1f3ab5, _0x4e6840)
  var _0x4ef31b = new DataView(new ArrayBuffer(0x7))
  _0x4ef31b['setUint8'](0x0, MapVision[_0x293c('0x43')][_0x293c('0x144')])
  _0x4ef31b[_0x293c('0xc3')](0x1, _0x39b962, !![])
  _0x4ef31b[_0x293c('0x78')](0x3, _0x1a59eb['x'], !![])
  _0x4ef31b['setUint16'](0x5, _0x1a59eb['y'], !![])
  _0x3187ae[_0x293c('0xdf')](_0x4ef31b['buffer'])
}
MapVision['View3d']['prototype']['_releaseMouseButtons'] = function (
  _0x49fef6,
  _0x23a0b9,
  _0xcbfbeb
) {
  if (_0x49fef6 & MapVision['MouseButtonsMask']['PrimaryButton']) {
    this[_0x293c('0x147')](
      MapVision['MouseButton'][_0x293c('0x12b')],
      _0x23a0b9,
      _0xcbfbeb
    )
  }
  if (_0x49fef6 & MapVision[_0x293c('0x14d')]['SecondaryButton']) {
    this[_0x293c('0x147')](
      MapVision[_0x293c('0x60')]['SecondaryButton'],
      _0x23a0b9,
      _0xcbfbeb
    )
  }
  if (_0x49fef6 & MapVision[_0x293c('0x14d')][_0x293c('0x20')]) {
    this['_onMouseUp'](
      MapVision[_0x293c('0x60')][_0x293c('0x20')],
      _0x23a0b9,
      _0xcbfbeb
    )
  }
  if (_0x49fef6 & MapVision['MouseButtonsMask'][_0x293c('0x23')]) {
    this['_onMouseUp'](
      MapVision['MouseButton']['FourthButton'],
      _0x23a0b9,
      _0xcbfbeb
    )
  }
  if (_0x49fef6 & MapVision[_0x293c('0x14d')]['FifthButton']) {
    this[_0x293c('0x147')](
      MapVision[_0x293c('0x60')]['FifthButton'],
      _0x23a0b9,
      _0xcbfbeb
    )
  }
}
MapVision[_0x293c('0xe9')]['prototype']['_pressMouseButtons'] = function (
  _0x278e01,
  _0x2d5436,
  _0x45c0a9
) {
  if (_0x278e01 & MapVision['MouseButtonsMask']['PrimaryButton']) {
    this[_0x293c('0xed')](
      MapVision[_0x293c('0x60')]['MainButton'],
      _0x2d5436,
      _0x45c0a9
    )
  }
  if (_0x278e01 & MapVision[_0x293c('0x14d')][_0x293c('0x29')]) {
    this[_0x293c('0xed')](
      MapVision[_0x293c('0x60')]['SecondaryButton'],
      _0x2d5436,
      _0x45c0a9
    )
  }
  if (_0x278e01 & MapVision['MouseButtonsMask']['AuxiliaryButton']) {
    this['_onMouseDown'](
      MapVision[_0x293c('0x60')]['AuxiliaryButton'],
      _0x2d5436,
      _0x45c0a9
    )
  }
  if (_0x278e01 & MapVision[_0x293c('0x14d')]['FourthButton']) {
    this[_0x293c('0xed')](
      MapVision[_0x293c('0x60')][_0x293c('0x23')],
      _0x2d5436,
      _0x45c0a9
    )
  }
  if (_0x278e01 & MapVision[_0x293c('0x14d')][_0x293c('0x140')]) {
    this['_onMouseDown'](
      MapVision['MouseButton']['FifthButton'],
      _0x2d5436,
      _0x45c0a9
    )
  }
}
MapVision['View3d'][_0x293c('0x39')]['_normalizeAndQuantizeUnsigned'] =
  function (_0x5dd64c, _0x1d6fc4) {
    let _0x4ad164 = this
    if (!_0x4ad164['_webSocket']) {
      return { inRange: ![], x: 0xffff, y: 0xffff }
    }
    let _0x264da4 = _0x4ad164['_webRtcPlayerHtmlElement']
    let _0x15e820 = _0x4ad164[_0x293c('0x38')]['video']
    let _0x4db4ca = _0x264da4[_0x293c('0x17')] / _0x264da4['clientWidth']
    let _0x103588 = _0x15e820[_0x293c('0x7c')] / _0x15e820[_0x293c('0xf3')]
    _0x103588 = _0x4db4ca
    if (_0x4db4ca > _0x103588) {
      let _0x1af1d5 = _0x4db4ca / _0x103588
      let _0x2d175b = _0x5dd64c / _0x264da4[_0x293c('0x9e')]
      let _0x2f9be6 =
        _0x1af1d5 * (_0x1d6fc4 / _0x264da4['clientHeight'] - 0.5) + 0.5
      if (
        _0x2d175b < 0x0 ||
        _0x2d175b > 0x1 ||
        _0x2f9be6 < 0x0 ||
        _0x2f9be6 > 0x1
      ) {
        return { inRange: ![], x: 0xffff, y: 0xffff }
      } else {
        return { inRange: !![], x: _0x2d175b * 0x10000, y: _0x2f9be6 * 0x10000 }
      }
    } else {
      let _0x2c5610 = _0x103588 / _0x4db4ca
      let _0x2df0eb =
        _0x2c5610 * (_0x5dd64c / _0x264da4[_0x293c('0x9e')] - 0.5) + 0.5
      let _0xbde87d = _0x1d6fc4 / _0x264da4['clientHeight']
      if (
        _0x2df0eb < 0x0 ||
        _0x2df0eb > 0x1 ||
        _0xbde87d < 0x0 ||
        _0xbde87d > 0x1
      ) {
        return { inRange: ![], x: 0xffff, y: 0xffff }
      } else {
        return { inRange: !![], x: _0x2df0eb * 0x10000, y: _0xbde87d * 0x10000 }
      }
    }
  }
MapVision['View3d']['prototype']['_normalizeAndQuantizeSigned'] = function (
  _0x4aabd8,
  _0x376bac
) {
  let _0x11e4eb = this
  if (!_0x11e4eb[_0x293c('0x1f')]) {
    return { inRange: ![], x: 0xffff, y: 0xffff }
  }
  let _0x5ab322 = _0x11e4eb['_webRtcPlayerHtmlElement']
  let _0x50f5f3 = _0x11e4eb[_0x293c('0x38')]['video']
  let _0x3bad79 = _0x5ab322['clientHeight'] / _0x5ab322[_0x293c('0x9e')]
  let _0x538b71 = _0x50f5f3['videoHeight'] / _0x50f5f3[_0x293c('0xf3')]
  _0x538b71 = _0x3bad79
  if (_0x3bad79 > _0x538b71) {
    let _0x8c87d4 = _0x3bad79 / _0x538b71
    let _0x50b54d = _0x4aabd8 / (0.5 * _0x5ab322[_0x293c('0x9e')])
    let _0xfd38c = (_0x8c87d4 * _0x376bac) / (0.5 * _0x5ab322[_0x293c('0x17')])
    return { x: _0x50b54d * 0x7fff, y: _0xfd38c * 0x7fff }
  } else {
    let _0x2ed89c = _0x538b71 / _0x3bad79
    let _0x236412 = (_0x2ed89c * _0x4aabd8) / (0.5 * _0x5ab322[_0x293c('0x9e')])
    let _0x53ccb = _0x376bac / (0.5 * _0x5ab322[_0x293c('0x17')])
    return { x: _0x236412 * 0x7fff, y: _0x53ccb * 0x7fff }
  }
}
MapVision[_0x293c('0xe9')]['prototype']['_unquantizeAndDenormalizeUnsigned'] =
  function (_0x1b4130, _0x47e898) {
    let _0x5f53cf = this
    if (!_0x5f53cf['_webSocket']) {
      return { inRange: ![], x: 0xffff, y: 0xffff }
    }
    let _0x43f927 = _0x5f53cf['_webRtcPlayerHtmlElement']
    let _0x15f372 = _0x5f53cf['_webRtcPlayerObj'][_0x293c('0xc2')]
    let _0xddd77c = _0x43f927['clientHeight'] / _0x43f927[_0x293c('0x9e')]
    let _0x4785ee = _0x15f372['videoHeight'] / _0x15f372[_0x293c('0xf3')]
    if (_0xddd77c > _0x4785ee) {
      let _0x282672 = _0xddd77c / _0x4785ee
      let _0x5d46a7 = _0x1b4130 / 0x10000
      let _0x5ca39b = (_0x47e898 / 0x10000 - 0.5) / _0x282672 + 0.5
      return {
        x: _0x5d46a7 * _0x43f927['clientWidth'],
        y: _0x5ca39b * _0x43f927[_0x293c('0x17')]
      }
    } else {
      let _0x79e813 = (_0x1b4130 / 0x10000 - 0.5) / ratio + 0.5
      let _0x36e451 = _0x47e898 / 0x10000
      return {
        x: _0x79e813 * _0x43f927[_0x293c('0x9e')],
        y: _0x36e451 * _0x43f927[_0x293c('0x17')]
      }
    }
  }
MapVision[_0x293c('0xe9')]['prototype'][_0x293c('0x31')] = function (
  _0x192cb2
) {
  this[_0x293c('0x38')][_0x293c('0x17a')](_0x192cb2)
  this[_0x293c('0x38')]['onAggregatedStats'] = (_0x4111ec) => {}
  this[_0x293c('0x38')]['aggregateStats'](0x1 * 0x3e8)
}
MapVision[_0x293c('0xe9')]['prototype']['_onWebRtcIce'] = function (_0x57ff9b) {
  if (this['_webRtcPlayerObj'])
    this[_0x293c('0x38')][_0x293c('0x81')](_0x57ff9b)
}
MapVision['View3d'][_0x293c('0x39')][_0x293c('0x3d')] = function (
  _0x4d94e4,
  _0x4f60d8,
  _0x409efd
) {
  var _0x26abc8 = null
  if (window[_0x293c('0x7f')]) {
    _0x26abc8 = new XMLHttpRequest()
  } else if (window[_0x293c('0x10e')]) {
    _0x26abc8 = new ActiveXObject(_0x293c('0xa9'))
  }
  if (_0x26abc8 == null) {
    alert(_0x293c('0x6f'))
    return
  }
  var _0x434346 = (_0x4d94e4['type'] || _0x293c('0x158'))['toUpperCase']()
  var _0xc39f50 = _0x4d94e4['dataType'] || 'json'
  var _0x48802d = _0x4d94e4[_0x293c('0xd0')] || ''
  var _0x430245 = _0x4d94e4[_0x293c('0x139')] || !![]
  var _0x3202bc = _0x4d94e4['data'] || []
  var _0xf1d592 = ''
  for (var _0x4d5adc in _0x3202bc) {
    _0xf1d592 += _0x4d5adc + '=' + _0x3202bc[_0x4d5adc] + '&'
  }
  _0xf1d592 =
    _0xf1d592 == ''
      ? ''
      : _0xf1d592['substring'](0x0, _0xf1d592[_0x293c('0xf')] - 0x1)
  console['log'](_0xf1d592)
  _0x26abc8['onreadystatechange'] = function () {
    if (_0x26abc8[_0x293c('0x126')] == 0x4 && _0x26abc8['status'] == 0xc8) {
      var _0x210f75 = JSON['parse'](_0x26abc8['responseText'])
      _0x4f60d8(_0x210f75)
    } else {
      _0x409efd
    }
  }
  if (_0x434346 == 'GET') {
    _0x26abc8[_0x293c('0xc6')](_0x293c('0x158'), _0x48802d, _0x430245)
    _0x26abc8['send'](null)
  } else if (_0x434346 == 'POST') {
    _0x26abc8[_0x293c('0xc6')]('POST', _0x48802d, _0x430245)
    _0x26abc8['setRequestHeader']('Content-type', _0x293c('0x15b'))
    _0x26abc8[_0x293c('0x32')](_0xf1d592)
  }
}
